(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1179c373"],{"7a9f":function(t,e,i){"use strict";var o=i("cb2f"),s=i.n(o);s.a},cb2f:function(t,e,i){},f437:function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mr24"},[i("a-card",{attrs:{bordered:!1,title:"订单号:"+t.detail.tid}},[i("div",{staticClass:"det-goods"},[i("a-table",{attrs:{scroll:{x:1100,y:700},pagination:t.page,columns:t.columns,dataSource:t.data},scopedSlots:t._u([{key:"goods_image",fn:function(t,e){return i("div",{},[i("div",[i("img",{attrs:{width:"60px",src:e.goods_image,alt:""}})])])}},{key:"goods_price",fn:function(e,o){return i("span",{},[t._v("\n            ￥"+t._s(e)+"\n          ")])}},{key:"total_fee",fn:function(e,o){return i("span",{},[t._v(" ￥"+t._s(e)+" ")])}}])})],1)]),i("a-card",{attrs:{bordered:!1,title:"填写发货信息"}},[i("a-row",[i("a-col",{attrs:{md:12,xs:24}},[i("div",{staticClass:"userInfo"},[i("a-row",[i("a-col",{attrs:{xs:12,md:8}},[t._v("\n                收货人:\n              ")]),i("a-col",{attrs:{xs:12,md:8}},[t._v("\n                "+t._s(t.detail.receiver_name)+"\n              ")])],1),i("a-row",[i("a-col",{attrs:{xs:12,md:8}},[t._v("\n                收货人手机:\n              ")]),i("a-col",{attrs:{xs:12,md:8}},[t._v("\n                "+t._s(t.detail.receiver_tel)+"\n              ")])],1),i("a-row",[i("a-col",{attrs:{xs:12,md:8}},[t._v("\n                所在地:\n              ")]),i("a-col",{attrs:{xs:12,md:8}},[t._v("\n                "+t._s(t.detail.receiver_province)+"\n                "+t._s(t.detail.receiver_city)+"\n                "+t._s(t.detail.receiver_county)+"\n              ")])],1),i("a-row",[i("a-col",{attrs:{xs:12,md:8}},[t._v("\n                收货地址:\n              ")]),i("a-col",{attrs:{xs:12,md:8}},[t._v("\n                "+t._s(t.detail.receiver_address)+"\n              ")])],1),i("a-row",[i("a-col",{attrs:{xs:12,md:8}},[t._v("\n                邮编:\n              ")]),i("a-col",{attrs:{xs:12,md:8}},[t._v("\n                "+t._s(t.detail.receiver_zip)+"\n              ")])],1)],1)]),i("a-col",{attrs:{md:12,xs:24}},[i("div",{staticClass:"det-remark"},[i("div",{staticClass:"buyer"},[i("div",{staticClass:"fs16"},[t._v("配送方式：")]),i("div",{staticClass:"buyer-info"},[t._v("\n                快递\n              ")])]),i("div",{staticClass:"mb20"},[i("div",{staticClass:"fs16"},[t._v("物流公司：")]),i("a-select",{staticStyle:{width:"300px"},attrs:{"show-search":"","filter-option":t.SltFilterOption,showSearch:"",allowClear:"",optionFilterProp:"children"},on:{popupScroll:t.handleScroll,change:t.onChange,focus:t.onFocus,blur:t.onBlur,search:t.onSearch},model:{value:t.formItem.corp_code,callback:function(e){t.$set(t.formItem,"corp_code",e)},expression:"formItem.corp_code"}},t._l(t.optionData,(function(e,o){return i("a-select-option",{key:o,attrs:{value:e.corp_code}},[t._v(t._s(e.corp_name))])})),1)],1),i("div",[i("div",{staticClass:"fs16"},[t._v("快递单号：")]),i("a-input",{staticStyle:{width:"300px"},model:{value:t.formItem.logi_no,callback:function(e){t.$set(t.formItem,"logi_no",e)},expression:"formItem.logi_no"}})],1)])])],1),i("div",{staticClass:"delivery_btn"},[i("a-button",{attrs:{type:"primary"},on:{click:t.subDelivery}},[t._v("确认提交")])],1)],1)],1)},s=[],a=(i("5ab2"),i("e10e"),i("6d57"),i("ce3c")),n=i("9f3a");function r(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function c(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(Object(i),!0).forEach((function(e){Object(a["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var l=[{dataIndex:"goods_image",title:"商品图片",key:"goods_image",scopedSlots:{customRender:"goods_image"}},{title:"商品名称",dataIndex:"goods_name",key:"goods_name"},{title:"商品货号",dataIndex:"goods_serial",key:"goods_serial"},{title:"商品价格",dataIndex:"goods_price",key:"goods_price",scopedSlots:{customRender:"goods_price"}},{title:"商品数量",dataIndex:"quantity",key:"quantity"},{title:"商品总价",dataIndex:"total_fee",key:"total_fee",scopedSlots:{customRender:"total_fee"}}],d={name:"detail",computed:c({},Object(n["c"])({detail:function(t){return t.trade.detail},logistics:function(t){return t.trade.logistics}})),data:function(){return{initData:[],pageSize:100,scrollPage:1,keyWords:"",optionData:[],stepCurrent:0,data:[],columns:l,page:!1,formItem:{corp_code:"",tid:"",logi_no:""}}},methods:c(c({},Object(n["b"])({getDetail:"trade/getDetail",logisticsLists:"trade/logisticsLists",addLogistics:"trade/addLogistics"})),{},{onChange:function(t){console.log("selected ".concat(t))},onBlur:function(){console.log("blur"),this.optionData=this.initData},onFocus:function(){console.log("focus")},onSearch:function(t){if(console.log("search",t),!this.timer){var e=this;this.timer=setTimeout((function(){e.searchValue(t),e.timer=null}),300)}this.keyWords=t},searchValue:function(t){var e=this.logistics.filter((function(e){return e.corp_name.indexOf(t)>-1}));(e.length>100||""===t)&&(e=e.slice(0,100)),this.optionData=e},loadOption:function(t){var e,i=this,o=this.pageSize*(t||1),s=[];if(e=this.logistics.length>o?o:this.logistics.length,this.keyWords){var a=this.logistics.filter((function(t){return t.corp_name.indexOf(i.keyWords)>-1}))||[];a.forEach((function(t,i){i<e&&s.push(t)}))}else this.logistics.forEach((function(t,i){i<e&&s.push(t)}));this.optionData=s},handleScroll:function(t){var e=t.target,i=e.scrollHeight-e.scrollTop,o=e.clientHeight;0===i&&0===o?this.scrollPage=1:i<o+5&&(this.scrollPage=this.scrollPage+1,this.loadOption(this.scrollPage+1))},initDet:function(){this.data=this.detail.trade_order,this.formItem.tid=this.detail.tid},subDelivery:function(){this.addLogistics({formItem:this.formItem})}}),mounted:function(){this.getDetail({id:this.$route.params.id}),this.logisticsLists({per_page:99999})},watch:{logistics:function(){this.initData=this.logistics.slice(0,100),this.optionData=this.logistics.slice(0,100)},detail:function(){this.initDet()}}},u=d,f=(i("7a9f"),i("9ca4")),p=Object(f["a"])(u,o,s,!1,null,"bca1ebc2",null);e["default"]=p.exports}}]);