(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fcb8cdc4"],{"71ee":function(t,e,r){"use strict";var a=r("82c9"),i=r.n(a);i.a},"82c9":function(t,e,r){},a89c:function(t,e,r){"use strict";r.r(e);var a,i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"content"},[r("div",{staticClass:"mb20"},[r("div",{staticClass:"list-nav"},[r("div",[r("a-button",{attrs:{type:"primary",icon:"download"},on:{click:t.exportTable}},[t._v("导出")]),r("a-button",{attrs:{type:"primary",icon:"filter"},on:{click:t.filterAlert}},[t._v("筛选")])],1)])]),r("div",{staticClass:"total"},t._l(t.total_data,(function(e,a){return r("span",{key:a,staticClass:"span"},[t._v(t._s(e.title+": ")),r("span",{staticClass:"text"},[t._v(t._s(e.value))])])})),0),t.listField&&t.listField.length>0?[r("a-table",{attrs:{scroll:{x:1600,y:700},columns:t.listField,dataSource:t.listsData,pagination:!1},scopedSlots:t._u([{key:"action",fn:function(e,a){return r("div",{},[r("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.goDetails(a)}}},[t._v("查看")])])}}],null,!1,2974195240)}),0!==t.listsData.length?r("div",{staticClass:"pageBox"},[r("a-pagination",{attrs:{total:t.pages.total,showTotal:function(t){return"共 "+t+" 条数据"},pageSize:t.pages.per_page},on:{change:t.pageChange},model:{value:t.currentPages,callback:function(e){t.currentPages=e},expression:"currentPages"}})],1):t._e()]:t._e(),r("a-modal",{attrs:{title:t.title},on:{ok:t.filterOk,cancel:t.filterCancel},model:{value:t.exportModel,callback:function(e){t.exportModel=e},expression:"exportModel"}},[r("a-form-item",{attrs:{label:"确认收货时间:","label-col":{md:6,xs:24},"wrapper-col":{md:18,xs:24}}},[t.timeVisible?r("a-range-picker",{attrs:{"show-time":{format:"HH:mm"},format:"YYYY-MM-DD HH:mm",placeholder:["开始时间","结束时间"]},on:{change:t.timeChange,ok:t.timeOk}}):t._e()],1)],1)],2)},s=[],n=(r("5ab2"),r("6d57"),r("e10e"),r("ce3c")),o=r("9f3a");function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach((function(e){Object(n["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var u={computed:l({},Object(o["c"])({listsData:function(t){return t.trade.confirmOrderData},pages:function(t){return t.trade.confirmOrderPages},listField:function(t){return t.trade.confirmOrderFields},exportData:function(t){return t.trade.exportData},total_data:function(t){return t.trade.total_fee_data}})),data:function(){return{getData:{page:1},searchObj:{select:"name",param:{},value:""},exportForm:{status:"-1",page:"1"},currentParam:{},filterParams:{},afterStatus:[{title:"全部",key:"-1"},{title:"已处理",key:"2"},{title:"处理中",key:"1"},{title:"待处理",key:"0"},{title:"已驳回",key:"3"}],exportModel:!1,isFillter:!1,currentAct:"-1",currentPages:1,title:"售后列表筛选",timeVisible:!0}},methods:l(l({},Object(o["b"])({fetchLists:"trade/confirmOrderList",exportFilter:"trade/exportconfirmOrder"})),{},(a={pageChange:function(t){var e=this.isFillter?this.filterParams:this.currentParam;e.status=e.status>=0?e.status:"",e.page=t,this.fetchLists(e)},formatJson:function(t,e){return e.map((function(e){return t.map((function(t){return e[t]}))}))},goDetails:function(t){var e="/trade/afterSales/detail/".concat(t.aftersales_bn),r=this.$router.resolve({path:e});window.open(r.href,"_blank")},exportTable:function(){var t=this;this.exportModel=!0,this.type="export",this.title="确认收货列表导出",this.timeVisible=!1,this.$nextTick((function(){t.timeVisible=!0}))},dataHandleOk:function(){0==Object.keys(this.exportForm).length?this.$warning({title:"温馨提示！",content:"需选择导出条件才可导出数据"}):(this.exportLoading=!0,this.exportFilter({exportForm:this.exportForm}))},orderCallback:function(){this.exportLoading=!1,this.dataVisible=!1,this.exportPathMethod(this.exportData),this.exportForm={},this.timeItem={},this.timeHide=!1}},Object(n["a"])(a,"formatJson",(function(t,e){return e.map((function(e){return t.map((function(t){return e[t]}))}))})),Object(n["a"])(a,"exportPathMethod",(function(t){this.$success({title:"温馨提示！",content:"数据正在导出,请稍后查看下载目录！"});var e=t.order.tHeader,a=t.order.filterVal,i=t.order.list,s=this.formatJson(a,i);Promise.all([r.e("chunk-87d7ce5a"),r.e("chunk-c52ffaa2"),r.e("chunk-23853d05")]).then(r.bind(null,"4bf8")).then((function(t){t.export_json_to_excel({header:e,data:s,filename:"门店端确认收货列表",autoWidth:!0,bookType:"xlsx"})}))})),Object(n["a"])(a,"toSearch",(function(){this.searchObj.value?(this.currentParam={},this.currentParam.tid=this.searchObj.value,this.fetchLists({page:1,tid:this.searchObj.value})):this.$message.info("订单号不能为空")})),Object(n["a"])(a,"tabClick",(function(t){console.log(t),this.exportForm.status=t,this.currentAct=t,this.currentParam={},this.currentParam.status=t,this.isFillter=!1,this.searchObj.value="",this.fetchLists({page:1,status:t>=0?t:""}),this.currentPages=1})),Object(n["a"])(a,"filterAlert",(function(){var t=this;this.exportModel=!0,this.type="search",this.title="确认收货列表筛选",this.timeVisible=!1,this.$nextTick((function(){t.timeVisible=!0}))})),Object(n["a"])(a,"filterOk",(function(){this.isFillter=!0,this.currentAct=this.exportForm.status,this.filterParams=Object.assign({},this.exportForm),this.filterParams.status=this.filterParams.status>=0?this.filterParams.status:"",this.exportModel=!1,"search"==this.type?this.fetchLists(this.filterParams):this.dataHandleOk(),this.searchObj.value="",this.exportForm={page:1,status:this.currentAct},console.log(this.filterParams)})),Object(n["a"])(a,"filterCancel",(function(){this.exportForm.confirm_at_start="",this.exportForm.confirm_at_end=""})),Object(n["a"])(a,"timeChange",(function(t,e){console.log("Selected Time: ",t),console.log("Formatted Selected Time: ",e),this.exportForm.confirm_at_start=e[0],this.exportForm.confirm_at_end=e[1]})),Object(n["a"])(a,"timeOk",(function(t){console.log("onOk: ",t)})),a)),mounted:function(){this.fetchLists({page:1})},watch:{exportData:function(){this.orderCallback()}}},h=u,f=(r("71ee"),r("9ca4")),p=Object(f["a"])(h,i,s,!1,null,"e2cdc0f6",null);e["default"]=p.exports}}]);