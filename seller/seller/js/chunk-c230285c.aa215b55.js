(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c230285c"],{"0705":function(t,e,a){"use strict";var s=a("7a60"),i=a.n(s);i.a},"0aec":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mr24"},[a("a-card",{attrs:{bordered:!1,title:"订单进度"}},[a("div",{staticClass:"steps"},[a("a-steps",{attrs:{current:t.stepCurrent,status:"已关闭"==t.detail.status_text?"error":""}},[a("a-step",["已关闭"===t.detail.status_text?a("template",{slot:"title"},[t._v("\n              已关闭\n            ")]):a("template",{slot:"title"},[t._v("\n              待付款\n            ")])],2),a("a-step",["自提"===t.detail.pick_type_name?a("template",{slot:"title"},[t._v("\n              待提货\n            ")]):a("template",{slot:"title"},[t._v("\n              待发货\n            ")])],2),a("a-step",[a("template",{slot:"title"},[t._v("\n              待收货\n            ")])],2),a("a-step",[a("template",{slot:"title"},[t._v("\n              已完成\n            ")])],2)],1),a("div",{staticClass:"fahuo"},["待发货"==t.detail.status_text&&"自提"!==t.detail.pick_type_name?a("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.goDetail(t.detail.tid)}}},[t._v("\n            我要发货\n          ")]):t._e()],1)],1)]),a("a-card",{attrs:{bordered:!1,title:"订单信息"}},[a("span",{attrs:{slot:"extra"},slot:"extra"},[t._v("下单时间:"+t._s(t.detail.created_at))]),a("div",{staticClass:"det-info"},[a("a-row",[a("a-col",{attrs:{md:6}},[a("p",[t._v("订单号："+t._s(t.detail.tid))]),a("p",[t._v("订单状态： "+t._s(t.detail.status_text))]),t.detail.logi_name?a("p",[t._v("订单物流公司： "+t._s(t.detail.logi_name))]):t._e(),t.detail.invoice_no?a("p",[t._v("\n              订单物流单号： "+t._s(t.detail.invoice_no)+"\n            ")]):t._e(),t.detail.consign_time?a("p",[t._v("\n              发货时间： "+t._s(t.detail.consign_time)+"\n            ")]):t._e(),"is_group"===t.detail.activity_sign?a("div",[a("p",[t._v("\n                拼团人数："+t._s(t.detail.group_info.group_count)+"\n                "),t.detail.group_info.group_count>0?a("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.visible=!0}}},[t._v("查看")]):t._e()]),a("p",[t._v("拼团状态："+t._s(t.detail.group_status_text))])]):t._e()]),a("a-col",{attrs:{md:6}},[a("p",[t._v("商品总额：￥"+t._s(t.detail.total_fee))]),a("p",[t._v("运费金额：￥"+t._s(t.detail.post_fee))]),a("p",[t._v("应付金额：￥"+t._s(t.detail.amount))]),a("p",[t._v("应付金额：￥"+t._s(t.detail.amount))]),a("p",[t._v("首单免邮："+t._s(1===t.detail.is_first_order?"是":"否"))])]),a("a-col",{attrs:{md:6}},[a("p",[t._v("配送方式："+t._s(t.detail.pick_type_name))]),t.detail.pick_type&&"系统关闭"!==t.detail.cancel_text?a("p",[t._v("\n              核销时间："+t._s(t.detail.end_time||"未核销")+"\n            ")]):t._e(),a("p",[t._v("追加备注："+t._s(t.detail.add_remarks))])])],1)],1)]),a("a-card",{attrs:{bordered:!1,title:"商品信息"}},[a("div",{staticClass:"det-goods"},[a("a-table",{attrs:{scroll:{x:1100,y:700},pagination:t.page,columns:t.columns,dataSource:t.data},scopedSlots:t._u([{key:"goods_image",fn:function(t,e){return a("div",{},[a("div",[a("img",{attrs:{width:"60px",src:e.goods_image,alt:""}})])])}}])}),a("div",{staticStyle:{"text-align":"right",margin:"20px 0"}},[t._v("\n          配送费用"),a("span",{staticClass:"col-red"},[t._v("￥"+t._s(t.detail.post_fee))]),t._v("  \n          商品总额"),a("span",{staticClass:"col-red"},[t._v("￥"+t._s(t.detail.total_fee))])])],1)]),a("a-card",{attrs:{bordered:!1,title:"收货信息"}},[a("a-row",[a("a-col",{attrs:{md:12,xs:24}},[a("div",{staticClass:"userInfo"},[a("a-row",[a("a-col",{attrs:{xs:12,md:8}},[t._v("\n                收货人:\n              ")]),a("a-col",{attrs:{xs:12,md:8}},[t._v("\n                "+t._s(t.detail.receiver_name)+"\n              ")])],1),a("a-row",[a("a-col",{attrs:{xs:12,md:8}},[t._v("\n                收货人手机:\n              ")]),a("a-col",{attrs:{xs:12,md:8}},[t._v("\n                "+t._s(t.detail.receiver_tel)+"\n              ")])],1),0===t.detail.pick_type?a("a-row",[a("a-col",{attrs:{xs:12,md:8}},[t._v("\n                所在地:\n              ")]),a("a-col",{attrs:{xs:12,md:8}},[t._v("\n                "+t._s(t.detail.receiver_province)+"\n                "+t._s(t.detail.receiver_city)+"\n                "+t._s(t.detail.receiver_county)+"\n              ")])],1):t._e(),a("a-row",[a("a-col",{attrs:{xs:12,md:8}},[t._v("\n                "+t._s(0===t.detail.pick_type?"收货地址:":"提货地址:")+"\n              ")]),a("a-col",{attrs:{xs:12,md:8}},[t._v("\n                "+t._s(t.detail.receiver_address)+"\n              ")])],1),0===t.detail.pick_type?a("a-row",[a("a-col",{attrs:{xs:12,md:8}},[t._v("\n                邮编:\n              ")]),a("a-col",{attrs:{xs:12,md:8}},[t._v("\n                "+t._s(t.detail.receiver_zip)+"\n              ")])],1):t._e()],1)]),a("a-col",{attrs:{md:12,xs:24}},[a("div",{staticClass:"det-remark"},[a("div",{staticClass:"buyer"},[a("div",{staticClass:"fs16"},[t._v("买家备注:")]),t.detail.buyer_message?a("div",{staticClass:"buyer-info"},[t._v("\n                "+t._s(t.detail.buyer_message)+"\n                ")]):a("div",[t._v("无")])]),a("div",[a("div",{staticClass:"fs16"},[t._v("门店备注:")]),a("a-textarea",{staticStyle:{width:"300px"},attrs:{rows:4},model:{value:t.formItem.remarks,callback:function(e){t.$set(t.formItem,"remarks",e)},expression:"formItem.remarks"}}),a("div",{staticClass:"mt10"},[a("a-button",{attrs:{type:"primary",disabled:""==t.formItem.remarks},on:{click:function(e){return t.shopRemarks(t.detail.tid)}}},[t._v("保存")])],1)],1)])])],1)],1),0!==t.logSteps.length?a("a-card",{attrs:{bordered:!1,title:"物流信息"}},[a("a-steps",{attrs:{progressDot:"",current:0,direction:"vertical"}},t._l(t.logSteps,(function(t,e){return a("a-step",{attrs:{title:t.text,description:t.desc}})})),1)],1):t._e(),a("a-modal",{attrs:{title:"团购成员"},on:{ok:function(e){t.visible=!1}},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[t.detail.group_info?a("div",{staticClass:"group-member"},t._l(t.detail.group_info.group_users,(function(e,s){return a("a-row",{key:s,attrs:{type:"flex",align:"middle"}},[a("a-col",{attrs:{span:"3"}},[a("a-avatar",{attrs:{src:e.wechat_head_img,size:40}})],1),a("a-col",{attrs:{span:"5"}},[a("p",[t._v(t._s(e.trade.receiver_name))])]),a("a-col",{attrs:{span:"10"}},[a("p",[t._v(t._s(e.trade.user_mobile))])])],1)})),1):t._e()])],1)},i=[],r=(a("5ab2"),a("6d57"),a("e10e"),a("ce3c")),n=a("9f3a");function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach((function(e){Object(r["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var d=[{dataIndex:"goods_image",title:"商品图片",key:"goods_image",scopedSlots:{customRender:"goods_image"}},{title:"商品名称",dataIndex:"goods_name",key:"goods_name",width:300},{title:"商品规格",dataIndex:"sku_info",key:"sku_info"},{title:"购买数量",dataIndex:"quantity",key:"quantity"},{title:"商品价格",dataIndex:"goods_price",key:"goods_price"}],c={name:"orderdetail",computed:l({},Object(n["c"])({detail:function(t){return t.trade.detail},logLists:function(t){return t.trade.logLists}})),data:function(){return{visible:!1,stepCurrent:0,data:[],columns:d,page:!1,logSteps:[],formItem:{id:"",remarks:""},RemarksVal:""}},methods:l(l({},Object(n["b"])({getDetail:"trade/getDetail",detailRemarks:"trade/detailRemarks",trade_log:"trade/trade_log"})),{},{shopRemarks:function(t){this.formItem.id=t,this.detailRemarks(this.formItem)},initDet:function(){switch(this.detail.status_text){case"待付款":this.stepCurrent=0;break;case"待发货":this.stepCurrent=1;break;case"待收货":this.stepCurrent=2,this.trade_log(this.$route.params.id);break;case"已完成":this.stepCurrent=3;break;case"已关闭":this.stepCurrent=0;break;default:}this.data=this.detail.trade_order,console.log(this.data)},goDetail:function(t){var e="/trade/order/delivery/".concat(t);this.$router.push({path:e})},checkMember:function(){},handleOk:function(){this.visible=!1}}),mounted:function(){this.getDetail({id:this.$route.params.id})},watch:{detail:function(){this.initDet(),this.formItem.remarks=this.detail.shop_memo},logLists:function(){this.logSteps=this.logLists}}},_=c,p=(a("0705"),a("9ca4")),u=Object(p["a"])(_,s,i,!1,null,"3eeb3d2b",null);e["default"]=u.exports},"7a60":function(t,e,a){}}]);