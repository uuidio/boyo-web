(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ebe42c26"],{"2b51":function(e,t,a){},5308:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-card",{staticStyle:{margin:"24px"},attrs:{bordered:!1}},[a("div",{staticClass:"table-operator mb20"},[a("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:e.handleAdd}},[e._v("新建")])],1),e.fields&&e.fields.length>0?[a("a-table",{attrs:{scroll:{x:1100,y:700},columns:e.fields,dataSource:e.lists,rowKey:"id",pagination:!1},scopedSlots:e._u([{key:"status",fn:function(e,t){return a("tag-boole",{attrs:{tagValue:t.status}})}},{key:"is_root",fn:function(e,t){return a("tag-boole",{attrs:{tagValue:t.is_root}})}},{key:"action",fn:function(t,r){return a("action-column",{attrs:{record:r,actions:["edit","delete"]},on:{"on-edit":e.handleEdit,"on-delete":e.handleDelete}})}}],null,!1,515676384)}),a("div",{staticClass:"pageBox"},[a("a-pagination",{attrs:{total:e.pages.total,showTotal:function(e){return"共 "+e+" 条数据"},pageSize:e.pages.per_page,defaultCurrent:1},on:{change:e.pageChange}})],1)]:e._e(),a("add-admin",{attrs:{formParams:e.formParams,addVisible:e.addVisible},on:{"on-change":e.changeAdd}})],2)},o=[],s=(a("5ab2"),a("6d57"),a("e10e"),a("ce3c")),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{staticStyle:{top:"20px"},attrs:{title:"后台角色",width:800},on:{ok:e.handleOk,cancel:e.handleCancel},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[a("a-form",{attrs:{form:e.menuForm}},[a("a-form-item",{attrs:{label:"用户名","label-col":e.labelCol,"wrapper-col":e.wrapperCol}},[a("a-input",{attrs:{placeholder:"用户名"},model:{value:e.formParams.username,callback:function(t){e.$set(e.formParams,"username",t)},expression:"formParams.username"}})],1),a("a-form-item",{attrs:{label:"密码","label-col":e.labelCol,"wrapper-col":e.wrapperCol}},[a("a-input",{attrs:{type:"password",placeholder:"密码"},model:{value:e.formParams.password,callback:function(t){e.$set(e.formParams,"password",t)},expression:"formParams.password"}})],1),a("a-form-item",{attrs:{"label-col":e.labelCol,"wrapper-col":e.wrapperCol,label:"用户角色"}},[a("a-select",{attrs:{placeholder:"请选择用户角色"},model:{value:e.formParams.role_id,callback:function(t){e.$set(e.formParams,"role_id",t)},expression:"formParams.role_id"}},e._l(e.lists,(function(t){return a("a-select-option",{attrs:{value:t.id}},[e._v("\n          "+e._s(t.name)+"\n        ")])})),1)],1),a("a-form-item",{attrs:{label:"邮箱","label-col":e.labelCol,"wrapper-col":e.wrapperCol}},[a("a-input",{attrs:{placeholder:"邮箱"},model:{value:e.formParams.email,callback:function(t){e.$set(e.formParams,"email",t)},expression:"formParams.email"}})],1),a("a-form-item",{attrs:{label:"是否启用","label-col":e.labelCol,"wrapper-col":e.wrapperCol}},[a("a-switch",{attrs:{defaultChecked:e.formParams.status},model:{value:e.formParams.status,callback:function(t){e.$set(e.formParams,"status",t)},expression:"formParams.status"}})],1),a("a-form-item",{attrs:{label:"排序","label-col":e.labelCol,"wrapper-col":e.wrapperCol}},[a("a-input",{attrs:{placeholder:"排序"},model:{value:e.formParams.listorder,callback:function(t){e.$set(e.formParams,"listorder",t)},expression:"formParams.listorder"}})],1)],1)],1)},i=[],l=a("9f3a");function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){Object(s["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d={computed:m({},Object(l["c"])({lists:function(e){return e.permission.rolesLists}})),name:"AddAdmin",inject:["reload"],props:{addVisible:{type:Boolean,default:!1},formParams:{type:Object,default:{}}},data:function(){return{menuForm:this.$form.createForm(this),labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},visible:!1}},mounted:function(){this.getRoles()},methods:m(m({},Object(l["b"])({getRolesLists:"permission/getRolesLists",createAdmin:"permission/createAdmin",updateAdmin:"permission/updateAdmin"})),{},{handleOk:function(){void 0===this.formParams.id&&this.toCreate(),this.formParams.id>0&&this.toUpdate()},handleCancel:function(){this.$emit("on-change",this.visible)},toCreate:function(){this.createAdmin({formItem:this.formParams,callback:this.reload})},toUpdate:function(){this.updateAdmin({formItem:this.formParams,callback:this.reload})},getRoles:function(){this.getRolesLists({page_size:1e3})}}),watch:{addVisible:function(e){this.visible=e}}},u=d,p=a("9ca4"),f=Object(p["a"])(u,n,i,!1,null,"0c3d42f3",null),b=f.exports,h=a("8e22"),g=a("baea");function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(Object(a),!0).forEach((function(t){Object(s["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var P={computed:v({},Object(l["c"])({fields:function(e){return e.permission.adminFields},lists:function(e){return e.permission.adminLists},pages:function(e){return e.permission.adminPages}})),name:"Admin",inject:["reload"],components:{AddAdmin:b,ActionColumn:h["a"],TagBoole:g["a"]},data:function(){return{addVisible:!1,formParams:{}}},mounted:function(){this.getLists(1)},methods:v(v({},Object(l["b"])({getAdminLists:"permission/getAdminLists",delAdmin:"permission/delAdmin"})),{},{handleAdd:function(){this.formParams={name:"",status:!0,listorder:0,remark:""},this.addVisible=!0},pageChange:function(e){this.$nextTick((function(){this.getLists(e)}))},getLists:function(e){var t={page:e};this.getAdminLists(t)},changeAdd:function(e){this.addVisible=!e},handleEdit:function(e){e.status=Boolean(e.status),e.is_root=Boolean(e.is_root),e.password="",this.formParams=e,this.addVisible=!0},handleDelete:function(e){this.delAdmin({formItem:{id:e.id},callback:this.reload})}})},y=P,w=Object(p["a"])(y,r,o,!1,null,"f12dc934",null);t["default"]=w.exports},"8e22":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.hasAction("edit")?a("a-button",{staticClass:"mb5 mr5",attrs:{type:"primary",size:"small"},on:{click:e.handleEdit}},[a("em-icon",{attrs:{type:"icon-edit"}}),e._v("编辑")],1):e._e(),e.hasAction("delete")?a("a-button",{staticClass:"em-btn-error",attrs:{size:"small"},on:{click:e.handleDelete}},[a("em-icon",{attrs:{type:"icon-delete"}}),e._v("删除")],1):e._e()],1)},o=[],s={name:"ActionColumn",props:["record","actions"],methods:{handleEdit:function(){this.$emit("on-edit",this.record)},handleDelete:function(){var e=this;this.$confirm({title:"提示",content:"确认要删除吗？",okText:"确认",okType:"danger",cancelText:"取消",onOk:function(){e.$emit("on-delete",e.record)}})},hasAction:function(e){return void 0!==this.actions&&this.actions.indexOf(e)>=0}}},n=s,i=(a("a0de"),a("9ca4")),l=Object(i["a"])(n,r,o,!1,null,"66cb5a6e",null);t["a"]=l.exports},a0de:function(e,t,a){"use strict";var r=a("2b51"),o=a.n(r);o.a},baea:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.tagType?a("a-tag",{attrs:{color:"#87d068"}},[e._v("是")]):e._e(),e.tagType?e._e():a("a-tag",{attrs:{color:"#f50"}},[e._v("否")])],1)},o=[],s={name:"TagBoole",props:["tagValue"],computed:{tagType:function(){return Boolean(this.tagValue)}}},n=s,i=a("9ca4"),l=Object(i["a"])(n,r,o,!1,null,"659a06ea",null);t["a"]=l.exports}}]);