(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-38abc999"],{"00a9":function(t,e,s){"use strict";var a=s("d4cb"),l=s.n(a);l.a},"81b0":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[s("div",{staticClass:"classBox"},[t.$route.params.id?s("div",{staticClass:"mb10"},[t._v("编辑分类选择：")]):s("div",{staticClass:"mb10"},[t._v("分类选择：")]),s("a-cascader",{staticStyle:{width:"300px"},attrs:{allowClear:!0,options:t.option,placeholder:"选择分类"},on:{change:t.classChange},model:{value:t.selectClass,callback:function(e){t.selectClass=e},expression:"selectClass"}}),s("a-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:t.goAdd}},[t._v("确认选择")]),t.$route.params.id?s("a-button",{staticClass:"ml10",attrs:{type:"danger"},on:{click:function(e){return t.$router.back(-1)}}},[t._v("返回")]):t._e(),null!==t.oldSelectLists?s("div",{staticClass:"mt10"},[s("a-dropdown",[s("div",[s("span",[t._v("最近常用分类")]),s("a-icon",{attrs:{type:"down"}})],1),s("a-menu",{staticStyle:{width:"300px"},attrs:{slot:"overlay"},slot:"overlay"},t._l(t.oldSelectLists,(function(e,a){return s("a-menu-item",{key:a,on:{click:function(s){return t.oldSelect(e)}}},[t._v("\n            "+t._s(e[0].label)+"/"+t._s(e[1].label)+"/"+t._s(e[2].label)+"\n          ")])})),1)],1)],1):t._e()],1)])},l=[],o=(s("5ab2"),s("6d57"),s("e10e"),s("ce3c")),c=s("9f3a"),r=s("c968");function i(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function n(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?i(Object(s),!0).forEach((function(e){Object(o["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):i(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var d={computed:n({},Object(c["c"])({goodsClassTree:function(t){return t.goods.goodsClassTree},detail:function(t){return t.goods.detail}})),data:function(){return{oldSelectLists:JSON.parse(localStorage.getItem("oldSelectGoodsClass")),selectClass:[],selectClassData:[],option:[]}},methods:n(n({},Object(c["b"])({getGoodsClassTree:"goods/getGoodsClassTree",getDetail:"goods/getDetail"})),{},{oldSelect:function(t){this.selectClass=[t[0].value,t[1].value,t[2].value],this.selectClassData=[t[0],t[1],t[2]]},callback:function(t){this.option=t},classChange:function(t,e){this.selectClass=t,this.selectClassData=e},goAdd:function(){if(3===this.selectClass.length)if(localStorage.setItem("classItem",JSON.stringify(this.selectClassData)),this.setOldSelectClass(this.selectClassData),void 0!==this.$route.params.id){var t=this.$route.params.id,e="/goods/edit/".concat(t);this.$router.push({path:e})}else this.$router.push({path:"/goods/add"});else r["a"].showError("请选择正确商品分类，只有选到第3级分类才可以发布商品")},setOldSelectClass:function(t){var e=null===localStorage.getItem("oldSelectGoodsClass")?[]:JSON.parse(localStorage.getItem("oldSelectGoodsClass"));-1===JSON.stringify(e).indexOf(JSON.stringify(t))&&e.push(t),5===e.length&&e.shift(),localStorage.setItem("oldSelectGoodsClass",JSON.stringify(e))}}),mounted:function(){this.getGoodsClassTree(this.callback),void 0!==this.$route.params.id&&(this.getDetail({id:this.$route.params.id}),console.log(this.detail))}},u=d,p=(s("00a9"),s("9ca4")),g=Object(p["a"])(u,a,l,!1,null,"44dce8d1",null);e["default"]=g.exports},d4cb:function(t,e,s){}}]);