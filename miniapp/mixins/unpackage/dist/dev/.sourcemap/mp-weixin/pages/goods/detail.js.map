{"version":3,"sources":["webpack:///D:/xm/ego小程序/ego-frontend/miniapp/pages/goods/detail.vue?1bce","webpack:///D:/xm/ego小程序/ego-frontend/miniapp/pages/goods/detail.vue?13fc","webpack:///D:/xm/ego小程序/ego-frontend/miniapp/pages/goods/detail.vue?f499","webpack:///D:/xm/ego小程序/ego-frontend/miniapp/pages/goods/detail.vue?633e","webpack:///D:/xm/ego小程序/ego-frontend/miniapp/pages/goods/detail.vue","webpack:///D:/xm/ego小程序/ego-frontend/miniapp/pages/goods/detail.vue?644d","webpack:///D:/xm/ego小程序/ego-frontend/miniapp/pages/goods/detail.vue?a8e6"],"names":["name","mixins","redirect","global","components","EmTag","TagCoupon","tuiBottomPopup","tuiNumberbox","toHome","uniCountdown","data","groups","showCouponPopup","height","top","scrollH","popupShow","detail","carouselList","goodsMock","goodsDetail","images","bannerIndex","goodsContent","content","headTab","selectedTab","value","rateLists","coupon_list","sku","skuLists","skuSelect","skuKey","goodsSkuItem","isSeckill","isGroup","downSecond","seckillInfo","couponShowInfo","btnIfLists","goods_id","group_id","onReady","onLoad","options","id","console","log","tool","toTimeStamp","toFullTime","getGoodsDetail","obj","wx","getMenuButtonBoundingClientRect","uni","getSystemInfo","success","res","width","left","windowWidth","statusBarHeight","watch","initSku","token","getStorageSync","couponType","$http","aurl","params","shop_id","shop","page_size","result","i","length","push","fail","error","computed","methods","getTime","time","now_time","end_time","getGroupOrder","userGetCoupon","item","index","coupon_id","showAlert","$set","couponDetail","timeUp","showToast","title","icon","payClick","type","toLink","indexOf","quantity","sku_id","seckId","sec_kill_info","seckill_ap_id","actSign","activity_id","goods_spec","spec_list","addCart","_this","setStorage","key","needTokenLink","message","msg","skuActive","sonIndex","active","skuActiveChange","forEach","slice","_index","group_activty_id","spec_name","lists","j","spec_sign","idArr","aPath","is_group","is_sec_kill","goods_body","regex","RegExp","replace","is_group_info","bannerChange","e","current","change","hidePopup","showPopup","favoriteToggle","url","tip","is_favorite","err","tapFavorite","isFavoite"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiG;AACvC;AACL;AACwC;;;AAG7F;AACwJ;AACxJ,gBAAgB,6JAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,6FAAM;AACR,EAAE,sGAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACvCf;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH,WAAW,mBAAO,CAAC,yCAAgC;;AAEnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC3DA;AAAA;AAAA;AAAA;AAAosB,CAAgB,orBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC+UxtB;AACA;;;AAGA;AACA,4F,8FApVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;w8CAYe,EACdA,IAAI,EAAE,QADQ,EAEdC,MAAM,EAAE,CAACC,iBAAD,EAAWC,eAAX,CAFM,EAGdC,UAAU,EAAE,EACXC,KAAK,EAALA,KADW,EAEXC,SAAS,EAATA,SAFW,EAGXC,cAAc,EAAdA,cAHW,EAIXC,YAAY,EAAZA,YAJW,EAKXC,MAAM,EAANA,MALW,EAMXC,YAAY,EAAZA,YANW,EAHE,EAWdC,IAXc,kBAWP,CACN,OAAO,EACHC,MAAM,EAAC,EADJ,EAGNC,eAAe,EAAE,KAHX,EAINC,MAAM,EAAE,EAJF,EAIM;AACZC,SAAG,EAAE,CALC,EAKE;AACRC,aAAO,EAAE,CANH,EAMM;AACZC,eAAS,EAAE,KAPL,EAQNC,MAAM,EAAE,EARF,EASNC,YAAY,EAAEC,eAAUC,WAAV,CAAsBC,MAT9B,EAUN;AACAC,iBAAW,EAAE,CAXP,EAYNC,YAAY,EAAEJ,eAAUC,WAAV,CAAsBI,OAZ9B,EAaNC,OAAO,EAAE,EAbH,EAaO;AACbC,iBAAW,EAAE,CAdP,EAeNC,KAAK,EAAE,CAfD,EAgBNC,SAAS,EAAE,EAhBL,EAiBNC,WAAW,EAAE,EAjBP,EAkBNC,GAAG,EAAE,EAlBC,EAmBNC,QAAQ,EAAE,EAnBJ,EAoBNC,SAAS,EAAE,EApBL,EAqBNC,MAAM,EAAE,EArBF,EAsBNC,YAAY,EAAE,EAtBR,EAuBNC,SAAS,EAAE,KAvBL,EAwBHC,OAAO,EAAC,KAxBL,EAyBNC,UAAU,EAAE,CAzBN,EA0BNC,WAAW,EAAE,EA1BP,EA2BNC,cAAc,EAAE,EA3BV,EA4BNC,UAAU,EAAE,EA5BN,EA6BHC,QAAQ,EAAC,CA7BN,EA8BHC,QAAQ,EAAC,CA9BN,EAAP,CAgCA,CA5Ca,EA6CdC,OA7Cc,qBA6CJ,CAAE,CA7CE,EA8CdC,MAAM,EAAE,gBAASC,OAAT,EAAkB,oBACzB;AACE,SAAKJ,QAAL,GAAgBI,OAAO,CAACC,EAAxB,CACFC,OAAO,CAACC,GAAR,CAAYC,iBAAKC,WAAL,CAAiBD,iBAAKE,UAAL,EAAjB,CAAZ,EAEA,KAAKC,cAAL,CAAoB,CAACP,OAAO,CAACC,EAAT,CAApB,EALyB,CAMzB;AACA;AACA;AACA;AACA;AACA;AACA,QAAIO,GAAG,GAAG,EAAV,CAEAA,GAAG,GAAGC,EAAE,CAACC,+BAAH,EAAN,CAQAC,GAAG,CAACC,aAAJ,CAAkB,EACjBC,OAAO,EAAE,iBAAAC,GAAG,EAAI,CACf,MAAI,CAACC,KAAL,GAAaP,GAAG,CAACQ,IAAJ,IAAYF,GAAG,CAACG,WAA7B,CACA,MAAI,CAACjD,MAAL,GAAcwC,GAAG,CAACvC,GAAJ,GAAUuC,GAAG,CAACvC,GAAJ,GAAUuC,GAAG,CAACxC,MAAd,GAAuB,CAAjC,GAAqC8C,GAAG,CAACI,eAAJ,GAAsB,EAAzE,CACA,MAAI,CAACjD,GAAL,GAAWuC,GAAG,CAACvC,GAAJ,GAAUuC,GAAG,CAACvC,GAAJ,GAAU,CAACuC,GAAG,CAACxC,MAAJ,GAAa,EAAd,IAAoB,CAAxC,GAA4C8C,GAAG,CAACI,eAAJ,GAAsB,CAA7E,CACA,MAAI,CAAChD,OAAL,GAAe4C,GAAG,CAACG,WAAnB,CACA,CANgB,EAAlB,EAQA,CA5Ea,EA6EdE,KAAK,EAAE,EACN/C,MADM,oBACG,mBACR,KAAKgD,OAAL,GACA,IAAMC,KAAK,GAAGV,GAAG,CAACW,cAAJ,CAAmB,YAAnB,CAAd,CACA,IAAIC,UAAU,GAAG,EAAjB,CACA,IAAIF,KAAJ,EAAW,CACVE,UAAU,GAAG,WAAb,CACA,CAFD,MAEO,CACNA,UAAU,GAAG,kBAAb,CACA,CACD,KAAKC,KAAL,CAAW,EACVC,IAAI,EAAEF,UADI,EAEVG,MAAM,EAAE,EACPC,OAAO,EAAE,KAAKvD,MAAL,CAAYwD,IAAZ,CAAiB3B,EADnB,EAEP4B,SAAS,EAAE,MAFJ,EAFE,EAMVhB,OAAO,EAAE,iBAAAC,GAAG,EAAI,CACf,MAAI,CAAC9B,WAAL,GAAmB8B,GAAG,CAACjD,IAAJ,CAASiE,MAAT,CAAgBjE,IAAnC,CACA,KAAK,IAAIkE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,MAAI,CAAC/C,WAAL,CAAiBgD,MAArC,EAA6CD,CAAC,EAA9C,EAAkD,CACjD,MAAI,CAACrC,cAAL,CAAoBuC,IAApB,CAAyB,KAAzB,EACA,MAAI,CAACtC,UAAL,CAAgBsC,IAAhB,CAAqB,KAArB,EACA,CACD,CAZS,EAaVC,IAAI,EAAE,cAAAC,KAAK,EAAI,CACdjC,OAAO,CAACC,GAAR,CAAYgC,KAAZ,EACA,CAfS,EAAX,EAiBA,CA3BK,EA7EO,EA0GbC,QAAQ,EAAE,EA1GG,EA6GdC,OAAO,EAAE,EACNC,OADM,mBACEC,IADF,EACO,CACX,IAAIC,QAAQ,GAAGpC,iBAAKC,WAAL,CAAiBD,iBAAKE,UAAL,EAAjB,IAAsC,IAArD,CACA,IAAImC,QAAQ,GAAGrC,iBAAKC,WAAL,CAAiBkC,IAAjB,IAAyB,IAAxC,CACA,OAAOE,QAAQ,GAAGD,QAAlB,CACD,CALK,EAMPE,aANO,2BAMQ,mBACZ,KAAKlB,KAAL,CAAW,EACTC,IAAI,EAAC,iBADI,EAETC,MAAM,EAAC,EACLzB,EAAE,EAAC,KAAKL,QADH,EAFE,EAKTiB,OAAO,EAAC,iBAAAC,GAAG,EAAI,CACZ,MAAI,CAAChD,MAAL,GAAcgD,GAAG,CAACjD,IAAJ,CAASiE,MAAvB,CACF,CAPQ,EAQTI,IAAI,EAAC,cAAAC,KAAK,EAAI,CACZjC,OAAO,CAACC,GAAR,CAAYgC,KAAZ,EACD,CAVQ,EAAX,EAYD,CAnBK,EAoBRQ,aApBQ,yBAoBMC,IApBN,EAoBYC,KApBZ,EAoBmB,mBAC1B,IAAMhF,IAAI,GAAG,EACZiF,SAAS,EAAEF,IAAI,CAAC3C,EADJ,EAAb,CAGA,KAAKuB,KAAL,CAAW,EACVC,IAAI,EAAE,SADI,EAEV5D,IAAI,EAAEA,IAFI,EAGVgD,OAAO,EAAE,iBAAAC,GAAG,EAAI,CACf,MAAI,CAACiC,SAAL,CAAe,MAAf,EACA,MAAI,CAACC,IAAL,CAAU,MAAI,CAACrD,UAAf,EAA2BkD,KAA3B,EAAkC,CAAC,MAAI,CAAClD,UAAL,CAAgBkD,KAAhB,CAAnC,EACA,CANS,EAOVX,IAAI,EAAE,cAAAC,KAAK,EAAI,CACdjC,OAAO,CAACC,GAAR,CAAYgC,KAAZ,EACA,CATS,EAAX,EAWA,CAnCO,EAoCRc,YApCQ,wBAoCKJ,KApCL,EAoCY,CACnB,KAAKG,IAAL,CAAU,KAAKtD,cAAf,EAA+BmD,KAA/B,EAAsC,CAAC,KAAKnD,cAAL,CAAoBmD,KAApB,CAAvC,EACA,CAtCO,EAuCRK,MAvCQ,oBAuCC,CACRvC,GAAG,CAACwC,SAAJ,CAAc,EACbC,KAAK,EAAE,YADM,EAEbC,IAAI,EAAE,MAFO,EAAd,EAIA,KAAK/D,SAAL,GAAiB,KAAjB,CACA,CA7CO,EA8CRgE,QA9CQ,oBA8CCC,IA9CD,EA8CO,CACd,IAAIlC,KAAK,GAAGV,GAAG,CAACW,cAAJ,CAAmB,YAAnB,CAAZ,CACA,IAAI,CAACD,KAAL,EAAY,CACX,KAAKmC,MAAL,CAAY,sBAAZ,EACA,OACA,CACD,IAAI,KAAKrE,SAAL,CAAesE,OAAf,CAAuB,IAAvB,MAAiC,CAAC,CAAtC,EAAyC,CACxC9C,GAAG,CAACwC,SAAJ,CAAc,EACbC,KAAK,EAAE,UADM,EAEbC,IAAI,EAAE,MAFO,EAAd,EAIA,OACA,CACD,IAAIxF,IAAI,GAAG,EACV6F,QAAQ,EAAE,KAAK5E,KADL,EAEVyE,IAAI,EAAEA,IAFI,EAGVI,MAAM,EAAE,EAHE,EAAX,CAMA,IAAI,KAAKrE,SAAT,EAAoB,CACnB,IAAIsE,MAAM,GAAG,KAAKxF,MAAL,CAAYyF,aAAZ,CAA0B,CAA1B,EAA6BC,aAA1C,CACAjG,IAAI,CAACkG,OAAL,GAAe,SAAf,CACAlG,IAAI,CAACmG,WAAL,GAAmBJ,MAAnB,CACA,CACG,IAAG,KAAKrE,OAAL,IAAgB,KAAKM,QAAL,KAAgB,CAAnC,EAAqC,CACnChC,IAAI,CAACkG,OAAL,GAAe,UAAf,CACAlG,IAAI,CAACmG,WAAL,GAAmB,KAAKnE,QAAxB,CACD,CACL,IAAI,KAAKzB,MAAL,CAAY6F,UAAZ,KAA2B,IAA/B,EAAqC,CACpCpG,IAAI,CAAC8F,MAAL,GAAc,KAAKvF,MAAL,CAAY8F,SAAZ,CAAsB,CAAtB,EAAyBjE,EAAvC,CACA,CAFD,MAEO,CACNpC,IAAI,CAAC8F,MAAL,GAAc,KAAKtE,YAAL,CAAkBY,EAAhC,CACA,CACD,KAAKkE,OAAL,CAAaZ,IAAb,EAAkB1F,IAAlB,EACA,KAAKM,SAAL,GAAiB,KAAjB,CACA,KAAKiD,OAAL,GACA,CAlFO,EAmFN+C,OAnFM,mBAmFEZ,IAnFF,EAmFO1F,IAnFP,EAmFY,mBAChB,KAAK2D,KAAL,CAAW,EACTC,IAAI,EAAE,SADG,EAET5D,IAAI,EAAEA,IAFG,EAGTgD,OAAO,EAAE,iBAAAC,GAAG,EAAI,CACd,IAAIyC,IAAI,KAAK,MAAb,EAAqB,CACnB5C,GAAG,CAACwC,SAAJ,CAAc,EACZC,KAAK,EAAE,SADK,EAAd,EAGD,CAJD,MAIO,CACL,IAAMgB,KAAK,GAAG,MAAd,CACAzD,GAAG,CAAC0D,UAAJ,CAAe,EACbC,GAAG,EAAE,MADQ,EAEbzG,IAAI,EAAE,SAFO,EAGbgD,OAAO,EAAE,mBAAW,CAClBuD,KAAK,CAACG,aAAN,CAAoB,uBAApB,EACD,CALY,EAAf,EAOD,CACF,CAlBQ,EAmBTrC,IAAI,EAAE,cAAAC,KAAK,EAAI,CACbxB,GAAG,CAACwC,SAAJ,CAAc,EACZC,KAAK,EAAEjB,KAAK,CAACqC,OAAN,CAAcC,GADT,EAEZpB,IAAI,EAAE,MAFM,EAAd,EAIAnD,OAAO,CAACC,GAAR,CAAYgC,KAAZ,EACD,CAzBQ,EAAX,EA2BD,CA/GK,EAgHRuC,SAhHQ,qBAgHE7B,KAhHF,EAgHS8B,QAhHT,EAgHmB/B,IAhHnB,EAgHyB,CAChC,KAAK3D,GAAL,CAAS4D,KAAT,EAAgB+B,MAAhB,GAAyBD,QAAzB,CACA,KAAKxF,SAAL,CAAe0D,KAAf,IAAwBD,IAAxB,CACA,KAAKiC,eAAL,GACA,CApHO,EAqHRA,eArHQ,6BAqHU,CACjB,IAAI,KAAK1F,SAAL,CAAesE,OAAf,CAAuB,IAAvB,MAAiC,CAAC,CAAtC,EAAyC,CACxC,KAAKrE,MAAL,GAAc,EAAd,CACA,IAAMgF,KAAK,GAAG,IAAd,CACA,KAAKjF,SAAL,CAAe2F,OAAf,CAAuB,UAAAlC,IAAI,EAAI,CAC9BwB,KAAK,CAAChF,MAAN,IAAgBwD,IAAI,GAAG,GAAvB,CACA,CAFD,EAGAwB,KAAK,CAAChF,MAAN,GAAegF,KAAK,CAAChF,MAAN,CAAa2F,KAAb,CAAmB,CAAnB,EAAsBX,KAAK,CAAChF,MAAN,CAAa4C,MAAb,GAAsB,CAA5C,CAAf,CACA,IAAMgD,MAAM,GAAG,KAAK9F,QAAL,CAAcuE,OAAd,CAAsBW,KAAK,CAAChF,MAA5B,CAAf,CACA,KAAKC,YAAL,GAAoB,KAAKjB,MAAL,CAAY8F,SAAZ,CAAsBc,MAAtB,CAApB,CACA9E,OAAO,CAACC,GAAR,CAAY,KAAKd,YAAjB,EACA,IAAG,KAAKjB,MAAL,CAAY8F,SAAZ,CAAsBc,MAAtB,EAA8BC,gBAAjC,EAAkD,CAChD,KAAKpF,QAAL,GAAgB,KAAKzB,MAAL,CAAY8F,SAAZ,CAAsBc,MAAtB,EAA8BC,gBAA9C,CACG,CAFL,MAES,CACH,KAAKpF,QAAL,GAAgB,CAAhB,CACD,CACL,KAAKf,KAAL,GAAa,CAAb,CACA,CACD,CAvIO,EAwIRsC,OAxIQ,qBAwIE,CACT,KAAKnC,GAAL,GAAW,EAAX,CACA,KAAKG,MAAL,GAAc,EAAd,CACA,KAAKD,SAAL,GAAiB,EAAjB,CACA,KAAKE,YAAL,GAAoB,KAAKjB,MAAL,CAAY8F,SAAZ,CAAsB,CAAtB,CAApB,CACA,KAAKpF,KAAL,GAAa,CAAb,CACA,IAAI,KAAKV,MAAL,CAAY6F,UAAZ,KAA2B,IAA/B,EAAqC,CACpC,OACA,CACD,KAAK,IAAIlC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAK3D,MAAL,CAAY8G,SAAZ,CAAsBlD,MAA1C,EAAkDD,CAAC,EAAnD,EAAuD,CACtD,IAAIvB,GAAG,GAAG,EACT4C,KAAK,EAAE,EADE,EAET+B,KAAK,EAAE,EAFE,EAGTP,MAAM,EAAE,CAAC,CAHA,EAAV,CAKApE,GAAG,CAAC4C,KAAJ,GAAY,KAAKhF,MAAL,CAAY8G,SAAZ,CAAsBnD,CAAtB,CAAZ,CACA,KAAK,IAAIqD,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKhH,MAAL,CAAY6F,UAAZ,CAAuBlC,CAAvB,EAA0BC,MAA9C,EAAsDoD,CAAC,EAAvD,EAA2D,CAC1D5E,GAAG,CAAC2E,KAAJ,CAAUlD,IAAV,CAAe,KAAK7D,MAAL,CAAY6F,UAAZ,CAAuBlC,CAAvB,EAA0BqD,CAA1B,CAAf,EACA,CACD,KAAKnG,GAAL,CAASgD,IAAT,CAAczB,GAAd,EACA,KAAKrB,SAAL,CAAe8C,IAAf,CAAoB,IAApB,EACA,CACD,KAAK,IAAIF,EAAC,GAAG,CAAb,EAAgBA,EAAC,GAAG,KAAK3D,MAAL,CAAY8F,SAAZ,CAAsBlC,MAA1C,EAAkDD,EAAC,EAAnD,EAAuD,CACtD,KAAK7C,QAAL,CAAc+C,IAAd,CAAmB,KAAK7D,MAAL,CAAY8F,SAAZ,CAAsBnC,EAAtB,EAAyBsD,SAA5C,EACA,CACD,CAjKO,EAkKR9E,cAlKQ,0BAkKO+E,KAlKP,EAkKc,mBACrB,KAAK9D,KAAL,CAAW,EACVC,IAAI,EAAE,gBADI,EAEV8D,KAAK,EAAED,KAFG,EAGVzE,OAAO,EAAE,iBAAAC,GAAG,EAAI,CACf,MAAI,CAAC1C,MAAL,GAAc0C,GAAG,CAACjD,IAAJ,CAASiE,MAAvB,CACA,IAAGhB,GAAG,CAACjD,IAAJ,CAASiE,MAAT,CAAgB0D,QAAhB,IAA4B,CAA/B,EAAiC,CAC1B,MAAI,CAAC9C,aAAL,GACD,CAJS,CAKf;AACK;AACA;AACL,gBAAI,CAACpD,SAAL,GAAiBwB,GAAG,CAACjD,IAAJ,CAASiE,MAAT,CAAgB2D,WAAhB,IAA+B,CAA/B,GAAmC,IAAnC,GAA0C,KAA3D,CACA,MAAI,CAAClG,OAAL,GAAeuB,GAAG,CAACjD,IAAJ,CAASiE,MAAT,CAAgB0D,QAAhB,IAA4B,CAA5B,GAAgC,IAAhC,GAAuC,KAAtD,CACA,IAAI1D,MAAM,GAAG,MAAI,CAAC1D,MAAL,CAAYsH,UAAzB,CACA,IAAMC,KAAK,GAAG,IAAIC,MAAJ,CAAW,MAAX,EAAmB,IAAnB,CAAd,CACA9D,MAAM,GAAGA,MAAM,CAAC+D,OAAP,CAAeF,KAAf,oCAAT,CACA,MAAI,CAACvH,MAAL,CAAYsH,UAAZ,GAAyB5D,MAAzB,CAbe,CAcf;AACA,cAAI,MAAI,CAACxC,SAAL,IAAkB,MAAI,CAACC,OAA3B,EAAoC,CAC7B,IAAG,MAAI,CAACD,SAAR,EAAkB,CAChB,MAAI,CAACG,WAAL,GAAmB,MAAI,CAACrB,MAAL,CAAYyF,aAAZ,CAA0B,CAA1B,CAAnB,CACD,CAFD,MAEK,CACH,MAAI,CAACpE,WAAL,GAAmB,MAAI,CAACrB,MAAL,CAAY0H,aAAZ,CAA0B,CAA1B,CAAnB,CACD,CAEP,IAAItD,QAAQ,GAAGpC,iBAAKC,WAAL,CAAiBD,iBAAKE,UAAL,EAAjB,IAAsC,IAArD,CACA,IAAImC,QAAQ,GAAGrC,iBAAKC,WAAL,CAAiB,MAAI,CAACZ,WAAL,CAAiBgD,QAAlC,IAA8C,IAA7D,CACA,MAAI,CAACjD,UAAL,GAAkBiD,QAAQ,GAAGD,QAA7B,CACA,CAzBc,CA0Bf;AACA,SA9BS,EA+BVN,IAAI,EAAE,cAAAC,KAAK,EAAI,CACdjC,OAAO,CAACC,GAAR,CAAYgC,KAAZ,EACA,CAjCS,EAAX,EAmCA,KAAKX,KAAL,CAAW,EACVC,IAAI,EAAE,cADI,EAEV8D,KAAK,EAAED,KAFG,EAGVzE,OAAO,EAAE,iBAAAC,GAAG,EAAI,CACf,MAAI,CAAC/B,SAAL,GAAiB+B,GAAG,CAACjD,IAAJ,CAASiE,MAAT,CAAgBjE,IAAjC,CACA,CALS,EAMVqE,IAAI,EAAE,cAAAC,KAAK,EAAI,CACdjC,OAAO,CAACC,GAAR,CAAYgC,KAAZ,EACA,CARS,EAAX,EAUA,CAhNO,EAiNR4D,YAjNQ,wBAiNKC,CAjNL,EAiNQ,CACf,KAAKvH,WAAL,GAAmBuH,CAAC,CAAC5H,MAAF,CAAS6H,OAA5B,CACA,CAnNO,EAoNRC,MAAM,EAAE,gBAASF,CAAT,EAAY,CACnB,KAAKlH,KAAL,GAAakH,CAAC,CAAClH,KAAf,CACA,CAtNO,EAuNRqH,SAvNQ,uBAuNI,CACX,KAAKhI,SAAL,GAAiB,KAAjB,CACA,CAzNO,EA0NRiI,SA1NQ,uBA0NI,CACX,KAAKjI,SAAL,GAAiB,IAAjB,CACA,CA5NO,EA6NRkI,cA7NQ,0BA6NOC,GA7NP,EA6NYC,GA7NZ,EA6NiB,mBACxB,KAAK/E,KAAL,CAAW,EACVC,IAAI,EAAE6E,GADI,EAEVzI,IAAI,EAAE,EACL+B,QAAQ,EAAE,KAAKxB,MAAL,CAAY6B,EADjB,EAFI,EAKVY,OAAO,EAAE,iBAAAC,GAAG,EAAI,CACf,MAAI,CAAC1C,MAAL,CAAYoI,WAAZ,GAA0B,CAAC,MAAI,CAACpI,MAAL,CAAYoI,WAAvC,CACA7F,GAAG,CAACwC,SAAJ,CAAc,EACbC,KAAK,EAAEmD,GADM,EAAd,EAGA,CAVS,EAWVrE,IAAI,EAAE,cAAAuE,GAAG,EAAI,CAAE,CAXL,EAAX,EAaA,CA3OO,EA4ORC,WA5OQ,yBA4OM,CACb,IAAIC,SAAS,GAAG,KAAKvI,MAAL,CAAYoI,WAA5B;AACA,UAAI,CAACG,SAAL,EAAgB;AACf,aAAKN,cAAL,CAAoB,eAApB,EAAqC,MAArC;AACA,OAFD,MAEO;AACN,aAAKA,cAAL,CAAoB,oBAApB,EAA0C,QAA1C;AACA;AACD,KAnPO,EA7GK,E;;;;;;;;;;;;;ACzVf;AAAA;AAAA;AAAA;AAA2yC,CAAgB,ysCAAG,EAAC,C;;;;;;;;;;;ACA/zC,uC","file":"pages/goods/detail.js","sourcesContent":["import { render, staticRenderFns } from \"./detail.vue?vue&type=template&id=07830a6a&scoped=true&\"\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&id=07830a6a&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../MyDownloads/Download/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"07830a6a\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\MyDownloads\\\\Download\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('07830a6a', component.options)\n    } else {\n      api.reload('07830a6a', component.options)\n    }\n    module.hot.accept(\"./detail.vue?vue&type=template&id=07830a6a&scoped=true&\", function () {\n      api.rerender('07830a6a', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"xm/ego小程序/ego-frontend/miniapp/pages/goods/detail.vue\"\nexport default component.exports","export * from \"-!../../../../../../MyDownloads/Download/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../MyDownloads/Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../MyDownloads/Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../MyDownloads/Download/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../MyDownloads/Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=template&id=07830a6a&scoped=true&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.groups, function(item, index) {\n    var m0 = _vm.getTime(item.end_time)\n    return {\n      $orig: _vm.__get_orig(item),\n      m0: m0\n    }\n  })\n\n  var l1 = _vm.__map(_vm.coupon_list, function(item, index) {\n    var m1 = Number(item.origin_condition)\n    var m2 = Number(item.denominations)\n    var m3 = Number(item.origin_condition)\n    return {\n      $orig: _vm.__get_orig(item),\n      m1: m1,\n      m2: m2,\n      m3: m3\n    }\n  })\n\n  var m4 = require(\"../../static/images/coupon.png\")\n\n  var l2 = _vm.__map(_vm.coupon_list, function(item, index) {\n    var m5 = Number(item.denominations)\n    var m6 = Number(item.origin_condition)\n    return {\n      $orig: _vm.__get_orig(item),\n      m5: m5,\n      m6: m6\n    }\n  })\n\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.showCouponPopup = true\n    }\n\n    _vm.e1 = function($event) {\n      _vm.showCouponPopup = false\n    }\n  }\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n        l1: l1,\n        m4: m4,\n        l2: l2\n      }\n    }\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../MyDownloads/Download/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../MyDownloads/Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../MyDownloads/Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../MyDownloads/Download/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../MyDownloads/Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../MyDownloads/Download/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../MyDownloads/Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../MyDownloads/Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../MyDownloads/Download/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../MyDownloads/Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=script&lang=js&\"","//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n\r\nimport tool from '../../static/base/toolFun.js';\r\nimport goodsMock from '../../mock/goods.js';\r\nimport EmTag from '../../components/tag/tag.vue';\r\nimport TagCoupon from '../../components/tag/coupon.vue';\r\nimport redirect from '../../mixins/redirect.js';\r\nimport global from '../../mixins/global.js';\r\nimport tuiBottomPopup from '../../components/bottom-popup/bottom-popup';\r\nimport tuiNumberbox from '../../components/numberbox/numberbox';\r\nimport toHome from '../../components/header/ToHome';\r\nimport uniCountdown from '@dcloudio/uni-ui/lib/uni-count-down/uni-count-down.vue';\r\nexport default {\r\n\tname: 'detail',\r\n\tmixins: [redirect, global],\r\n\tcomponents: {\r\n\t\tEmTag,\r\n\t\tTagCoupon,\r\n\t\ttuiBottomPopup,\r\n\t\ttuiNumberbox,\r\n\t\ttoHome,\r\n\t\tuniCountdown\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n      groups:[\r\n      ],\r\n\t\t\tshowCouponPopup: false,\r\n\t\t\theight: 64, //header高度\r\n\t\t\ttop: 0, //标题图标距离顶部距离\r\n\t\t\tscrollH: 0, //滚动总高度\r\n\t\t\tpopupShow: false,\r\n\t\t\tdetail: {},\r\n\t\t\tcarouselList: goodsMock.goodsDetail.images,\r\n\t\t\t//轮播图下标\r\n\t\t\tbannerIndex: 0,\r\n\t\t\tgoodsContent: goodsMock.goodsDetail.content,\r\n\t\t\theadTab: [], //\r\n\t\t\tselectedTab: 0,\r\n\t\t\tvalue: 1,\r\n\t\t\trateLists: [],\r\n\t\t\tcoupon_list: [],\r\n\t\t\tsku: [],\r\n\t\t\tskuLists: [],\r\n\t\t\tskuSelect: [],\r\n\t\t\tskuKey: '',\r\n\t\t\tgoodsSkuItem: {},\r\n\t\t\tisSeckill: false,\r\n      isGroup:false,\r\n\t\t\tdownSecond: 0,\r\n\t\t\tseckillInfo: [],\r\n\t\t\tcouponShowInfo: [],\r\n\t\t\tbtnIfLists: [],\r\n      goods_id:0,\r\n      group_id:0,\r\n\t\t};\r\n\t},\r\n\tonReady() {},\r\n\tonLoad: function(options) {\r\n\t\t// tool.toFullTime();\r\n    this.goods_id = options.id\r\n\t\tconsole.log(tool.toTimeStamp(tool.toFullTime()));\r\n\r\n\t\tthis.getGoodsDetail([options.id]);\r\n\t\t// let pagesArr = getCurrentPages();\r\n\t\t// let fromSeckill = pagesArr[pagesArr.length - 2].__route__.includes('seckill');\r\n\t\t// // 是否从秒杀活动页进来\r\n\t\t// if (fromSeckill) {\r\n\t\t// \tthis.downSecond = options.ds;\r\n\t\t// }\r\n\t\tlet obj = {};\r\n\r\n\t\tobj = wx.getMenuButtonBoundingClientRect();\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t\tuni.getSystemInfo({\r\n\t\t\tsuccess: res => {\r\n\t\t\t\tthis.width = obj.left || res.windowWidth;\r\n\t\t\t\tthis.height = obj.top ? obj.top + obj.height + 8 : res.statusBarHeight + 44;\r\n\t\t\t\tthis.top = obj.top ? obj.top + (obj.height - 32) / 2 : res.statusBarHeight + 6;\r\n\t\t\t\tthis.scrollH = res.windowWidth;\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\twatch: {\r\n\t\tdetail() {\r\n\t\t\tthis.initSku();\r\n\t\t\tconst token = uni.getStorageSync('user_token');\r\n\t\t\tlet couponType = '';\r\n\t\t\tif (token) {\r\n\t\t\t\tcouponType = 'getCouPon';\r\n\t\t\t} else {\r\n\t\t\t\tcouponType = 'getCouPonNoLogin';\r\n\t\t\t}\r\n\t\t\tthis.$http({\r\n\t\t\t\taurl: couponType,\r\n\t\t\t\tparams: {\r\n\t\t\t\t\tshop_id: this.detail.shop.id,\r\n\t\t\t\t\tpage_size: 100000\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\tthis.coupon_list = res.data.result.data;\r\n\t\t\t\t\tfor (let i = 0; i < this.coupon_list.length; i++) {\r\n\t\t\t\t\t\tthis.couponShowInfo.push(false);\r\n\t\t\t\t\t\tthis.btnIfLists.push(false);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tfail: error => {\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n  computed: {\r\n\r\n  },\r\n\tmethods: {\r\n    getTime(time){\r\n      let now_time = tool.toTimeStamp(tool.toFullTime()) / 1000;\r\n      let end_time = tool.toTimeStamp(time) / 1000;\r\n      return end_time - now_time;\r\n    },\r\n\t  getGroupOrder(){\r\n      this.$http({\r\n        aurl:'groupGoodsOrder',\r\n        params:{\r\n          id:this.goods_id\r\n        },\r\n        success:res => {\r\n           this.groups = res.data.result\r\n        },\r\n        fail:error => {\r\n          console.log(error)\r\n        }\r\n      })\r\n    },\r\n\t\tuserGetCoupon(item, index) {\r\n\t\t\tconst data = {\r\n\t\t\t\tcoupon_id: item.id\r\n\t\t\t};\r\n\t\t\tthis.$http({\r\n\t\t\t\taurl: 'receive',\r\n\t\t\t\tdata: data,\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\tthis.showAlert('领取成功');\r\n\t\t\t\t\tthis.$set(this.btnIfLists, index, !this.btnIfLists[index]);\r\n\t\t\t\t},\r\n\t\t\t\tfail: error => {\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tcouponDetail(index) {\r\n\t\t\tthis.$set(this.couponShowInfo, index, !this.couponShowInfo[index]);\r\n\t\t},\r\n\t\ttimeUp() {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '活动结束,下次早点来',\r\n\t\t\t\ticon: 'none'\r\n\t\t\t});\r\n\t\t\tthis.isSeckill = false;\r\n\t\t},\r\n\t\tpayClick(type) {\r\n\t\t\tlet token = uni.getStorageSync('user_token');\r\n\t\t\tif (!token) {\r\n\t\t\t\tthis.toLink('/pages/user/bindUser');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (this.skuSelect.indexOf('占位') !== -1) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '请选择完商品规格',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tlet data = {\r\n\t\t\t\tquantity: this.value,\r\n\t\t\t\ttype: type,\r\n\t\t\t\tsku_id: ''\r\n\t\t\t};\r\n\r\n\t\t\tif (this.isSeckill) {\r\n\t\t\t\tlet seckId = this.detail.sec_kill_info[0].seckill_ap_id;\r\n\t\t\t\tdata.actSign = 'seckill';\r\n\t\t\t\tdata.activity_id = seckId;\r\n\t\t\t}\r\n       if(this.isGroup && this.group_id!==0){\r\n         data.actSign = 'is_group';\r\n         data.activity_id = this.group_id\r\n       }\r\n\t\t\tif (this.detail.goods_spec === null) {\r\n\t\t\t\tdata.sku_id = this.detail.spec_list[0].id;\r\n\t\t\t} else {\r\n\t\t\t\tdata.sku_id = this.goodsSkuItem.id;\r\n\t\t\t}\r\n\t\t\tthis.addCart(type,data)\r\n\t\t\tthis.popupShow = false;\r\n\t\t\tthis.initSku();\r\n\t\t},\r\n    addCart(type,data){\r\n      this.$http({\r\n        aurl: 'addCart',\r\n        data: data,\r\n        success: res => {\r\n          if (type === 'cart') {\r\n            uni.showToast({\r\n              title: '加入购物车成功'\r\n            });\r\n          } else {\r\n            const _this = this;\r\n            uni.setStorage({\r\n              key: 'type',\r\n              data: 'fastbuy',\r\n              success: function() {\r\n                _this.needTokenLink('/pages/checkout/index');\r\n              }\r\n            });\r\n          }\r\n        },\r\n        fail: error => {\r\n          uni.showToast({\r\n            title: error.message.msg,\r\n            icon: 'none'\r\n          });\r\n          console.log(error);\r\n        }\r\n      });\r\n    },\r\n\t\tskuActive(index, sonIndex, item) {\r\n\t\t\tthis.sku[index].active = sonIndex;\r\n\t\t\tthis.skuSelect[index] = item;\r\n\t\t\tthis.skuActiveChange();\r\n\t\t},\r\n\t\tskuActiveChange() {\r\n\t\t\tif (this.skuSelect.indexOf('占位') === -1) {\r\n\t\t\t\tthis.skuKey = '';\r\n\t\t\t\tconst _this = this;\r\n\t\t\t\tthis.skuSelect.forEach(item => {\r\n\t\t\t\t\t_this.skuKey += item + '_';\r\n\t\t\t\t});\r\n\t\t\t\t_this.skuKey = _this.skuKey.slice(0, _this.skuKey.length - 1);\r\n\t\t\t\tconst _index = this.skuLists.indexOf(_this.skuKey);\r\n\t\t\t\tthis.goodsSkuItem = this.detail.spec_list[_index];\r\n\t\t\t\tconsole.log(this.goodsSkuItem)\r\n\t\t\t\tif(this.detail.spec_list[_index].group_activty_id){\r\n\t\t\t\t  this.group_id = this.detail.spec_list[_index].group_activty_id\r\n        }else{\r\n          this.group_id = 0\r\n        }\r\n\t\t\t\tthis.value = 1;\r\n\t\t\t}\r\n\t\t},\r\n\t\tinitSku() {\r\n\t\t\tthis.sku = [];\r\n\t\t\tthis.skuKey = '';\r\n\t\t\tthis.skuSelect = [];\r\n\t\t\tthis.goodsSkuItem = this.detail.spec_list[0];\r\n\t\t\tthis.value = 1;\r\n\t\t\tif (this.detail.goods_spec === null) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tfor (let i = 0; i < this.detail.spec_name.length; i++) {\r\n\t\t\t\tlet obj = {\r\n\t\t\t\t\ttitle: '',\r\n\t\t\t\t\tlists: [],\r\n\t\t\t\t\tactive: -1\r\n\t\t\t\t};\r\n\t\t\t\tobj.title = this.detail.spec_name[i];\r\n\t\t\t\tfor (let j = 0; j < this.detail.goods_spec[i].length; j++) {\r\n\t\t\t\t\tobj.lists.push(this.detail.goods_spec[i][j]);\r\n\t\t\t\t}\r\n\t\t\t\tthis.sku.push(obj);\r\n\t\t\t\tthis.skuSelect.push('占位');\r\n\t\t\t}\r\n\t\t\tfor (let i = 0; i < this.detail.spec_list.length; i++) {\r\n\t\t\t\tthis.skuLists.push(this.detail.spec_list[i].spec_sign);\r\n\t\t\t}\r\n\t\t},\r\n\t\tgetGoodsDetail(idArr) {\r\n\t\t\tthis.$http({\r\n\t\t\t\taurl: 'getGoodsDetail',\r\n\t\t\t\taPath: idArr,\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\tthis.detail = res.data.result;\r\n\t\t\t\t\tif(res.data.result.is_group == 1){\r\n            this.getGroupOrder()\r\n          }\r\n\t\t\t\t\t// if(!res.data.result.spec_name){\r\n          //   this.detail = res.data.result.spec_list[0]\r\n          // }\r\n\t\t\t\t\tthis.isSeckill = res.data.result.is_sec_kill == 1 ? true : false;\r\n\t\t\t\t\tthis.isGroup = res.data.result.is_group == 1 ? true : false;\r\n\t\t\t\t\tlet result = this.detail.goods_body;\r\n\t\t\t\t\tconst regex = new RegExp('<img', 'gi');\r\n\t\t\t\t\tresult = result.replace(regex, `<img style=\"max-width: 100%;\"`);\r\n\t\t\t\t\tthis.detail.goods_body = result;\r\n\t\t\t\t\t//  秒杀商品\r\n\t\t\t\t\tif (this.isSeckill || this.isGroup) {\r\n            if(this.isSeckill){\r\n              this.seckillInfo = this.detail.sec_kill_info[0]\r\n            }else{\r\n              this.seckillInfo = this.detail.is_group_info[0];\r\n            }\r\n\r\n\t\t\t\t\t\tlet now_time = tool.toTimeStamp(tool.toFullTime()) / 1000;\r\n\t\t\t\t\t\tlet end_time = tool.toTimeStamp(this.seckillInfo.end_time) / 1000;\r\n\t\t\t\t\t\tthis.downSecond = end_time - now_time;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// toTimeStamp\r\n\t\t\t\t},\r\n\t\t\t\tfail: error => {\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tthis.$http({\r\n\t\t\t\taurl: 'getGoodsRate',\r\n\t\t\t\taPath: idArr,\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\tthis.rateLists = res.data.result.data;\r\n\t\t\t\t},\r\n\t\t\t\tfail: error => {\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tbannerChange(e) {\r\n\t\t\tthis.bannerIndex = e.detail.current;\r\n\t\t},\r\n\t\tchange: function(e) {\r\n\t\t\tthis.value = e.value;\r\n\t\t},\r\n\t\thidePopup() {\r\n\t\t\tthis.popupShow = false;\r\n\t\t},\r\n\t\tshowPopup() {\r\n\t\t\tthis.popupShow = true;\r\n\t\t},\r\n\t\tfavoriteToggle(url, tip) {\r\n\t\t\tthis.$http({\r\n\t\t\t\taurl: url,\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tgoods_id: this.detail.id\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\tthis.detail.is_favorite = !this.detail.is_favorite;\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: tip\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t\tfail: err => {}\r\n\t\t\t});\r\n\t\t},\r\n\t\ttapFavorite() {\r\n\t\t\tlet isFavoite = this.detail.is_favorite;\r\n\t\t\tif (!isFavoite) {\r\n\t\t\t\tthis.favoriteToggle('goodsFavorite', '收藏成功');\r\n\t\t\t} else {\r\n\t\t\t\tthis.favoriteToggle('goodFavoriteCancel', '取消收藏成功');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n","import mod from \"-!../../../../../../MyDownloads/Download/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../../../MyDownloads/Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--11-oneOf-1-1!../../../../../../MyDownloads/Download/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--11-oneOf-1-2!../../../../../../MyDownloads/Download/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../MyDownloads/Download/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../../../../MyDownloads/Download/HBuilderX/plugins/uniapp-cli/node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../../../../MyDownloads/Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--11-oneOf-1-5!../../../../../../MyDownloads/Download/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../MyDownloads/Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=style&index=0&id=07830a6a&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../../../../MyDownloads/Download/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../../../MyDownloads/Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--11-oneOf-1-1!../../../../../../MyDownloads/Download/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--11-oneOf-1-2!../../../../../../MyDownloads/Download/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../MyDownloads/Download/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../../../../MyDownloads/Download/HBuilderX/plugins/uniapp-cli/node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../../../../MyDownloads/Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--11-oneOf-1-5!../../../../../../MyDownloads/Download/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../MyDownloads/Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=style&index=0&id=07830a6a&lang=stylus&scoped=true&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}