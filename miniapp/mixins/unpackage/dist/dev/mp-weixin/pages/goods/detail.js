(global["webpackJsonp"] = global["webpackJsonp"] || []).push([["pages/goods/detail"],{

/***/ 108:
/*!****************************************************************!*\
  !*** D:/xm/ego小程序/ego-frontend/miniapp/pages/goods/detail.vue ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _detail_vue_vue_type_template_id_07830a6a_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./detail.vue?vue&type=template&id=07830a6a&scoped=true& */ 109);
/* harmony import */ var _detail_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./detail.vue?vue&type=script&lang=js& */ 112);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _detail_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _detail_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__[key]; }) }(__WEBPACK_IMPORT_KEY__));
/* harmony import */ var _detail_vue_vue_type_style_index_0_id_07830a6a_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./detail.vue?vue&type=style&index=0&id=07830a6a&lang=stylus&scoped=true& */ 115);
/* harmony import */ var _MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../MyDownloads/Download/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js */ 11);






/* normalize component */

var component = Object(_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(
  _detail_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],
  _detail_vue_vue_type_template_id_07830a6a_scoped_true___WEBPACK_IMPORTED_MODULE_0__["render"],
  _detail_vue_vue_type_template_id_07830a6a_scoped_true___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],
  false,
  null,
  "07830a6a",
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "xm/ego小程序/ego-frontend/miniapp/pages/goods/detail.vue"
/* harmony default export */ __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ 109:
/*!***********************************************************************************************************!*\
  !*** D:/xm/ego小程序/ego-frontend/miniapp/pages/goods/detail.vue?vue&type=template&id=07830a6a&scoped=true& ***!
  \***********************************************************************************************************/
/*! exports provided: render, staticRenderFns */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_detail_vue_vue_type_template_id_07830a6a_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../../../MyDownloads/Download/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../MyDownloads/Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--17-0!../../../../../../MyDownloads/Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../MyDownloads/Download/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib??vue-loader-options!../../../../../../MyDownloads/Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=template&id=07830a6a&scoped=true& */ 110);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_detail_vue_vue_type_template_id_07830a6a_scoped_true___WEBPACK_IMPORTED_MODULE_0__["render"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_17_0_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_detail_vue_vue_type_template_id_07830a6a_scoped_true___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });



/***/ }),

/***/ 110:
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--17-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/xm/ego小程序/ego-frontend/miniapp/pages/goods/detail.vue?vue&type=template&id=07830a6a&scoped=true& ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  var l0 = _vm.__map(_vm.groups, function(item, index) {
    var m0 = _vm.getTime(item.end_time)
    return {
      $orig: _vm.__get_orig(item),
      m0: m0
    }
  })

  var l1 = _vm.__map(_vm.coupon_list, function(item, index) {
    var m1 = Number(item.origin_condition)
    var m2 = Number(item.denominations)
    var m3 = Number(item.origin_condition)
    return {
      $orig: _vm.__get_orig(item),
      m1: m1,
      m2: m2,
      m3: m3
    }
  })

  var m4 = __webpack_require__(/*! ../../static/images/coupon.png */ 111)

  var l2 = _vm.__map(_vm.coupon_list, function(item, index) {
    var m5 = Number(item.denominations)
    var m6 = Number(item.origin_condition)
    return {
      $orig: _vm.__get_orig(item),
      m5: m5,
      m6: m6
    }
  })

  if (!_vm._isMounted) {
    _vm.e0 = function($event) {
      _vm.showCouponPopup = true
    }

    _vm.e1 = function($event) {
      _vm.showCouponPopup = false
    }
  }

  _vm.$mp.data = Object.assign(
    {},
    {
      $root: {
        l0: l0,
        l1: l1,
        m4: m4,
        l2: l2
      }
    }
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ 112:
/*!*****************************************************************************************!*\
  !*** D:/xm/ego小程序/ego-frontend/miniapp/pages/goods/detail.vue?vue&type=script&lang=js& ***!
  \*****************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_detail_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../../../MyDownloads/Download/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../../../MyDownloads/Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../../../MyDownloads/Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../MyDownloads/Download/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib??vue-loader-options!../../../../../../MyDownloads/Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=script&lang=js& */ 113);
/* harmony import */ var _MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_detail_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_detail_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_detail_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_detail_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_detail_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 113:
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/xm/ego小程序/ego-frontend/miniapp/pages/goods/detail.vue?vue&type=script&lang=js& ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;














































































































































































































































































































































var _toolFun = _interopRequireDefault(__webpack_require__(/*! ../../static/base/toolFun.js */ 114));
var _goods = _interopRequireDefault(__webpack_require__(/*! ../../mock/goods.js */ 25));


var _redirect = _interopRequireDefault(__webpack_require__(/*! ../../mixins/redirect.js */ 23));
var _global = _interopRequireDefault(__webpack_require__(/*! ../../mixins/global.js */ 24));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };} //
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
var EmTag = function EmTag() {return __webpack_require__.e(/*! import() | components/tag/tag */ "components/tag/tag").then(__webpack_require__.bind(null, /*! ../../components/tag/tag.vue */ 448));};var TagCoupon = function TagCoupon() {return __webpack_require__.e(/*! import() | components/tag/coupon */ "components/tag/coupon").then(__webpack_require__.bind(null, /*! ../../components/tag/coupon.vue */ 455));};var tuiBottomPopup = function tuiBottomPopup() {return __webpack_require__.e(/*! import() | components/bottom-popup/bottom-popup */ "components/bottom-popup/bottom-popup").then(__webpack_require__.bind(null, /*! ../../components/bottom-popup/bottom-popup */ 462));};var tuiNumberbox = function tuiNumberbox() {return __webpack_require__.e(/*! import() | components/numberbox/numberbox */ "components/numberbox/numberbox").then(__webpack_require__.bind(null, /*! ../../components/numberbox/numberbox */ 469));};var toHome = function toHome() {return __webpack_require__.e(/*! import() | components/header/ToHome */ "components/header/ToHome").then(__webpack_require__.bind(null, /*! ../../components/header/ToHome */ 406));};var uniCountdown = function uniCountdown() {return __webpack_require__.e(/*! import() | node-modules/@dcloudio/uni-ui/lib/uni-count-down/uni-count-down */ "node-modules/@dcloudio/uni-ui/lib/uni-count-down/uni-count-down").then(__webpack_require__.bind(null, /*! @dcloudio/uni-ui/lib/uni-countdown/uni-countdown.vue */ 476));};var _default = { name: 'detail', mixins: [_redirect.default, _global.default], components: { EmTag: EmTag, TagCoupon: TagCoupon, tuiBottomPopup: tuiBottomPopup, tuiNumberbox: tuiNumberbox, toHome: toHome, uniCountdown: uniCountdown }, data: function data() {return { groups: [], showCouponPopup: false, height: 64, //header高度
      top: 0, //标题图标距离顶部距离
      scrollH: 0, //滚动总高度
      popupShow: false, detail: {}, carouselList: _goods.default.goodsDetail.images, //轮播图下标
      bannerIndex: 0, goodsContent: _goods.default.goodsDetail.content, headTab: [], //
      selectedTab: 0, value: 1, rateLists: [], coupon_list: [], sku: [], skuLists: [], skuSelect: [], skuKey: '', goodsSkuItem: {}, isSeckill: false, isGroup: false, downSecond: 0, seckillInfo: [], couponShowInfo: [], btnIfLists: [], goods_id: 0, group_id: 0 };}, onReady: function onReady() {}, onLoad: function onLoad(options) {var _this2 = this; // tool.toFullTime();
    this.goods_id = options.id;console.log(_toolFun.default.toTimeStamp(_toolFun.default.toFullTime()));this.getGoodsDetail([options.id]); // let pagesArr = getCurrentPages();
    // let fromSeckill = pagesArr[pagesArr.length - 2].__route__.includes('seckill');
    // // 是否从秒杀活动页进来
    // if (fromSeckill) {
    // 	this.downSecond = options.ds;
    // }
    var obj = {};obj = wx.getMenuButtonBoundingClientRect();uni.getSystemInfo({ success: function success(res) {_this2.width = obj.left || res.windowWidth;_this2.height = obj.top ? obj.top + obj.height + 8 : res.statusBarHeight + 44;_this2.top = obj.top ? obj.top + (obj.height - 32) / 2 : res.statusBarHeight + 6;_this2.scrollH = res.windowWidth;} });}, watch: { detail: function detail() {var _this3 = this;this.initSku();var token = uni.getStorageSync('user_token');var couponType = '';if (token) {couponType = 'getCouPon';} else {couponType = 'getCouPonNoLogin';}this.$http({ aurl: couponType, params: { shop_id: this.detail.shop.id, page_size: 100000 }, success: function success(res) {_this3.coupon_list = res.data.result.data;for (var i = 0; i < _this3.coupon_list.length; i++) {_this3.couponShowInfo.push(false);_this3.btnIfLists.push(false);}}, fail: function fail(error) {console.log(error);} });} }, computed: {}, methods: { getTime: function getTime(time) {var now_time = _toolFun.default.toTimeStamp(_toolFun.default.toFullTime()) / 1000;var end_time = _toolFun.default.toTimeStamp(time) / 1000;return end_time - now_time;}, getGroupOrder: function getGroupOrder() {var _this4 = this;this.$http({ aurl: 'groupGoodsOrder', params: { id: this.goods_id }, success: function success(res) {_this4.groups = res.data.result;}, fail: function fail(error) {console.log(error);} });}, userGetCoupon: function userGetCoupon(item, index) {var _this5 = this;var data = { coupon_id: item.id };this.$http({ aurl: 'receive', data: data, success: function success(res) {_this5.showAlert('领取成功');_this5.$set(_this5.btnIfLists, index, !_this5.btnIfLists[index]);}, fail: function fail(error) {console.log(error);} });}, couponDetail: function couponDetail(index) {this.$set(this.couponShowInfo, index, !this.couponShowInfo[index]);}, timeUp: function timeUp() {uni.showToast({ title: '活动结束,下次早点来', icon: 'none' });this.isSeckill = false;}, payClick: function payClick(type) {var token = uni.getStorageSync('user_token');if (!token) {this.toLink('/pages/user/bindUser');return;}if (this.skuSelect.indexOf('占位') !== -1) {uni.showToast({ title: '请选择完商品规格', icon: 'none' });return;}var data = { quantity: this.value, type: type, sku_id: '' };if (this.isSeckill) {var seckId = this.detail.sec_kill_info[0].seckill_ap_id;data.actSign = 'seckill';data.activity_id = seckId;}if (this.isGroup && this.group_id !== 0) {data.actSign = 'is_group';data.activity_id = this.group_id;}if (this.detail.goods_spec === null) {data.sku_id = this.detail.spec_list[0].id;} else {data.sku_id = this.goodsSkuItem.id;}this.addCart(type, data);this.popupShow = false;this.initSku();}, addCart: function addCart(type, data) {var _this6 = this;this.$http({ aurl: 'addCart', data: data, success: function success(res) {if (type === 'cart') {uni.showToast({ title: '加入购物车成功' });} else {var _this = _this6;uni.setStorage({ key: 'type', data: 'fastbuy', success: function success() {_this.needTokenLink('/pages/checkout/index');} });}}, fail: function fail(error) {uni.showToast({ title: error.message.msg, icon: 'none' });console.log(error);} });}, skuActive: function skuActive(index, sonIndex, item) {this.sku[index].active = sonIndex;this.skuSelect[index] = item;this.skuActiveChange();}, skuActiveChange: function skuActiveChange() {if (this.skuSelect.indexOf('占位') === -1) {this.skuKey = '';var _this = this;this.skuSelect.forEach(function (item) {_this.skuKey += item + '_';});_this.skuKey = _this.skuKey.slice(0, _this.skuKey.length - 1);var _index = this.skuLists.indexOf(_this.skuKey);this.goodsSkuItem = this.detail.spec_list[_index];console.log(this.goodsSkuItem);if (this.detail.spec_list[_index].group_activty_id) {this.group_id = this.detail.spec_list[_index].group_activty_id;} else {this.group_id = 0;}this.value = 1;}}, initSku: function initSku() {this.sku = [];this.skuKey = '';this.skuSelect = [];this.goodsSkuItem = this.detail.spec_list[0];this.value = 1;if (this.detail.goods_spec === null) {return;}for (var i = 0; i < this.detail.spec_name.length; i++) {var obj = { title: '', lists: [], active: -1 };obj.title = this.detail.spec_name[i];for (var j = 0; j < this.detail.goods_spec[i].length; j++) {obj.lists.push(this.detail.goods_spec[i][j]);}this.sku.push(obj);this.skuSelect.push('占位');}for (var _i = 0; _i < this.detail.spec_list.length; _i++) {this.skuLists.push(this.detail.spec_list[_i].spec_sign);}}, getGoodsDetail: function getGoodsDetail(idArr) {var _this7 = this;this.$http({ aurl: 'getGoodsDetail', aPath: idArr, success: function success(res) {_this7.detail = res.data.result;if (res.data.result.is_group == 1) {_this7.getGroupOrder();} // if(!res.data.result.spec_name){
          //   this.detail = res.data.result.spec_list[0]
          // }
          _this7.isSeckill = res.data.result.is_sec_kill == 1 ? true : false;_this7.isGroup = res.data.result.is_group == 1 ? true : false;var result = _this7.detail.goods_body;var regex = new RegExp('<img', 'gi');result = result.replace(regex, "<img style=\"max-width: 100%;\"");_this7.detail.goods_body = result; //  秒杀商品
          if (_this7.isSeckill || _this7.isGroup) {if (_this7.isSeckill) {_this7.seckillInfo = _this7.detail.sec_kill_info[0];} else {_this7.seckillInfo = _this7.detail.is_group_info[0];}var now_time = _toolFun.default.toTimeStamp(_toolFun.default.toFullTime()) / 1000;var end_time = _toolFun.default.toTimeStamp(_this7.seckillInfo.end_time) / 1000;_this7.downSecond = end_time - now_time;} // toTimeStamp
        }, fail: function fail(error) {console.log(error);} });this.$http({ aurl: 'getGoodsRate', aPath: idArr, success: function success(res) {_this7.rateLists = res.data.result.data;}, fail: function fail(error) {console.log(error);} });}, bannerChange: function bannerChange(e) {this.bannerIndex = e.detail.current;}, change: function change(e) {this.value = e.value;}, hidePopup: function hidePopup() {this.popupShow = false;}, showPopup: function showPopup() {this.popupShow = true;}, favoriteToggle: function favoriteToggle(url, tip) {var _this8 = this;this.$http({ aurl: url, data: { goods_id: this.detail.id }, success: function success(res) {_this8.detail.is_favorite = !_this8.detail.is_favorite;uni.showToast({ title: tip });}, fail: function fail(err) {} });}, tapFavorite: function tapFavorite() {var isFavoite = this.detail.is_favorite;
      if (!isFavoite) {
        this.favoriteToggle('goodsFavorite', '收藏成功');
      } else {
        this.favoriteToggle('goodFavoriteCancel', '取消收藏成功');
      }
    } } };exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["default"]))

/***/ }),

/***/ 115:
/*!****************************************************************************************************************************!*\
  !*** D:/xm/ego小程序/ego-frontend/miniapp/pages/goods/detail.vue?vue&type=style&index=0&id=07830a6a&lang=stylus&scoped=true& ***!
  \****************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_11_oneOf_1_1_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_11_oneOf_1_2_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_stylePostLoader_js_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_11_oneOf_1_3_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_stylus_loader_index_js_ref_11_oneOf_1_4_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_11_oneOf_1_5_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_detail_vue_vue_type_style_index_0_id_07830a6a_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../../../MyDownloads/Download/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../../../MyDownloads/Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--11-oneOf-1-1!../../../../../../MyDownloads/Download/HBuilderX/plugins/uniapp-cli/node_modules/css-loader??ref--11-oneOf-1-2!../../../../../../MyDownloads/Download/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../MyDownloads/Download/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src??ref--11-oneOf-1-3!../../../../../../MyDownloads/Download/HBuilderX/plugins/uniapp-cli/node_modules/stylus-loader??ref--11-oneOf-1-4!../../../../../../MyDownloads/Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--11-oneOf-1-5!../../../../../../MyDownloads/Download/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib??vue-loader-options!../../../../../../MyDownloads/Download/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./detail.vue?vue&type=style&index=0&id=07830a6a&lang=stylus&scoped=true& */ 116);
/* harmony import */ var _MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_11_oneOf_1_1_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_11_oneOf_1_2_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_stylePostLoader_js_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_11_oneOf_1_3_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_stylus_loader_index_js_ref_11_oneOf_1_4_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_11_oneOf_1_5_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_detail_vue_vue_type_style_index_0_id_07830a6a_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_11_oneOf_1_1_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_11_oneOf_1_2_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_stylePostLoader_js_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_11_oneOf_1_3_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_stylus_loader_index_js_ref_11_oneOf_1_4_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_11_oneOf_1_5_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_detail_vue_vue_type_style_index_0_id_07830a6a_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_11_oneOf_1_1_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_11_oneOf_1_2_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_stylePostLoader_js_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_11_oneOf_1_3_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_stylus_loader_index_js_ref_11_oneOf_1_4_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_11_oneOf_1_5_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_detail_vue_vue_type_style_index_0_id_07830a6a_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_11_oneOf_1_1_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_11_oneOf_1_2_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_stylePostLoader_js_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_11_oneOf_1_3_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_stylus_loader_index_js_ref_11_oneOf_1_4_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_11_oneOf_1_5_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_detail_vue_vue_type_style_index_0_id_07830a6a_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_11_oneOf_1_1_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_11_oneOf_1_2_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_stylePostLoader_js_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_11_oneOf_1_3_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_stylus_loader_index_js_ref_11_oneOf_1_4_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_11_oneOf_1_5_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_MyDownloads_Download_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_detail_vue_vue_type_style_index_0_id_07830a6a_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 116:
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--11-oneOf-1-1!./node_modules/css-loader??ref--11-oneOf-1-2!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--11-oneOf-1-3!./node_modules/stylus-loader??ref--11-oneOf-1-4!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--11-oneOf-1-5!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/xm/ego小程序/ego-frontend/miniapp/pages/goods/detail.vue?vue&type=style&index=0&id=07830a6a&lang=stylus&scoped=true& ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ })

},[[107,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/goods/detail.js.map