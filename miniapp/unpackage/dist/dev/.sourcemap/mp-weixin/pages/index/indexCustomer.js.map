{"version":3,"sources":["uni-app:///main.js","webpack:////Users/huangdahao/Desktop/web/smartconns_go/miniapp/pages/index/indexCustomer.vue?9dba","webpack:////Users/huangdahao/Desktop/web/smartconns_go/miniapp/pages/index/indexCustomer.vue?5909","webpack:////Users/huangdahao/Desktop/web/smartconns_go/miniapp/pages/index/indexCustomer.vue?d71b","webpack:////Users/huangdahao/Desktop/web/smartconns_go/miniapp/pages/index/indexCustomer.vue?b301","uni-app:///pages/index/indexCustomer.vue","webpack:////Users/huangdahao/Desktop/web/smartconns_go/miniapp/pages/index/indexCustomer.vue?a676","webpack:////Users/huangdahao/Desktop/web/smartconns_go/miniapp/pages/index/indexCustomer.vue?6b64"],"names":["createPage","Page"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;kDAAA;AACA;AACA,4G;AACAA,UAAU,CAACC,sBAAD,CAAV,C;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAsI;AACtI;AACiE;AACL;AACwC;;;AAGpG;AACmN;AACnN,gBAAgB,iNAAU;AAC1B,EAAE,mFAAM;AACR,EAAE,oGAAM;AACR,EAAE,6GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,wGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACbA;AAAA;AAAA;AAAA;AAA01B,CAAgB,2yBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACyE92B;AACA;AACA,2F;;;;;AAKA;AACA,gEADA;AAEA;AACA,wBADA;AAEA,4BAFA;AAGA,kCAHA;AAIA,kBAJA,EAFA;;AAQA,MARA,kBAQA;AACA;AACA,8BADA;AAEA,eAFA;AAGA,kBAHA;AAIA,2BAJA;AAKA,qBALA;AAMA,sBANA;AAOA,kBAPA;AAQA,oBARA;AASA,qBATA;AAUA,iBAVA;AAWA,yBAXA;AAYA,6FAZA;AAaA,2BAbA;AAcA;AACA,kBADA;AAEA,eAFA;AAGA,mBAHA,EAdA;;AAmBA,0BAnBA;AAoBA;AACA,gBADA;AAEA,cAFA,EApBA;;AAwBA,oBAxBA;AAyBA,eAzBA;AA0BA,iBA1BA;AA2BA,YA3BA;AA4BA,YA5BA;AA6BA,mBA7BA;AA8BA,kBA9BA;AA+BA,kBA/BA;AAgCA,kBAhCA;AAiCA,aAjCA;AAkCA,aAlCA;AAmCA,oBAnCA;AAoCA,mBApCA;;AAsCA,GA/CA;AAgDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBADA;AAEA,uBAFA;AAGA;AACA,SAJA;;AAMA;AACA,kBADA;AAEA,uBAFA;AAGA;AACA,SAJA;;AAMA;AACA,KAdA;AAeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBADA;AAEA,iBAFA;AAGA;AACA,WAJA;;AAMA;AACA,oBADA;AAEA,uBAFA;AAGA;AACA,WAJA;;AAMA;AACA,OAnBA,MAmBA;AACA;AACA;AACA,uBADA;AAEA,kBAFA;AAGA;AACA,WAJA;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GA5GA;AA6GA,QA7GA,oBA6GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KALA,MAKA;AACA;AACA;AACA;AACA;AACA,GA1HA;AA2HA,eA3HA,2BA2HA;AACA,GA5HA;AA6HA;AACA;AACA;AACA;AACA;AACA;AACA,GAnIA;AAoIA;AACA,cADA,wBACA;AACA;AACA;AACA;AACA,KALA;AAMA,aANA,uBAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAnBA;AAoBA,gBApBA,0BAoBA;AACA;AACA,KAtBA;AAuBA,oBAvBA,8BAuBA;AACA;AACA;AACA;AACA,sBADA;;AAGA;AACA;AACA;AACA;AACA;AACA,gCADA;AAEA,sBAFA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aALA,MAKA;AACA;AACA,6BADA;AAEA,oFAFA;AAGA,uBAHA,mBAGA,GAHA,EAGA;AACA;AACA;AACA;AACA;AACA;AACA,mBALA,MAKA;AACA;AACA;AACA;AACA;AACA;AACA,iBAfA;AAgBA,oBAhBA,kBAgBA;AACA,iBAjBA;;AAmBA,aApBA,MAoBA;AACA;AACA;AACA;AACA;AACA;AACA,WAhCA,MAgCA;AACA;AACA;AACA;AACA;AACA;AACA,SAjDA;AAkDA;AACA;AACA,SApDA;;AAsDA,KAvFA;AAwFA,oBAxFA,8BAwFA;AACA;AACA;AACA,gBADA;AAEA,eAFA,qBAEA;AACA;AACA,SAJA;AAKA,YALA,kBAKA;AACA;AACA,yBADA;AAEA,+CAFA;AAGA,6BAHA;AAIA,4BAJA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAHA,MAGA;AACA;AACA;AACA;AACA;AACA,mBAVA;;AAYA,eAdA,MAcA;AACA;AACA;AACA;AACA;AACA,aAzBA;;AA2BA,SAjCA;;AAmCA,KA7HA;AA8HA,mBA9HA,6BA8HA;AACA;AACA;AACA,qBADA;AAEA,eAFA,mBAEA,GAFA,EAEA;AACA;AACA;AACA;AACA;AACA,SAPA;AAQA,YARA,gBAQA,GARA,EAQA;AACA;AACA;AACA,SAXA;;AAaA,KA7IA;AA8IA,iBA9IA,2BA8IA;AACA;AACA;AACA,eADA,mBACA,GADA,EACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA,SAPA;;AASA,KAzJA;;AA2JA,mBA3JA,6BA2JA;AACA;AACA;AACA,0BADA;AAEA;AACA,4BADA,EAFA;;AAKA;AACA;AACA,SAPA;AAQA;AACA;AACA,SAVA;;AAYA,KAzKA;AA0KA,gBA1KA,0BA0KA;AACA;AACA,0BADA;AAEA;AACA;AACA,SAJA;AAKA;AACA;AACA,SAPA;AAQA;AACA,SATA;;AAWA,KAtLA;AAuLA,UAvLA,kBAuLA,CAvLA,EAuLA;AACA;AACA,KAzLA;AA0LA,UA1LA,oBA0LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAHA,EAGA,IAHA;AAIA;AACA;AACA,OAFA,EAEA,IAFA;AAGA,KArMA;AAsMA,kBAtMA,4BAsMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAjNA;AAkNA,mBAlNA,6BAkNA;AACA;AACA,KApNA;AAqNA,kBArNA,4BAqNA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KA3NA;AA4NA,gBA5NA,0BA4NA;AACA;AACA;AACA,4BADA;AAEA;AACA,8CADA,EAFA;;AAKA;AACA;AACA;AACA;AACA,qCADA;AAEA,0BAFA;;AAIA;AACA,SAbA;AAcA;AACA;AACA,SAhBA;;;AAmBA,KAjPA;AAkPA,YAlPA,oBAkPA,KAlPA,EAkPA;AACA;AACA;AACA,4BADA;AAEA;AACA,sBADA,EAFA;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA,aAHA,MAGA;AACA;AACA;AACA;AACA,SAfA;AAgBA;AACA;AACA,SAlBA;;AAoBA,KAxQA;AAyQA,qBAzQA,+BAyQA;AACA;AACA,KA3QA;AA4QA,sBA5QA,gCA4QA;AACA;AACA;AACA,KA/QA;AAgRA,QAhRA,kBAgRA;AACA;AACA,yCADA;;AAGA,KApRA;AAqRA,UArRA,oBAqRA;AACA;AACA,mCADA;;AAGA,KAzRA;AA0RA,eA1RA,yBA0RA;AACA;AACA,KA5RA;AA6RA,aA7RA,uBA6RA;AACA;AACA;AACA,2BADA;AAEA;AACA,sBADA;AAEA,2BAFA;AAGA,0BAHA,EAFA;;AAOA;AACA;AACA,SATA;AAUA;AACA;AACA;AACA,SAbA;AAcA;AACA;AACA,SAhBA;;AAkBA,KAjTA;AAkTA,eAlTA,yBAkTA;AACA;AACA,uDADA;AAEA,yDAFA;AAGA,iDAHA;;AAKA;AACA,KAzTA;AA0TA,cA1TA,wBA0TA;AACA;AACA;AACA;AACA,KA9TA;AA+TA,aA/TA,uBA+TA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAPA,EAOA,IAPA;AAQA;AACA,OAXA,MAWA;AACA;AACA;AACA,KA9UA;AA+UA,YA/UA,sBA+UA;AACA;AACA,wBADA;AAEA;AACA;AACA;AACA;AACA;AACA,SAPA;AAQA;AACA;AACA,SAVA;AAWA;;AAEA,SAbA;;AAeA,KA/VA,EApIA;;AAqeA,SAreA,qBAqeA;AACA,GAteA,E;;;;;;;;;;;;;;;AChFA;AAAA;AAAA;AAAA;AAA8jD,CAAgB,o6CAAG,EAAC,C;;;;;;;;;;ACAllD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/index/indexCustomer.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/index/indexCustomer.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./indexCustomer.vue?vue&type=template&id=33bbc02c&scoped=true&\"\nvar renderjs\nimport script from \"./indexCustomer.vue?vue&type=script&lang=js&\"\nexport * from \"./indexCustomer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./indexCustomer.vue?vue&type=style&index=0&id=33bbc02c&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"33bbc02c\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/index/indexCustomer.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./indexCustomer.vue?vue&type=template&id=33bbc02c&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function() {\n      return (_vm.showGuidePopup = false)\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./indexCustomer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./indexCustomer.vue?vue&type=script&lang=js&\"","<template>\n\t<view style=\"padding-bottom: 88rpx;\" :style=\"{ paddingTop: myHeight + 37 + 'px'}\">\n\t\t<view>\n\t\t<view class=\"boxHeight\">\n\t\t<view class=\"index-box\">\n\t\t\t<view class=\"mp-search-box\" :style=\"{ boxSizing: 'border-box', height: myHeight + 'px', paddingTop: myTop + 'px'}\">\n\t\t\t\t<view class=\"index-head\" :style=\"{ height: myHeight - myTop - 6 + 'px', lineHeight: myHeight - myTop - 6 + 'px' }\">\n\t\t\t\t\t<text class=\"my-text mt-md\">极汇Go</text>\n\t\t\t\t</view>\n\t\t\t</view>\n      <view v-if=\"shop_lists.length > 0\" class=\"search_box\" :style=\"{ position: 'fixed',zIndex: 999999, top: myHeight + 'px'}\">\n\t\t\t  <view class=\"search_box_l\" @click=\"jump\">\n\t\t\t    <image src=\"../../static/icon/icon-triangle-down.png\" class=\"icon-triangle\"></image>\n\t\t\t    <view class=\"my-text\">{{sltIndexItem.name}}</view>\n\t\t\t  </view>\n\t\t\t  <view class=\"search_box_r\">\n\t\t\t    <text class=\"emfont icon-search mr-md\"></text>\n\t\t\t    <input class=\"ser-input\" type=\"text\" value=\"搜索\" disabled @tap=\"search\"/>\n\t\t\t  </view>\n      </view>\n\t\t<view class=\"pos-re100\">\n\t\t\t<indexView :dataLists=\"lists\"></indexView>\n\t\t</view>\n\t\t</view>\n\t\t<view class=\"fixedImg\" v-if=\"showA\">\n\t\t\t<view class=\"pos-re w100\">\n\t\t\t\t<view class=\"imgBox\"><image :src=\"alertItem.pop_url.value.image_url\" mode=\"widthFix\" @tap=\"toAlertLink\"></image>\n\t\t\t\t<view class=\"closeItem fxBox1\">\n\t\t\t\t\t<text class=\"mr-md text-md\">{{ alertItem.pop_time.value }}s</text>\n\t\t\t\t\t<text @click.stop=\"closeAlert\" class=\"emfont icon-round_close_light\"></text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t</view>\n\t\t</view>\n\t\t</view>\n    <van-popup :show=\"showPopup\" :z-index=\"999999\" class=\"integral-popup\" @click-overlay=\"closeIntegralPopup\">\n      <view class=\"popup-main\">\n        <img mode=\"widthFix\" src=\"https://egoss1.ytholidayplaza.com/images/default/202005/19/LvgIVJMjCwllF9N00X3MPaDxIEuoZlQUFvhw7cyS.png\" alt=\"\" class=\"popup-bg\">\n        <view class=\"icon-close-box\">\n          <image src=\"https://egoss1.ytholidayplaza.com/images/default/202005/19/CkTVkodtMn6zyIhb8hqdW0AeSuRa4rvWvW8OcMFK.png\" @click=\"closeIntegralPopup\" class=\"close-icon\"></image>\n        </view>\n        <view class=\"popup-tit\">恭喜获得</view>\n        <view class=\"integral-box\">\n          <view class=\"integral-num\">\n            <text>{{rewardPoint}}</text>\n            <text class=\"integral-unit\">积分</text>\n          </view>\n          <view class=\"integral-label\">领取后，请到【我的】-【积分】中查看</view>\n        </view>\n        <view class=\"btn-box\">\n          <image @click=\"rewardPoints\" class=\"btn-img\" mode=\"widthFix\" src=\"https://egoss1.ytholidayplaza.com/images/default/202005/19/6AtnmaMqBoeVUUwmOOfCO5JYOSUlr6UBWhNrZweC.png\"></image>\n        </view>\n      </view>\n    </van-popup>\n    <!--添加程序引导-->\n    <van-popup :show=\"showGuidePopup\" overlay-style=\"background:transparent\" :custom-style=\"'top:' + guidePopupTop +'px;right:'+guidePopupRight+'px;'\" position=\"right\" :z-index=\"999999\" class=\"guide-popup\" @click-overlay=\"() => (showGuidePopup = false)\">\n      <view class=\"popup-main\">\n        <view class=\"popup-header\">\n          <view class=\"triangle\" :style=\"'right:'+ guideTriangleRight+'px'\"></view>\n        </view>\n        <view class=\"popup-content p-md\">\n          <view class=\"text-base text-center\">点击“添加到我的小程序”</view>\n          <view class=\"text-base text-center\"> 随时随地享优惠</view>\n        </view>\n      </view>\n    </van-popup>\n    <tab-bar ref=\"tabbar\" class=\"tab-bar-fixs\" :actives='0'></tab-bar>\n  </view>\n</template>\n\n<script>\n  import indexView from '../../components/editTemps/indexView'\n  import redirect from '../../mixins/redirect.js';\n  import global from '../../mixins/global.js';\n  import cartNum from '../../mixins/cartNum';\n  import uniLoadMore from '@dcloudio/uni-ui/lib/uni-load-more/uni-load-more.vue';\n  import recommendGoods from '../../components/lists/recommendGoods';\n  import tabBar from '../../components/tabbar/tabbar.vue';\n\n  export default {\n    mixins: [redirect, global,cartNum],\n    components:{\n      indexView,\n      uniLoadMore,\n      recommendGoods,\n      tabBar\n    },\n    data() {\n      return {\n        addrAuthorization: false,\n\t\t\t\tagent:'',\n\t\t\t\tagent_id:'',\n        showGuidePopup: false,\n        rewardPoint: '',\n        showPopup: false,\n        showA: false,\n        onLoadCount: 0,\n        optionToken: '',\n        gmToken: '',\n        currentClassify: '',\n        loadText: { contentdown: '上拉显示更多', contentrefresh: '正在加载...', contentnomore: '暂无更多数据' },\n        loadStatus: 'loading',\n        loadMore: {\n          current: 1,\n          last: 1,\n          flat: false\n        },\n        indexItemShow: false,\n        sltIndexItem: {\n          name: '',\n          id: ''\n        },\n        indexItems: [],\n        lists:[],\n        timeOut: '',\n        x: 500,\n        y: 500,\n        alertItem:{},\n        scrollTop:0,\n        boxHeight:0,\n        topHeight:0,\n        lng: '',\n        lat: '',\n        shop_lists:[],\n        isProject:'',\n      };\n    },\n    onLoad:function(options){\n      if(options.isProject){\n        this.isProject = options.isProject;\n      }\n      uni.hideTabBar();\n\t\t\tif(options.t){\n\t\t\t\tuni.setStorage({\n\t\t\t\t\tkey: 'source',\n\t\t\t\t\tdata:options.t,\n\t\t\t\t\tsuccess: function () {\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tuni.setStorage({\n\t\t\t\t\tkey: 'pid',\n\t\t\t\t\tdata:options.p,\n\t\t\t\t\tsuccess: function () {\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthis.agent_id = options.p\n\t\t\t}\n\t\t\telse if(options.scene){\n\t\t\t\tconst str = decodeURIComponent(options.scene);\n\t\t\t\t// console.log(str);\n\t\t\t\tconst strArr = str.split('&');\n\t\t\t\t// console.log(strArr);\n\t\t\t\tif(strArr.length===2){\n\t\t\t\t\tlet t = strArr[0].substring(2);\n\t\t\t\t\tconst user_id = strArr[1].substring(3);\n\t\t\t\t\tif(t==='g'){\n\t\t\t\t\t\tt='goods'\n\t\t\t\t\t}\n\t\t\t\t\tuni.setStorage({\n\t\t\t\t\t\tkey: 'source',\n\t\t\t\t\t\tdata:t,\n\t\t\t\t\t\tsuccess: function () {\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tuni.setStorage({\n\t\t\t\t\t\tkey: 'pid',\n\t\t\t\t\t\tdata:user_id,\n\t\t\t\t\t\tsuccess: function () {\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tthis.agent_id = user_id\n\t\t\t\t}else{\n\t\t\t\t\tlet t = strArr[0].substring(7);\n\t\t\t\t\tuni.setStorage({\n\t\t\t\t\t\tkey: 'bounty',\n\t\t\t\t\t\tdata:t,\n\t\t\t\t\t\tsuccess: function () {\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n      this.isGetLocation();\n      // if (uni.getStorageSync('isPerfect')) {\n      //   uni.switchTab({\n      //     url: '/pages/user/index'\n      //   });\n      // }\n    },\n    onShow() {\n\t\t\tconst token = uni.getStorageSync('user_token');\n      this.getCartNum();\n      if(token){\n\t\t\t\tthis.getAgentType();\n\t\t\t\tif(this.agent_id){\n\t\t\t\t\tthis.setGoodsRelated();\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\tif(this.agent_id){\n\t\t\t\t\tthis.toLink('/pagesB/user/bindUser?to=index');\n\t\t\t\t}\n\t\t\t}\n\t},\n    onReachBottom() {\n\t},\n\t\tonPageScroll: function(e) {\n\t\t //console.log('滚动高度',e.scrollTop,this.boxHeight);\n\t\tthis.scrollTop= e.scrollTop\n\t\t// if(this.boxHeight>0&&this.scrollTop>=this.boxHeight){\n\t\t// \tconsole.log('导航置顶');\n\t\t// }\n\t},\n    methods: {\n      getCartNum() {\n        if(this.$refs.tabbar){\n          this.$refs.tabbar.initCartNumber()\n        }\n      },\n      judgeLoad(){ //加载数据前判断\n\t\t\t\tthis.addrAuthorization = false;\n\t\t\t\tlet user_token_invalid = uni.getStorageSync('user_token_invalid');\n        let userToken = uni.getStorageSync('user_token');\n        if(userToken){\n        \t// 判断user_token是否失效\n          if (user_token_invalid <= new Date().getTime()) {\n            uni.removeStorageSync('user_token');\n            uni.removeStorageSync('user_info');\n          }\n        }\n        this.getIndexItem();\n\n      },\n      getIndexItem(){\n        this.getDetail();\n      },\n      getNearbyProject(){ // 获取附近项目\n        const that = this;\n        const gmToken = uni.getStorageSync('gmToken');\n        const params =  {\n          gm_id:gmToken\n        };\n        if(this.lng){\n          params.lng = this.lng;\n          params.lat = this.lat;\n        }\n        this.$http({\n          aurl: 'nearbyShopNearby',\n          params:params,\n          success: res => {\n            const result = res.data.result;\n            this.shop_lists = result.shop_list;\n            if(this.shop_lists.length===0){\n              this.showAlert('小程序还没有门店开张，敬请期待！');\n              return false;\n            }\n            const shop_id = uni.getStorageSync('shop_id');\n            if(this.lng){\n              if(!shop_id){\n                uni.setStorageSync('shop_id', result.nearby_shop.shop_id);\n                this.sltIndexItem.name = result.nearby_shop.shop_name;\n                this.sltIndexItem.id = result.nearby_shop.shop_id;\n                that.judgeLoad();\n              } else if(shop_id !== result.nearby_shop.shop_id && !this.isProject){\n                uni.showModal({\n                  title:'温馨提示',\n                  content: '定位查询到附近门店为（'+result.nearby_shop.shop_name+'）,设置为当前门店？',\n                  success(res){\n                    if(res.confirm){\n                      uni.setStorageSync('shop_id', result.nearby_shop.shop_id);\n                      that.sltIndexItem.name = result.nearby_shop.shop_name;\n                      that.sltIndexItem.id = result.nearby_shop.shop_id;\n                      that.judgeLoad();\n                    }else{\n                      const initItem = that.shop_lists.filter((item)=>item.shop_id===shop_id);\n                      that.sltIndexItem.name = initItem[0].shop_name;\n                      that.sltIndexItem.id = initItem[0].shop_id;\n                      that.judgeLoad();\n                    }\n                  },\n                  fail(){\n                  }\n                })\n              }else{\n                const initItem = that.shop_lists.filter((item)=>item.shop_id===shop_id);\n                that.sltIndexItem.name = initItem[0].shop_name;\n                that.sltIndexItem.id = initItem[0].shop_id;\n                that.judgeLoad();\n              }\n            }else{\n              uni.setStorageSync('shop_id',this.shop_lists[0]);\n              this.sltIndexItem.name = this.shop_lists[0].shop_name;\n              this.sltIndexItem.id = this.shop_lists[0].shop_id;\n              that.judgeLoad();\n            }\n          },\n          fail: error => {\n            console.log(error);\n          }\n        });\n      },\n\t\t\tgetAuthorizeInfo(a=\"scope.userLocation\"){  //1. uniapp弹窗弹出获取授权（地理，个人微信信息等授权信息）弹窗\n\t\t\t\tvar that=this;\n\t\t\t\tuni.authorize({\n\t\t\t\t\tscope: a,\n\t\t\t\t\tsuccess() { //1.1 允许授权\n\t\t\t\t\t\tthat.getLocationInfo();\n\t\t\t\t\t},\n\t\t\t\t\tfail(){    //1.2 拒绝授权\n            wx.showModal({\n              title: '温馨提示',\n              content: '您已拒绝授权，无法获得周边信息，是否去设置打开？',\n              confirmText: \"确认\",\n              cancelText: \"取消\",\n              success: function(res) {\n                if (res.confirm) {\n\t\t\t\t\t\t\t\t\tthat.addrAuthorization = true;\n\t\t\t\t\t\t\t\t\twx.openSetting({\n                    success: (res) => {\n                      if (!res.authSetting['scope.userLocation']) { // 用户没设置打开\n                        that.getNearbyProject();\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log('客户没确认')\n\t\t\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\t\t\tthat.getLocationInfo();\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log('客户确认了')\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t// that.addrAuthorization = false;\n\t\t\t\t\t\t\t\t\t\t}\n                  });\n                } else {\n                \t// 点击了取消\n\t\t\t\t\t\t\t\t\tthat.addrAuthorization = false;\n\t\t\t\t\t\t\t\t\tthat.getNearbyProject();\n                }\n              }\n            });\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tgetLocationInfo(){  //2. 获取地理位置\n\t\t\t\tvar that=this;\n\t\t\t\tuni.getLocation({\n\t\t\t\t\ttype: 'wgs84',\n\t\t\t\t\tsuccess (res) {\n\t\t\t\t\t\tlet latitude,longitude;\n\t\t\t\t\t\tthat.lat = latitude = res.latitude.toString();\n            that.lng = longitude = res.longitude.toString();\n            that.getNearbyProject()\n\t\t\t\t\t},\n          fail(res){\n\t\t\t\t\t  // 获取定位失败\n            that.getNearbyProject();\n          }\n\t\t\t\t});\n\t\t\t},\n\t\t\tisGetLocation(a=\"scope.userLocation\"){ // 3. 检查当前是否已经授权访问scope属性，参考下截图\n\t\t\t\tvar that=this;\n\t\t\t\tuni.getSetting({\n\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\tif (!res.authSetting[a]) {  //3.1 每次进入程序判断当前是否获得授权，如果没有就去获得授权，如果获得授权，就直接获取当前地理位置\n\t\t\t\t\t\t\tthat.getAuthorizeInfo()\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthat.getLocationInfo()\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\n    \tsetGoodsRelated(){\n\t\t\t\tconsole.log('pid'+this.agent_id);\n\t\t\t\tthis.$http({\n\t\t\t\t\taurl: 'setRelated',\n\t\t\t\t\tparams: {\n\t\t\t\t\t\tpid:this.agent_id\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t},\n\t\t\t\t\tfail: error => {\n\t\t\t\t\t\tconsole.log(error);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\tgetAgentType(){\n\t\t\t\tthis.$http({\n\t\t\t\t\taurl: 'applyCheck',\n\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\tthis.agent = res.data.result.apply_status\n\t\t\t\t\t},\n\t\t\t\t\tfail: error => {\n\t\t\t\t\t\tconsole.log(error);\n\t\t\t\t\t},\n\t\t\t\t\tcomplete:res=>{\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t  scroll(e){\n\t\t\tthis.scrollTop=e.detail.scrollTop\n\t\t},\n\t  getTop(){\n\t\tvar query = uni.createSelectorQuery();\n\t\t//选择id\n\t\tlet that=this\n\t\tquery.select('.boxHeight').boundingClientRect(function (rect) {\n\t\t\tconsole.log('组件高度',rect.height);\n\t\t\tthat.boxHeight=rect.height\n\t\t}).exec();\n\t\tquery.select('.mp-search-box').boundingClientRect(function (rect) {\n\t\t\tthat.topHeight=rect.height\n\t\t}).exec();\n\t  },\n      openGuidePopup () {\n        let guide_invalid = uni.getStorageSync('guide_invalid')\n        if(guide_invalid){\n          if(guide_invalid >= new Date().getTime()){\n            return false;\n          }\n        }\n        // 记录三天后再次弹出\n        guide_invalid = new Date().getTime() + 3600*24*1000*3;\n        uni.setStorageSync('guide_invalid',guide_invalid);\n        this.showGuidePopup = true\n      },\n      closeGuidePopup () {\n        this.showGuidePopup = false\n      },\n      handleGetPopup(){\n        if(uni.getStorageSync('user_token') && uni.getStorageSync('user_token_invalid') > new Date().getTime()){\n          this.getPopup(uni.getStorageSync('gmToken'))\n        }else{\n          this.openGuidePopup()\n        }\n      },\n      rewardPoints(){\n        // 新会员领取赠送积分\n        this.$http({\n          aurl: 'rewardPoints',\n          data: {\n            gm_id: uni.getStorageSync('gmToken')\n          },\n          success: res => {\n            if (res.data.code === 0) {\n              this.closeIntegralPopup();\n              uni.showToast({\n                title: res.data.message,\n                icon: 'none'\n              });\n            }\n          },\n          fail: error => {\n            console.log(error);\n          }\n        });\n\n      },\n      getPopup(gm_id){\n        // 会员弹窗送积分判断\n        this.$http({\n          aurl: 'isSendPoints',\n          data: {\n            gm_id: gm_id,\n          },\n          success: res => {\n            if (res.data.code === 0) {\n              let result = res.data.result\n              if(result.open_status){\n                this.rewardPoint = result.point\n                this.showIntegralPopup();\n              }else{\n                this.openGuidePopup();\n              }\n            }\n          },\n          fail: error => {\n            console.log(error);\n          }\n        });\n      },\n      showIntegralPopup () {\n        this.showPopup = true\n      },\n      closeIntegralPopup () {\n        this.showPopup = false\n        this.openGuidePopup()\n      },\n      jump(){\n        uni.navigateTo({\n          url: '/pagesA/index/groupProject',\n        });\n      },\n      search() {\n        uni.navigateTo({\n          url: '/pagesA/goods/search'\n        });\n      },\n      cancelModel() {\n        this.indexItemShow = false;\n      },\n      getDetail(){\n        const shop_id = uni.getStorageSync('shop_id');\n        this.$http({\n          aurl: 'getTmplInfo',\n          params:{\n            type:'tmpl',\n            page:'shop_home',\n            shop_id:shop_id\n          },\n          success: res => {\n            this.lists = res.data.result\n          },\n          fail: error => {\n            this.getAlert();\n            console.log(error);\n          },\n          complete: () => {\n            this.getAlert();\n          }\n        });\n      },\n      toAlertLink() {\n        const item = {\n          urlType : this.alertItem.pop_url.value.show_type,\n          shop_type : this.alertItem.pop_url.value.shop_type,\n          value : this.alertItem.pop_url.value.value,\n        };\n        this.customTo(item);\n      },\n      closeAlert() {\n        clearInterval(this.timeOut);\n        this.showA = false;\n        this.handleGetPopup();\n      },\n      showModel() {\n        if (this.alertItem.pop_switch.value === 1) {\n          let that = this;\n          this.timeOut = setInterval(function() {\n            that.alertItem.pop_time.value--;\n            if (that.alertItem.pop_time.value === 0) {\n              clearInterval(that.timeOut);\n              that.showA = false;\n              that.handleGetPopup();\n            }\n          }, 1000);\n          this.showA = true;\n        }else{\n          this.handleGetPopup();\n        }\n      },\n      getAlert() {\n        this.$http({\n          aurl: 'imagePop',\n          success: res => {\n            if (res.data.code === 0) {\n              this.alertItem = res.data.result;\n              this.showModel();\n            }\n          },\n          fail: error => {\n            console.log(error);\n          },\n          complete: () => {\n\n          }\n        });\n      },\n    },\n    mounted() {\n    },\n  };\n</script>\n\n<style lang=\"stylus\" scoped>\n@import '../../variable.styl'\n.guide-popup\n  >>>.van-popup\n      background transparent\n      .popup-main\n        padding 15px\n        .popup-header\n          position relative\n          height 16px\n          .triangle\n            width 0\n            height 0\n            border 8px solid transparent\n            border-bottom-color #fff\n            position absolute\n            top 0\n        .popup-content\n          background #ffffff\n          border-radius 16rpx\n          box-shadow 0 0 20rpx 0 rgba(0,0,0,.2)\n.integral-popup\n  >>>.van-popup\n    height auto\n    width 79%\n    background-color transparent\n    .popup-main\n      position relative\n      .popup-bg\n        width 100%\n        vertical-align top\n      .btn-box\n        text-align center\n        position absolute\n        top 65%\n        width 100%\n        left 0\n        .btn-img\n          width 50%\n          vertical-align top\n      .icon-close-box\n        display flex\n        justify-content center\n      .close-icon\n        width 72rpx\n        height 72rpx\n        vertical-align top\n      .popup-tit\n        position absolute\n        width 100%\n        top 18%\n        text-align center\n        font-size 40rpx\n        color #ED613E\n      .integral-box\n        position absolute\n        top 31%\n        width 100%\n        .integral-num\n          text-align center\n          font-size 120rpx\n          font-weight bold\n          color #ED613E\n          .integral-unit\n            margin-top 46rpx\n            font-size 32rpx\n            font-weight normal\n            margin-left 10rpx\n        .integral-label\n          font-size 22rpx\n          color #ED613E\n          text-align center\n.closeIcon\n  position absolute\n  right 0\n  top 0\n.fixedImg\n  position fixed\n  height 100%\n  width 100%\n  top 0\n  left 0\n  display flex\n  justify-content center\n  align-items center\n  background rgba(0, 0, 0, 0.3)\n  z-index 9999\n  .closeItem\n    position absolute\n    right -50rpx\n    top -70rpx\n    font-size 60rpx\n    color #fff\n  .imgBox\n    width 80%\n    margin 0 auto\n    position relative\n    image\n      width 100%\n.mp-search-box\n  background #fff\n  color $em-text-color\n\n.index-box\n  position relative\n  /*background #fff*/\n.index-head\n  text-align center\n  /*padding-right 90rpx*/\n  box-sizing border-box\n  width 100%\n  font-size 37rpx\n.box-bottom\n\tmax-height 100%\n\tdisplay flex\n\talign-items center\n\t/*height 400rpx*/\n</style>\n","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--11-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--11-oneOf-1-5!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./indexCustomer.vue?vue&type=style&index=0&id=33bbc02c&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--11-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--11-oneOf-1-5!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./indexCustomer.vue?vue&type=style&index=0&id=33bbc02c&lang=stylus&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1604546394969\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}