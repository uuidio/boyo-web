{"version":3,"sources":["uni-app:///main.js","webpack:////Users/huangdahao/Desktop/web/smartconns_go/miniapp/pagesA/user/order/saleDetail.vue?8bcc","webpack:////Users/huangdahao/Desktop/web/smartconns_go/miniapp/pagesA/user/order/saleDetail.vue?bf84","webpack:////Users/huangdahao/Desktop/web/smartconns_go/miniapp/pagesA/user/order/saleDetail.vue?bda8","webpack:////Users/huangdahao/Desktop/web/smartconns_go/miniapp/pagesA/user/order/saleDetail.vue?f2ab","uni-app:///pagesA/user/order/saleDetail.vue","webpack:////Users/huangdahao/Desktop/web/smartconns_go/miniapp/pagesA/user/order/saleDetail.vue?9aff","webpack:////Users/huangdahao/Desktop/web/smartconns_go/miniapp/pagesA/user/order/saleDetail.vue?e5ae"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,6G;AACAA,UAAU,CAACC,mBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmI;AACnI;AAC8D;AACL;AACwC;;;AAGjG;AACsN;AACtN,gBAAgB,iNAAU;AAC1B,EAAE,gFAAM;AACR,EAAE,iGAAM;AACR,EAAE,0GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,qGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,WAAW,qPAEN;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACnBA;AAAA;AAAA;AAAA;AAAs2B,CAAgB,wyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC+F13B;AACA;AACA,wBADA,EADA;;AAIA,MAJA,kBAIA;AACA;AACA,sBADA;AAEA,aAFA;AAGA,aAHA;AAIA,gBAJA;AAKA,cALA;AAMA,iBANA;AAOA,qBAPA;AAQA;AACA,2BADA;AAEA,wBAFA;AAGA,uBAHA;AAIA,kBAJA;AAKA,eALA;AAMA,eANA;AAOA,8BAPA,EARA;;;AAkBA,GAvBA;AAwBA;AACA;AACA;AACA;AACA;AACA,GA7BA;AA8BA;AACA,cADA,wBACA;AACA;AACA;AACA,0BADA;AAEA,sBAFA;;AAIA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA,SAHA,MAGA;AACA;AACA;AACA;AACA;AACA;AACA,0BADA;AAEA,2BAFA;AAGA;AACA;AACA;AACA,2BADA;AAEA,0BAFA;;AAIA;AACA;AACA,wBADA;;AAGA,aAJA,EAIA,GAJA;AAKA;AACA,SAfA;AAgBA;AACA;AACA,SAlBA;;AAoBA,KAxCA;AAyCA,eAzCA,uBAyCA,KAzCA,EAyCA;AACA;AACA,KA3CA;AA4CA,eA5CA,yBA4CA;AACA;AACA,+BADA;AAEA;AACA,gCADA;AAEA,gCAFA,EAFA;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAdA;AAeA;AACA;AACA,SAjBA;;AAmBA,KAhEA;AAiEA,gBAjEA,wBAiEA,KAjEA,EAiEA;AACA;AACA;AACA;AACA,KArEA;AAsEA,eAtEA,uBAsEA,KAtEA,EAsEA;AACA;AACA;AACA;AACA,KA1EA;AA2EA,cA3EA,wBA2EA;AACA;AACA,KA7EA,EA9BA;;AA6GA,SA7GA,qBA6GA;AACA,GA9GA,E;;;;;;;;;;;;;AC/FA;AAAA;AAAA;AAAA;AAAslD,CAAgB,i6CAAG,EAAC,C;;;;;;;;;;;ACA1mD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pagesA/user/order/saleDetail.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pagesA/user/order/saleDetail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./saleDetail.vue?vue&type=template&id=d5279fce&scoped=true&\"\nvar renderjs\nimport script from \"./saleDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./saleDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./saleDetail.vue?vue&type=style&index=0&id=d5279fce&scoped=true&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d5279fce\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pagesA/user/order/saleDetail.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./saleDetail.vue?vue&type=template&id=d5279fce&scoped=true&\"","var components = {\n  uploadImg: function() {\n    return import(\n      /* webpackChunkName: \"components/uploadImg/uploadImg\" */ \"@/components/uploadImg/uploadImg.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.showPopup = true\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./saleDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./saleDetail.vue?vue&type=script&lang=js&\"","<template>\n  <view class=\"m-md\">\n    <view class=\"order-info\">\n      <view class=\"order-goods bc-fff\">\n        <view class=\"imgBox\">\n          <image mode=\"widthFix\" :src=\"detail.goods_image\"></image>\n        </view>\n        <view class=\"fx1 order-goods-text\">\n          <view class=\"order-goods-tit\">\n            <view data-line=\"1\" class=\"line2-p text-md\" style=\"width:70%\">\n              {{detail.goods_name}}\n            </view>\n          </view>\n          <view class=\"col-666 fxBox2 mt-xs text-sm\">\n            <view class=\"fx1\">\n              <view v-if=\"detail.sku_info\">{{detail.sku_info}}</view>\n            </view>\n            <view class=\"text-md text-r col-666\">\n              x1\n            </view>\n          </view>\n        </view>\n      </view>\n    </view>\n    <view class=\"p-md border-radius5px bc-fff fxBox2\" @tap=\"showPopup=true\">\n      <view  class=\"fxBox1\">\n        <view class=\"fw700 text-md mr-md\">\n          售后原因\n        </view>\n        <view class=\"text-sm\">\n          <text v-if=\"formItem.reason\">{{formItem.reason}}</text>  <text class=\"col-666\" v-else>请选择售后原因</text>\n        </view>\n      </view>\n      <view class=\"emfont icon-right\"></view>\n    </view>\n    <view class=\"border-radius5px mt-md bc-fff p-md\">\n       <view class=\"fxBox1 mb-md\" v-if=\"formItem.aftersales_type!=='EXCHANGING_GOODS'\">\n         <text class=\"fw700 mr-md\">退款金额：</text><text class=\"col-red\">￥{{detail.total_fee}}</text>\n       </view>\n      <view class=\"fxBox1 mb-md\" v-if=\"formItem.aftersales_type!=='EXCHANGING_GOODS'\">\n        <text class=\"fw700 mr-md\">申请金额：</text>\n        <view class=\"col-red fxBox1 fx1\">\n          ￥ <input class=\"fx1\" style=\"border-bottom:1px solid #e7e7e7\" placeholder=\"请输入退款金额\" v-model=\"formItem.apply_refund_price\" type=\"number\" />\n        </view>\n      </view>\n      <view class=\"fxBox1 mb-md\" v-if=\"formItem.aftersales_type!=='EXCHANGING_GOODS'&&consume_point_fee>0\">\n        <text class=\"fw700 mr-md\">应退积分：</text>\n        <view class=\"col-red fxBox1\">\n          {{consume_point_fee}}\n        </view>\n      </view>\n      <view class=\"fxBox1 mb-md\">\n        <text class=\"fw700 mr-md\">售后描述：</text>\n        <input type=\"text\" placeholder=\"选填\" v-model=\"formItem.description\">\n      </view>\n      <view class=\"mb-md fw700\">\n        上传凭证:\n      </view>\n      <view>\n        <uploadImg @on-img=\"getImgLists\"></uploadImg>\n      </view>\n    </view>\n    <view class=\"saleBtn\" @tap=\"submitSale\">\n      <text v-if=\"formItem.aftersales_type==='ONLY_REFUND'\">申请退款</text>\n      <text v-else-if=\"formItem.aftersales_type==='REFUND_GOODS'\">申请退货退款</text>\n      <text v-else>申请换货</text>\n    </view>\n    <van-popup\n        :show=\"showPopup\"\n        position=\"bottom\"\n    >\n      <view class=\"text-center fw700 text-lg title mb-md fxBox1\">\n        <view class=\"fx1 text-center\">售后原因</view>\n        <view class=\"emfont icon-close text-lg\" @click=\"closeModel\"></view>\n      </view>\n      <view class=\"radioBox\">\n        <van-radio-group :value=\"cancelRadio\" @change=\"cancelChange\">\n          <view v-for=\"(item,index) in columns\" class=\"fxBox2 pt-sm pb-sm text-md\" @tap=\"cancelClick(index)\">\n            <text class=\"fx1\">\n              {{item}}\n            </text>\n            <van-radio checked-color=\"#e64340\" :name=\"index\"></van-radio>\n          </view>\n        </van-radio-group>\n      </view>\n      <view class=\"cancel-button fxBox\" @click=\"closeModel\">\n        <view class=\"fx1 btn1 btn\">关闭</view>\n      </view>\n    </van-popup>\n  </view>\n</template>\n\n<script>\n\n  import uploadImg from \"../../../components/uploadImg/uploadImg\"\n  export default {\n    components:{\n      uploadImg\n    },\n    data() {\n      return {\n        showPopup:false,\n        oid:'',\n        tid:'',\n        detail:'',\n        type:'',\n        columns:[],\n        cancelRadio:'',\n        formItem:{\n          aftersales_type:'',\n          evidence_pic:[],\n          description:'',\n          reason:'',\n          oid:'',\n          tid:'',\n          apply_refund_price: '',\n        }\n      };\n    },\n    onLoad:function(options){\n      this.formItem.oid = options.oid\n      this.formItem.tid = options.tid\n      this.formItem.aftersales_type = options.type\n      this.getSaleInfo()\n    },\n    methods: {\n      submitSale(){\n        if(this.formItem.reason===''){\n          uni.showToast({\n            title: '请选择售后原因',\n            icon: 'none',\n          })\n          return\n        }\n        if(this.formItem.aftersales_type=='EXCHANGING_GOODS'){\n          delete this.formItem.apply_refund_price\n        }else{\n          if(this.formItem.apply_refund_price==''){\n            this.showAlert('请输入退款金额！')\n            return\n          }else if(Number(this.formItem.apply_refund_price)>Number(this.detail.amount)){\n            this.showAlert('退款金额不能大于订单总额！')\n            return\n          }\n        }\n        this.$http({\n          aurl:'aftersales',\n          data:this.formItem,\n          success:res => {\n            if(res.data.code===0){\n              uni.showToast({\n                title: '申请成功',\n                icon: 'none',\n              })\n              setTimeout(function(){\n                uni.navigateBack({\n                  delta:2\n                });\n              },500)\n            }\n          },\n          fail:error => {\n            console.log(error)\n          }\n        })\n      },\n      getImgLists(lists){\n        this.formItem.evidence_pic = lists\n      },\n      getSaleInfo(){\n        this.$http({\n          aurl:'aftersalesApply',\n          data:{\n            oid:this.formItem.oid,\n            tid:this.formItem.tid\n          },\n          success:res => {\n            console.log(res)\n            if(res.data.code===0){\n              this.detail = res.data.result.orderInfo\n              this.columns = res.data.result.reason\n              this.formItem.apply_refund_price = this.detail.amount\n              this.consume_point_fee = this.detail.consume_point_fee\n            }\n          },\n          fail:error => {\n            console.log(error)\n          }\n        })\n      },\n      cancelChange(index){\n        this.cancelRadio = String(index.detail)\n        this.formItem.reason = this.columns[index.detail]\n        this.showPopup = false\n      },\n      cancelClick(index){\n        this.cancelRadio = String(index)\n        this.formItem.reason = this.columns[index]\n        this.showPopup = false\n      },\n      closeModel(){\n        this.showPopup = false\n      }\n    },\n    mounted() {\n    },\n  };\n</script>\n\n<style scoped lang=\"stylus\">\n  .order-info\n    background #fff\n    border-radius 10rpx\n    overflow hidden\n    .order-goods\n      padding 20rpx\n      display flex\n      .imgBox\n        width 160rpx\n        margin-right 20rpx\n        image\n          border-radius 10rpx\n          width 100%\n      .order-goods-text\n        padding 10rpx 0\n        box-sizing border-box\n        .order-goods-tit\n          display flex\n          justify-content space-between\n  >>>.van-popup\n    padding 30rpx 30rpx 90rpx\n    hegiht 800rpx\n  .title\n    height 60rpx\n    line-height 60rpx\n  .radioBox\n    height calc(800rpx - 180rpx)\n    overflow scroll\n    padding-bottom 90rpx\n  .radioBox::-webkit-scrollbar\n    display none\n  .cancel-button\n    height 90rpx\n    position absolute\n    bottom 0\n    left 0\n    width 100%\n    .btn\n      height 90rpx\n      line-height 90rpx\n      text-align center\n      color #ffffff\n    .btn1\n      background #e64340\n  .saleBtn\n    width 100%\n    height 90rpx\n    line-height 90rpx\n    text-align center\n    color #ffffff\n    position fixed\n    bottom 0\n    left 0\n    background #e64340\n</style>\n","import mod from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--11-oneOf-1-2!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--11-oneOf-1-5!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./saleDetail.vue?vue&type=style&index=0&id=d5279fce&scoped=true&lang=stylus&\"; export default mod; export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--11-oneOf-1-2!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--11-oneOf-1-5!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./saleDetail.vue?vue&type=style&index=0&id=d5279fce&scoped=true&lang=stylus&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1604546389902\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}