{"version":3,"sources":["uni-app:///main.js","webpack:////Users/huangdahao/Desktop/web/smartconns_go/miniapp/pagesA/user/bindUser.vue?2773","webpack:////Users/huangdahao/Desktop/web/smartconns_go/miniapp/pagesA/user/bindUser.vue?6daa","webpack:////Users/huangdahao/Desktop/web/smartconns_go/miniapp/pagesA/user/bindUser.vue?4193","webpack:////Users/huangdahao/Desktop/web/smartconns_go/miniapp/pagesA/user/bindUser.vue?f4a2","uni-app:///pagesA/user/bindUser.vue","webpack:////Users/huangdahao/Desktop/web/smartconns_go/miniapp/pagesA/user/bindUser.vue?4b31","webpack:////Users/huangdahao/Desktop/web/smartconns_go/miniapp/pagesA/user/bindUser.vue?3475"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,mG;AACAA,UAAU,CAACC,iBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiI;AACjI;AAC4D;AACL;AACwC;;;AAG/F;AACmN;AACnN,gBAAgB,iNAAU;AAC1B,EAAE,8EAAM;AACR,EAAE,+FAAM;AACR,EAAE,wGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,WAAW,+LAEN;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACdA;AAAA;AAAA;AAAA;AAAq1B,CAAgB,syBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACmBz2B;AACA,gG;;;;;;;;;;;;;;;;;;8nBAGA,EACA,4CADA,EAEA,cACA,oBADA,EAEA,kBAFA,EAFA,EAMA,IANA,kBAMA,CACA,SACA,WADA,EAEA,UAFA,GAIA,CAXA,EAYA,kCACA,sBACA,+BACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA,GAvBA;AAwBA;AACA,YADA,oBACA,CADA,EACA;AACA;AACA;AACA,KAJA;AAKA,eALA,yBAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAVA,MAUA;AACA;AACA;AACA,KAnBA;AAoBA,mBApBA,2BAoBA,CApBA,EAoBA;AACA;AACA;AACA;AACA,4BADA;AAEA;AACA;AACA,gCADA;AAEA,2BAFA;AAGA;AACA;AACA,iCADA;;AAGA;AACA;AACA,mCADA;AAEA;AACA,uCADA;AAEA,sDAFA;AAGA,4EAHA;AAIA,kCAJA,EAFA;;AAQA;AACA;AACA;AACA;AACA;AACA,uDADA;AAEA,wCAFA;;AAIA,qBALA,MAKA;AACA;AACA,uCADA;;AAGA;AACA,yCADA;AAEA,gEAFA;AAGA;AACA;AACA;AACA;AACA;AACA,4CADA;AAEA,2EAFA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6FADA;;AAGA;AACA;AACA;AACA,4DADA;;AAGA,iCAJA,MAIA;AACA;AACA,2DADA;;AAGA;AACA,+BAfA,MAeA;AACA;AACA;AACA,6BA1BA;;AA4BA,yBAnCA;;AAqCA;AACA,mBA1DA;AA2DA;AACA;AACA,mBA7DA;;AA+DA,eAvEA;;AAyEA,WA5EA;;AA8EA,OA/EA,MA+EA;;AAEA;AACA,KAxGA,EAxBA;;AAkIA,SAlIA,qBAkIA;AACA,GAnIA,E;;;;;;;;;;;;;ACvBA;AAAA;AAAA;AAAA;AAAyjD,CAAgB,+5CAAG,EAAC,C;;;;;;;;;;;ACA7kD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pagesA/user/bindUser.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pagesA/user/bindUser.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./bindUser.vue?vue&type=template&id=ca6b1530&scoped=true&\"\nvar renderjs\nimport script from \"./bindUser.vue?vue&type=script&lang=js&\"\nexport * from \"./bindUser.vue?vue&type=script&lang=js&\"\nimport style0 from \"./bindUser.vue?vue&type=style&index=0&id=ca6b1530&scoped=true&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ca6b1530\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pagesA/user/bindUser.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./bindUser.vue?vue&type=template&id=ca6b1530&scoped=true&\"","var components = {\n  bindModel: function() {\n    return import(\n      /* webpackChunkName: \"components/bindModel/bindModel\" */ \"@/components/bindModel/bindModel.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./bindUser.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./bindUser.vue?vue&type=script&lang=js&\"","<template>\n  <div>\n    <view class=\"loginBox\">\n      <view class=\"logoImg\">\n       <image mode=\"widthFix\" src=\"../static/images/logo.png\"></image>\n      </view>\n      <view class=\"btnBox\">\n        <!--<button class=\"getInfoBtn text-md\" type=\"primary\" lang=\"zh_CN\" open-type=\"getPhoneNumber\" @getphonenumber=\"getPhoneNumber\">手机号一键登录</button>-->\n        <button  class=\"getInfoBtn text-md\" type=\"primary\"  open-type=\"getUserInfo\" lang=\"zh_CN\" @getuserinfo=\"bindGetUserInfo\">微信一键登录</button>\n        <!--<button class=\"getInfoBtn phoneBtn  text-md\"  open-type=\"getUserInfo\" lang=\"zh_CN\" @getuserinfo=\"toLogin\">已有账号，手机号登录</button>-->\n<!--        <button class=\"getInfoBtn phoneBtn  text-md\"  @tap=\"toLoginLink\">已有账号，手机号登录</button>-->\n        <view @tap=\"toHome\" class=\"text-r mt-md col-666 text-16 pr-md\">先逛逛</view>\n      </view>\n      <bindModel @getShow=\"initShow\" :showModel=\"showTel\"></bindModel>\n    </view>\n  </div>\n</template>\n\n<script>\n  import global from '../../mixins/global.js'\n  import redirect from '../../mixins/redirect.js'\n  import bindModel from '../../components/bindModel/bindModel'\n  import emButton from '../../components/button/button'\n  export default {\n    mixins: [global,redirect],\n    components:{\n      bindModel,\n      emButton\n    },\n    data() {\n      return {\n        flag:false,\n\t\t\t  gmToken:0,\n      };\n    },\n    onLoad:function(options){\n      if(options.gmToken){\n        this.gmToken = options.gmToken;\n      }\n      if(options.to){\n        if (options.to == 'index' || options.to == 'user') {\n          this.flag = options.to;\n        }else{\n          this.flag = true;\n        }\n      }\n    },\n    methods: {\n      initShow(b){\n        this.showTel = b\n        this.toBack()\n      },\n      toLoginLink(){\n        if(this.flag){\n          if (this.flag === 'index') {\n            this.toLink('/pagesA/user/login/login?flag=index&gmToken='+this.gmToken);\n            return;\n          }\n          if (this.flag === 'user') {\n            this.toLink('/pagesA/user/login/login?flag=user');\n            return;\n          }\n          this.toLink('/pagesA/user/login/login?flag=true')\n        }else{\n          this.toLink('/pagesA/user/login/login')\n        }\n      },\n      bindGetUserInfo(e) {\n        const _this = this\n        if(e.detail.userInfo){\n          uni.login({\n            provider: 'weixin',\n            success: function (loginRes) {\n              uni.getUserInfo({\n                provider: 'weixin',\n                lang:\"zh_CN\",\n                success: function (infoRes) {\n                  uni.showLoading({\n                    title: '授权中...',\n                  });\n                  let gmToken = uni.getStorageSync('gmToken');\n                  _this.$http({\n                    aurl: 'getOpenid',\n                    data: {\n                      code:loginRes.code,\n                      iv:encodeURIComponent(infoRes.iv),\n                      encryptedData:encodeURIComponent(infoRes.encryptedData),\n                      gm_id:gmToken\n                    },\n                    success: res => {\n                      uni.hideLoading();\n\t\t\t\t\t\t          uni.removeStorageSync('user_token_jump');\n                      if(res.data.result.token==''){\n                        _this.toQueryLink('/pagesA/user/login/login',{\n                          open_id:res.data.result.openid,\n                          flag:_this.flag\n                        })\n                      }else{\n                        uni.showLoading({\n                          title: '登录中...',\n                        })\n                        uni.setStorage({\n                          key: 'user_token',\n                          data:res.data.result.token.access_token,\n                          success: function () {\n                            // 记录token过期时间（提前半天）\n                            let user_token_invalid = res.data.result.token.expires_in*1000+new Date().getTime()-3600*12*1000;\n                            uni.setStorageSync('user_token_invalid',user_token_invalid);\n                            uni.setStorage({\n                              key: 'user_info',\n                              data:JSON.stringify(res.data.result.user_info),\n                              success: function () {\n                                uni.hideLoading();\n                                if(_this.gmToken){\n                                  uni.setStorageSync('gmToken', _this.gmToken);\n                                }\n                                if(_this.flag){\n                                  if (_this.flag == 'index') {\n                                    uni.switchTab({\n                                      url: '/pages/index/indexCustomer?gmToken'+_this.gmToken,\n                                    });\n                                  }\n                                  if (_this.flag == 'user') {\n                                    uni.switchTab({\n                                      url: '/pages/user/index',\n                                    });\n                                  }else{\n                                    uni.switchTab({\n                                      url:'/pages/cart/cart',\n                                    })\n                                  }\n                                }else{\n                                  _this.back()\n                                }\n                              }\n                            });\n                          }\n                        });\n                      }\n                    },\n                    fail: err => {\n                      console.log(err);\n                    }\n                  });\n                }\n              });\n            }\n          });\n        }else{\n\n        }\n      },\n    },\n    mounted() {\n    },\n  };\n</script>\n\n<style scoped lang=\"stylus\">\n>>>body\n  background #fff\n.loginBox\n  text-align center\n  background #ffffff\n  color #666\n  padding-top 150rpx\n  position fixed\n  top 0\n  left 0\n  width 100%\n  height 100%\n  .loginButton button\n    width 250rpx\n    line-height 80rpx\n    margin-top 40rpx\n.logoImg\n  width 160rpx\n  margin 0 auto 140rpx\n  image\n    width 100%\n    border-radius 50%\n.btnBox\n  margin 0 80rpx\n.getInfoBtn\n  height 75rpx\n  line-height 75rpx\n  border-radius 10rpx\n  background #E64340\n  margin-top 40rpx\n.phoneBtn\n  background #f5f5f5\n  border 1px solid #dedede\n  box-sizing border-box\n.getPhoneBtn\n  background none\n  margin-top 40rpx\n  &::after\n    display none\n</style>\n","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--11-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--11-oneOf-1-5!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./bindUser.vue?vue&type=style&index=0&id=ca6b1530&scoped=true&lang=stylus&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--11-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--11-oneOf-1-5!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./bindUser.vue?vue&type=style&index=0&id=ca6b1530&scoped=true&lang=stylus&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1604546392564\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}