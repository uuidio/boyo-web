{"version":3,"sources":["uni-app:///main.js","webpack:////Users/huangdahao/Desktop/web/smartconns_go/miniapp/pagesA/selfHelpScore/ticketRecord.vue?07a9","webpack:////Users/huangdahao/Desktop/web/smartconns_go/miniapp/pagesA/selfHelpScore/ticketRecord.vue?1b5c","webpack:////Users/huangdahao/Desktop/web/smartconns_go/miniapp/pagesA/selfHelpScore/ticketRecord.vue?fa32","webpack:////Users/huangdahao/Desktop/web/smartconns_go/miniapp/pagesA/selfHelpScore/ticketRecord.vue?d98a","uni-app:///pagesA/selfHelpScore/ticketRecord.vue","webpack:////Users/huangdahao/Desktop/web/smartconns_go/miniapp/pagesA/selfHelpScore/ticketRecord.vue?86bc","webpack:////Users/huangdahao/Desktop/web/smartconns_go/miniapp/pagesA/selfHelpScore/ticketRecord.vue?2d16"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,oH;AACAA,UAAU,CAACC,qBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAqI;AACrI;AACgE;AACL;AACwC;;;AAGnG;AACmN;AACnN,gBAAgB,iNAAU;AAC1B,EAAE,kFAAM;AACR,EAAE,mGAAM;AACR,EAAE,4GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,uGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAy1B,CAAgB,0yBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACyE72B,mF;;;AAGA;AACA,wBADA;AAEA;AACA,sBADA;AAEA,4BAFA;AAGA,kBAHA,EAFA;;AAOA,MAPA,kBAOA;AACA;AACA,eADA;AAEA,cAFA;AAGA,6FAHA;AAIA,2BAJA;AAKA;AACA,kBADA;AAEA,eAFA;AAGA,mBAHA,EALA;;;AAWA,GAnBA;;AAqBA;AACA;AACA;AACA;AACA;AACA,GA1BA;AA2BA,QA3BA,oBA2BA,EA3BA;AA4BA,SA5BA,qBA4BA,EA5BA;AA6BA,eA7BA,2BA6BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KALA,EAKA,GALA;AAMA,GAtCA;AAuCA;AACA,uBADA,+BACA,EADA,EACA;AACA;AACA,yBADA;;AAGA;AACA,mCADA;AAEA,mBAFA;AAGA;AACA;AACA;AACA;AACA,mDADA;AAEA,oDAFA;;AAIA;AACA,SAXA;AAYA;AACA;AACA,SAdA;AAeA;AACA;AACA,SAjBA;;AAmBA,KAxBA;AAyBA,qBAzBA,+BAyBA;AACA;AACA,iCADA;AAEA;AACA,2BADA,EAFA;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAFA;AAGA;AACA;AACA;AACA;AACA,aAHA,MAGA;AACA;AACA;AACA;AACA;AACA,SAtBA;AAuBA;AACA;AACA,SAzBA;AA0BA;AACA,SA3BA;;AA6BA,KAvDA,EAvCA,E;;;;;;;;;;;;;AC5EA;AAAA;AAAA;AAAA;AAA6jD,CAAgB,m6CAAG,EAAC,C;;;;;;;;;;;ACAjlD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pagesA/selfHelpScore/ticketRecord.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pagesA/selfHelpScore/ticketRecord.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./ticketRecord.vue?vue&type=template&id=7a4faaca&scoped=true&\"\nvar renderjs\nimport script from \"./ticketRecord.vue?vue&type=script&lang=js&\"\nexport * from \"./ticketRecord.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ticketRecord.vue?vue&type=style&index=0&id=7a4faaca&scoped=true&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7a4faaca\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pagesA/selfHelpScore/ticketRecord.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ticketRecord.vue?vue&type=template&id=7a4faaca&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ticketRecord.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ticketRecord.vue?vue&type=script&lang=js&\"","<template>\n  <view class=\"page-wrap\">\n    <view class=\"wrap-main\">\n      <view class=\"wrap-content\">\n        <view class=\"ticket-record-list\" v-if=\"list.length > 0\">\n          <view class=\"record-item\" v-for=\"(item, index) in list\" :key=\"index\">\n            <view class=\"record-date\">{{item.created_at}}</view>\n            <view class=\"fail-reasons\" v-if=\"item.status == 2\">积分失败原因：{{item.reject_reason}}</view>\n            <view class=\"audit-info\">\n              <view class=\"audit-item\">\n                <view class=\"audit-status\">等待审核</view>\n                <view class=\"audit-date\">{{item.created_at}}</view>\n              </view>\n              <view class=\"audit-item\" :class=\"{'status-wait': item.status == 0,'status-fail': item.status === 2}\">\n                <view class=\"audit-status\">{{item.status == 0 ? '积分成功' : item.status == 1 ? '积分成功' : '积分失败'}}</view>\n                <view class=\"audit-date\" v-if=\"item.status == 0\">预计提交后72小时内</view>\n                <view class=\"audit-date\" v-else>{{item.updated_at}}</view>\n              </view>\n            </view>\n            <view class=\"view-pic\" @click=\"applyIntegralDetail(item.id)\">\n              <text class=\"view-label\">查看小票照片</text>\n              <text class=\"iconfont icon-right\"></text>\n            </view>\n          </view>\n<!--          <view class=\"record-item\">-->\n<!--            <view class=\"record-date\">2020.03.14</view>-->\n<!--            <view class=\"fail-reasons\">积分失败原因：非本商场小票，无法补录积分，很抱歉，小票自消费日期起7天有效，</view>-->\n<!--            <view class=\"audit-info\">-->\n<!--              <view class=\"audit-item\">-->\n<!--                <view class=\"audit-status\">等待审核</view>-->\n<!--                <view class=\"audit-date\">2020.03.14 13:50</view>-->\n<!--              </view>-->\n<!--              <view class=\"audit-item\">-->\n<!--                <view class=\"audit-status\">积分成功</view>-->\n<!--                <view class=\"audit-date\">2020.03.14 13:50</view>-->\n<!--              </view>-->\n<!--            </view>-->\n<!--            <view class=\"view-pic\">-->\n<!--              <text class=\"view-label\">查看小票照片</text>-->\n<!--              <text class=\"iconfont icon-right\"></text>-->\n<!--            </view>-->\n<!--          </view>-->\n<!--          <view class=\"record-item\">-->\n<!--            <view class=\"record-date\">2020.03.14</view>-->\n<!--            <view class=\"fail-reasons\">积分失败原因：非本商场小票，无法补录积分，很抱歉，小票自消费日期起7天有效，</view>-->\n<!--            <view class=\"audit-info\">-->\n<!--              <view class=\"audit-item\">-->\n<!--                <view class=\"audit-status\">等待审核</view>-->\n<!--                <view class=\"audit-date\">2020.03.14 13:50</view>-->\n<!--              </view>-->\n<!--              <view class=\"audit-item status-fail\">-->\n<!--                <view class=\"audit-status\">积分成功</view>-->\n<!--                <view class=\"audit-date\">2020.03.14 13:50</view>-->\n<!--              </view>-->\n<!--            </view>-->\n<!--            <view class=\"view-pic\">-->\n<!--              <text class=\"view-label\">查看小票照片</text>-->\n<!--              <text class=\"iconfont icon-right\"></text>-->\n<!--            </view>-->\n<!--          </view>-->\n\n        </view>\n        <view v-else>\n          <noData></noData>\n        </view>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script>\nimport uniLoadMore from '@dcloudio/uni-ui/lib/uni-load-more/uni-load-more.vue';\nimport meHeader from '../../components/header/header'\nimport mta from '../../mixins/mta';\nimport noData from '../../components/lists/nullData'\n\nexport default {\n  mixins: [mta],\n  components: {\n    meHeader,\n    uniLoadMore,\n    noData\n  },\n  data() {\n    return {\n      gm_id: '',\n      list: [],\n      loadText: { contentdown: '上拉显示更多', contentrefresh: '正在加载...', contentnomore: '暂无更多数据' },\n      loadStatus: 'loading',\n      loadMore: {\n        current: 1,\n        last: 1,\n        flat: false\n      },\n    };\n  },\n\n  onLoad: function(options) {\n    if(options.gm_id){\n      this.gm_id = options.gm_id\n    }\n    this.applyIntegralList();\n  },\n  onShow() {},\n  mounted() {},\n  onReachBottom() {\n    if (this.loadMore.flat) return;\n    this.loadStatus = 'loading';\n    setTimeout(() => {\n      if (this.list.length !== 0) {\n        this.loadMore.current++;\n      }\n      this.applyIntegralList()\n    }, 500);\n  },\n  methods: {\n    applyIntegralDetail(id){\n      uni.showLoading({\n        title: '图片加载中...',\n      })\n      this.$http({\n        aurl: 'applyIntegralDetail',\n        aPath: [id],\n        success: res => {\n          if (res.data.code === 0) {\n            console.log(res);\n            uni.previewImage({\n              urls: [res.data.result.uploaded_data],\n              current: res.data.result.uploaded_data\n            });\n          }\n        },\n        fail: error => {\n          console.log(error);\n        },\n        complete: () => {\n          uni.hideLoading()\n        }\n      });\n    },\n    applyIntegralList(){\n      this.$http({\n        aurl: 'applyIntegralList',\n        data: {\n          gm_id: this.gm_id\n        },\n        success: res => {\n          if (res.data.code === 0) {\n            let data = res.data.result.lists;\n            if (data.data && data.data.length > 0) {\n              this.loadMore.last = data.last_page;\n              data.data.map(item => {\n                this.list.push(item);\n              });\n            }\n            if (this.loadMore.current === this.loadMore.last) {\n              this.loadMore.flat = true;\n              this.loadStatus = 'noMore';\n            } else {\n              this.loadStatus = 'more';\n              this.loadMore.flat = false;\n            }\n          }\n        },\n        fail: error => {\n          console.log(error);\n        },\n        complete: () => {\n        }\n      });\n    }\n  }\n};\n</script>\n\n<style scoped lang=\"stylus\">\n  .page-wrap\n    /*&:before*/\n    /*  content ''*/\n    /*  width 100%*/\n    /*  height 1rpx*/\n    /*  background #D7D7D7*/\n    /*  position fixed*/\n    /*  top 0*/\n    /*  left 0*/\n    .wrap-main\n      .wrap-content\n        .ticket-record-list\n          padding 30rpx 20rpx\n          .record-item\n            background #fff\n            border-radius 16rpx\n            margin-bottom 30rpx\n            .record-date\n              font-size 24rpx\n              color #999\n              padding 20rpx 30rpx 0\n            .fail-reasons\n              font-size 26rpx\n              color #333\n              line-height 36rpx\n              margin-top 30rpx\n              padding 0 30rpx\n            .audit-info\n              display flex\n              align-items center\n              justify-content space-between\n              padding 0 30rpx\n              margin-top 30rpx\n              .audit-item\n                padding-left 20rpx\n                position relative\n                &:first-of-type\n                  &:after\n                    content ''\n                    position absolute\n                    top 19rpx\n                    left 65%\n                    width 80%\n                    height 1rpx\n                    background #000\n                &:last-of-type\n                  width 37%\n                &.status-wait\n                  .audit-status\n                    color #999\n                    font-weight bold\n                  .audit-date\n                    font-weight bold\n                  &:before\n                    color #999\n                &.status-fail\n                  &:before\n                    color #999\n                &:before\n                  content ''\n                  position absolute\n                  top 15rpx\n                  left 0\n                  width 10rpx\n                  height 10rpx\n                  border-radius 50%\n                  background #000\n                .audit-status\n                  font-size 26rpx\n                  color #333\n                .audit-date\n                  font-size 24rpx\n                  color #999\n                  margin-top 10rpx\n            .view-pic\n              margin-top 30rpx\n              height 80rpx\n              border-top 1rpx solid #d7d7d7\n              box-sizing border-box\n              padding 0 30rpx\n              display flex\n              align-items center\n              justify-content space-between\n              .view-label\n                font-size 26rpx\n                color #999\n              .icon-right\n                font-size 30rpx\n                color #333\n</style>\n\n","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--11-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--11-oneOf-1-5!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ticketRecord.vue?vue&type=style&index=0&id=7a4faaca&scoped=true&lang=stylus&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--11-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--11-oneOf-1-5!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ticketRecord.vue?vue&type=style&index=0&id=7a4faaca&scoped=true&lang=stylus&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1604546394631\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}