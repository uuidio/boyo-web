require('../../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesB/user/generalize/applyPromoter"],{"2bd0":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=function(){Promise.all([i.e("common/vendor"),i.e("components/uploadImg/uploadImg")]).then(function(){return resolve(i("3fc6"))}.bind(null,i)).catch(i.oe)},o=function(){Promise.all([i.e("common/vendor"),i.e("pagesB/components/uploadImg/uploadIdentityCard")]).then(function(){return resolve(i("18c2"))}.bind(null,i)).catch(i.oe)},r={components:{uploadImg:n,uploadIdentityCard:o},data:function(){return{status:1,showPopup:!1,formItem:{agree:!1,idNum:"",imgFront:"",imgBack:"",real_name:"",job_number:"",mobile:"",department:"",department_id:"",register_type:"per"},picker_name:"请选择部门",picker_index:"",lists:[],pickerAll:[],flag:!1,partner_id:"",apply:!1,partner_detail:{},shop_name:"",address:"",id_positive:"",id_other_side:""}},onLoad:function(e){var i=JSON.parse(t.getStorageSync("user_info"));i.mobile&&(this.formItem.mobile=i.mobile),e.partner_id&&(this.partner_id=e.partner_id)},methods:{closePopup:function(){this.showPopup=!1},openPopup:function(){this.showPopup=!0},changeAgree:function(){this.formItem.agree=!this.formItem.agree},getImgFront:function(t){this.formItem.imgFront=t},getImgBack:function(t){this.formItem.imgBack=t},getImgPositive:function(t){t.length>0?this.id_positive=t[0]:this.id_positive=""},getImgOther:function(t){t.length>0?this.id_other_side=t[0]:this.id_other_side=""},bindPickerChange:function(t){this.picker_index=t.target.value,this.picker_name=this.pickerAll[this.picker_index],this.formItem.department_id=this.lists[this.picker_index].id},getImgListsOne:function(t){t.length>0?this.formItem.department=t[0]:this.formItem.department=""},checkPartner:function(){var t=this;this.$http({aurl:"checkPartner",params:{partner_id:this.partner_id},success:function(e){0===e.data.code&&(t.apply=e.data.result.apply,t.partner_detail=e.data.result.partnerInfo,console.log(e))},fail:function(t){console.log(t)},complete:function(t){}})},getDepartmenta:function(){var t=this;this.$http({aurl:"departmenta",success:function(e){0===e.data.code&&(t.lists=e.data.result,t.pickerAll=t.lists.map((function(t){return t.name})),console.log(t.pickerAll))},fail:function(t){console.log(t)},complete:function(t){}})},submit:function(){var e=this;t.showLoading({title:"提交中"}),this.partner_id&&(delete this.formItem.job_number,delete this.formItem.department,delete this.formItem.department_id,this.formItem.register_type="pt",this.formItem.address=this.address,this.formItem.shop_name=this.shop_name,this.formItem.partner_mobile=this.partner_detail.mobile,this.formItem.partner_id=this.partner_id,this.formItem.id_positive=this.id_positive,this.formItem.id_other_side=this.id_other_side),this.flag=!0,this.$http({aurl:"applyAction",data:this.formItem,success:function(t){0===t.data.code&&(e.showAlert("申请成功"),e.toBack())},fail:function(t){console.log(t)},complete:function(i){var n=e;setTimeout((function(){t.hideLoading(),n.flag=!1}),1e3)}}),console.log(this.formItem)}},mounted:function(){}};e.default=r}).call(this,i("543d")["default"])},"2db2":function(t,e,i){"use strict";i.r(e);var n=i("3ab9"),o=i("cf44");for(var r in o)"default"!==r&&function(t){i.d(e,t,(function(){return o[t]}))}(r);i("b3b6");var a,s=i("f0c5"),c=Object(s["a"])(o["default"],n["b"],n["c"],!1,null,"60fdc996",null,!1,n["a"],a);e["default"]=c.exports},"368c":function(t,e,i){"use strict";(function(t){i("cf0c");n(i("66fd"));var e=n(i("2db2"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,i("543d")["createPage"])},"3ab9":function(t,e,i){"use strict";var n,o=function(){var t=this,e=t.$createElement;t._self._c},r=[];i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return n}))},b3b6:function(t,e,i){"use strict";var n=i("b815"),o=i.n(n);o.a},b815:function(t,e,i){},cf44:function(t,e,i){"use strict";i.r(e);var n=i("2bd0"),o=i.n(n);for(var r in n)"default"!==r&&function(t){i.d(e,t,(function(){return n[t]}))}(r);e["default"]=o.a}},[["368c","common/runtime","common/vendor"]]]);