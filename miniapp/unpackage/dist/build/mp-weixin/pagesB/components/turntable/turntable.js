require('../../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesB/components/turntable/turntable"],{"1abb":function(t,i,e){"use strict";e.r(i);var n=e("fce0"),r=e.n(n);for(var a in n)"default"!==a&&function(t){e.d(i,t,(function(){return n[t]}))}(a);i["default"]=r.a},"3b7c":function(t,i,e){"use strict";e.r(i);var n=e("8f23"),r=e("1abb");for(var a in r)"default"!==a&&function(t){e.d(i,t,(function(){return r[t]}))}(a);e("610d");var o,c=e("f0c5"),s=Object(c["a"])(r["default"],n["b"],n["c"],!1,null,"a3f60b1a",null,!1,n["a"],o);i["default"]=s.exports},"610d":function(t,i,e){"use strict";var n=e("a75c"),r=e.n(n);r.a},"8f23":function(t,i,e){"use strict";var n,r=function(){var t=this,i=t.$createElement;t._self._c},a=[];e.d(i,"b",(function(){return r})),e.d(i,"c",(function(){return a})),e.d(i,"a",(function(){return n}))},a75c:function(t,i,e){},fce0:function(t,i,e){"use strict";(function(t){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=e("74d1"),r={props:{canvasWidth:{type:Number,required:!0},canvasHeight:{type:Number,required:!0},prizeList:{type:Array,required:!0},strKey:{type:String,required:!0},imgKey:{type:String,required:!0}},data:function(){return{ImgPath:"",canvasShow:!1,showMyPrize:!1,myPrizelist:[],showNoPrize:!1,turntable:null,inLottery:!1}},mounted:function(){var t=this;this.$nextTick((function(){setTimeout((function(){t.initdata()}),500)}))},onReady:function(t){},methods:{initdata:function(){var i=this,e=i.canvasWidth,r=e;return new Promise((function(e,n){for(var r=0,a=function(n){t.getImageInfo({src:i.prizeList[n][i.imgKey],success:function(t){i.prizeList[n].localimage=t.path},fail:function(t){console.log("图片加载失败",t)},complete:function(){r++,r==i.prizeList.length&&e("OK")}})},o=0;o<i.prizeList.length;o++)a(o)})).then((function(a){t.hideLoading(),i.turntable=n.wheelSurf("canvas",{$this:i,list:i.prizeList,strKey:i.strKey,imgKey:i.imgKey,width:e,height:r,outerCircle:{color:"#2F80E8"},innerCircle:{color:"#FBF099"},dots:["#FBF0B0","#FFFFFF"],disk:["#fbf3a6","#2F80E8"],title:{color:"#B14A29",font:"13px Arial",lineHeight:13}})})).catch((function(i){t.hideLoading(),console.log("Failed: "+i)}))},initFlag:function(){this.inLottery=!1,this.canvasShow=!1},playReward:function(){var i=t.getStorageSync("user_token");i?this.inLottery||(this.inLottery=!0,this.canvasShow=!0,this.$emit("actionStart")):this.toLink("/pagesB/user/bindUser")},getImg:function(){var i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this,n=this.canvasWidth,r=n;t.canvasToTempFilePath({width:n,height:r,canvasId:"canvas",success:function(t){e.ImgPath=t.tempFilePath,i&&(setTimeout((function(){e.canvasShow=!1}),200),e.$emit("actionEnd"))}},e)},lottery:function(t){var i=this,e=360/i.prizeList.length,n=t,r=0;for(var a in i.prizeList)if(i.prizeList.hasOwnProperty(a)){if(n.id==i.prizeList[a].id)break;r++}i.turntable.lottery(r*e+e/2,(function(){var t=100;setTimeout((function(){i.inLottery=!1,i.getImg()}),t)}))}}};i.default=r}).call(this,e("543d")["default"])}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'pagesB/components/turntable/turntable-create-component',
    {
        'pagesB/components/turntable/turntable-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("3b7c"))
        })
    },
    [['pagesB/components/turntable/turntable-create-component']]
]);
