require('../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesB/activity/cattleCoinStore"],{"0aa4":function(t,n,o){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=i(o("669a"));function i(t){return t&&t.__esModule?t:{default:t}}var a=function(){o.e("node-modules/_@dcloudio_uni-ui@1.2.5@@dcloudio/uni-ui/lib/uni-load-more/uni-load-more").then(function(){return resolve(o("fdd7"))}.bind(null,o)).catch(o.oe)},s={mixins:[e.default],components:{uniLoadMore:a},onLoad:function(){this.getUserBanner()},onShow:function(){this.gm_id=t.getStorageSync("gmToken"),this.getRefreshCoin(),this.getCattleCoinClass(),this.getCattleCoinGoods(!0)},mounted:function(){},onReachBottom:function(){var t=this;this.loadMore.flat||(this.loadStatus="loading",setTimeout((function(){0!==t.list.length&&t.loadMore.current++,t.getCattleCoinGoods()}),500))},data:function(){return{gm_id:"",myCoin:0,currentClassify:"",orderby:"",direction:"",bannerUrl:"",loadStatus:"loading",list:[],loadMore:{current:1,last:1,flat:!1},scrollIndex:0,tabList:[]}},methods:{getRefreshCoin:function(){var t=this;this.$http({aurl:"refreshSelfPoint",data:{gm_id:this.gm_id||1},success:function(n){0===n.data.code&&(t.myCoin=n.data.result.point)},fail:function(t){console.log(t)},complete:function(){}})},integralSort:function(){this.loadMore.current=1,this.list=[],this.orderby="point_fee",""===this.direction?this.direction="asc":"asc"===this.direction?this.direction="desc":"desc"===this.direction&&(this.direction=""),this.getCattleCoinGoods()},gotoRecord:function(){t.navigateTo({url:"/pagesB/activity/exchangeRecord?selectIndex=1"})},gotoCoinExchange:function(){t.navigateTo({url:"/pagesB/activity/coinExchange"})},scroll:function(){},chooseScroll:function(t,n){this.scrollIndex=n,this.currentClassify=t.id,this.list=[],this.loadMore={current:1,last:1,flat:!1},this.getCattleCoinGoods(!0)},getUserBanner:function(){var t=this;this.$http({aurl:"configItems",success:function(n){0===n.data.code&&n.data.result.point_banner.length>0&&(t.bannerUrl=n.data.result.point_banner[0].url)},fail:function(n){t.showUser=!0,console.log(n)}})},getCattleCoinClass:function(){var t=this;this.$http({aurl:"cattleCoinClass",data:{page:1,per_page:20},success:function(n){n.data.result.lists;t.tabList=n.data.result.lists,t.tabList.unshift({id:"",cat_name:"全部"})},fail:function(t){console.log(t)}})},getCattleCoinGoods:function(t){var n=this;t&&(this.list=[],this.loadMore.current=1),this.$http({aurl:"cattleCoinGoods",data:{page:this.loadMore.current,per_page:10,orderby:this.orderby,direction:this.direction,class_id:this.currentClassify},success:function(t){var o=t.data.result.lists;o.data&&o.data.length>0&&(n.loadMore.last=o.last_page,o.data.forEach((function(t){n.list.push(t)}))),n.loadMore.current===n.loadMore.last?(n.loadMore.flat=!0,n.loadStatus="noMore"):(n.loadStatus="more",n.loadMore.flat=!1)},fail:function(t){console.log(t)}})}}};n.default=s}).call(this,o("543d")["default"])},2636:function(t,n,o){"use strict";o.r(n);var e=o("0aa4"),i=o.n(e);for(var a in e)"default"!==a&&function(t){o.d(n,t,(function(){return e[t]}))}(a);n["default"]=i.a},"665c":function(t,n,o){"use strict";(function(t){o("cf0c");e(o("66fd"));var n=e(o("dbfa"));function e(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,o("543d")["createPage"])},c3ad:function(t,n,o){"use strict";var e,i=function(){var t=this,n=t.$createElement;t._self._c},a=[];o.d(n,"b",(function(){return i})),o.d(n,"c",(function(){return a})),o.d(n,"a",(function(){return e}))},dbfa:function(t,n,o){"use strict";o.r(n);var e=o("c3ad"),i=o("2636");for(var a in i)"default"!==a&&function(t){o.d(n,t,(function(){return i[t]}))}(a);o("e8e1");var s,r=o("f0c5"),c=Object(r["a"])(i["default"],e["b"],e["c"],!1,null,"7e844902",null,!1,e["a"],s);n["default"]=c.exports},e8e1:function(t,n,o){"use strict";var e=o("f19d"),i=o.n(e);i.a},f19d:function(t,n,o){}},[["665c","common/runtime","common/vendor"]]]);