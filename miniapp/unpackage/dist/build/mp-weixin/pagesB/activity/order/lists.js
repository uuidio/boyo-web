require('../../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesB/activity/order/lists"],{"0f60":function(t,a,e){"use strict";var n=e("a7dc"),i=e.n(n);i.a},"1e2c":function(t,a,e){"use strict";var n,i=function(){var t=this,a=t.$createElement;t._self._c},o=[];e.d(a,"b",(function(){return i})),e.d(a,"c",(function(){return o})),e.d(a,"a",(function(){return n}))},a3a5:function(t,a,e){"use strict";(function(t){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=o(e("b8df")),i=e("f01e");function o(t){return t&&t.__esModule?t:{default:t}}var c=function(){e.e("components/lists/nullData").then(function(){return resolve(e("0bb9"))}.bind(null,e)).catch(e.oe)},s=function(){e.e("node-modules/_@dcloudio_uni-ui@1.2.5@@dcloudio/uni-ui/lib/uni-load-more/uni-load-more").then(function(){return resolve(e("fdd7"))}.bind(null,e)).catch(e.oe)},u=[{title:"全部",status:""},{title:"待参与",status:"WAIT_BUYER_PAY"},{title:"已参与",status:"WAIT_SELLER_SEND_GOODS"},{title:"已结束",status:"WAIT_BUYER_CONFIRM_GOODS"},{title:"已取消",status:"CANCEL"}],r=["不想买了","重复下单","订单有误","其它原因"],l={components:{uniLoadMore:s,noData:c},data:function(){return{cancelRadio:"",tradeStatus:u,columns:r,active:0,orderLists:n.default.orderLists,currentPage:1,lists:[{group_name:"深圳益田假日广场",status_text:"待参与",trade_order:[{activity_name:"活动标题活动标题活动标题活动标标.活动标题活动标题活动标题活动标标.活动标题活动标题活动标题活动标标.",activity_url:"https://egoss1.ytholidayplaza.com/images/default/202004/23/image_b11f2872a701f13e2513ba13c78010b9.jpeg",created_start:"2020-03-30 10:00",activity_addr:"西塔三层"}]},{group_name:"深圳益田假日广场",status_text:"已参与",trade_order:[{activity_name:"活动标题活动标题活动标题活动标标.活动标题活动标题活动标题活动标标.活动标题活动标题活动标题活动标标.",activity_url:"https://egoss1.ytholidayplaza.com/images/default/202004/23/image_b11f2872a701f13e2513ba13c78010b9.jpeg",created_start:"2020-03-30 10:00",activity_addr:"西塔三层"}]},{group_name:"深圳益田假日广场",status_text:"已结束",trade_order:[{activity_name:"活动标题活动标题活动标题活动标标.活动标题活动标题活动标题活动标标.活动标题活动标题活动标题活动标标.",activity_url:"https://egoss1.ytholidayplaza.com/images/default/202004/23/image_b11f2872a701f13e2513ba13c78010b9.jpeg",created_start:"2020-03-30 10:00",activity_addr:"西塔三层"}]},{group_name:"深圳益田假日广场",status_text:"已取消",trade_order:[{activity_name:"活动标题活动标题活动标题活动标标.活动标题活动标题活动标题活动标标.活动标题活动标题活动标题活动标标.",activity_url:"https://egoss1.ytholidayplaza.com/images/default/202004/23/image_b11f2872a701f13e2513ba13c78010b9.jpeg",created_start:"2020-03-30 10:00",activity_addr:"西塔三层"}]}],loadStatus:"more",pullUpOn:!0,loadding:!1,orderLoading:!1,cancel:{tid:"",cancel_reason:""},showPopup:!1}},onLoad:function(t){t.active&&(this.active=t.active)},onShow:function(){},methods:{toEvaluate:function(t){this.toQueryLink("/pagesA/user/order/evaluate",{tid:t})},receiptOrder:function(t){(0,i.confirmOrder)(t,this.callBack)},callBack:function(){},paymentSubmit:function(t,a){(0,i.toPayment)(t,a)},submitCancel:function(){var t=this;""!==this.cancelRadio?this.$http({aurl:"cancelOrder",data:this.cancel,success:function(a){0===a.data.code&&(t.showPopup=!1)},fail:function(t){console.log(t)}}):this.showAlert("请选择取消原因")},cancelTid:function(t){this.cancel.tid=t,this.showPopup=!0},closeModel:function(){this.cancelRadio="",this.showPopup=!1},cancelChange:function(t){this.cancelRadio=String(t.detail),this.cancel.cancel_reason=this.columns[t.detail]},cancelClick:function(t){this.cancelRadio=String(t),this.cancel.cancel_reason=this.columns[t]},changeStatus:function(t){this.active=t.detail.index},init:function(){this.loadding=!1,this.orderLoading=!0,this.loadStatus="more",this.pullUpOn=!0,this.currentPage=1,this.lists=[]},getLists:function(a){if(a&&this.init(),this.pullUpOn){1===this.currentPage&&t.showLoading({title:"加载中"});var e=this,n=this.tradeStatus[this.active].status,i={page:this.currentPage,status:n};this.$http({aurl:"orderLists",params:i,success:function(a){0===a.data.result.data.length?(e.loadding=!1,e.pullUpOn=!1,e.loadStatus="noMore"):(a.data.result.data.forEach((function(t){for(var a=0;a<t.trade_order.length;a++){var n=t.trade_order[a];if(n.after_sales_status&&(t.sale=!0,"SELLER_REFUSE_BUYER"===n.after_sales_status)){t.sale=!1;break}}e.lists.push(t)})),1===a.data.result.last_page?(e.loadding=!1,e.pullUpOn=!1,e.loadStatus="noMore"):(e.currentPage++,e.loadStatus="more",e.loadding=!1)),setTimeout((function(){e.orderLoading=!1,t.hideLoading()}),300)},fail:function(t){console.log(t)}})}}},onReachBottom:function(){},mounted:function(){}};a.default=l}).call(this,e("543d")["default"])},a7dc:function(t,a,e){},cc89:function(t,a,e){"use strict";e.r(a);var n=e("1e2c"),i=e("ec32");for(var o in i)"default"!==o&&function(t){e.d(a,t,(function(){return i[t]}))}(o);e("0f60");var c,s=e("f0c5"),u=Object(s["a"])(i["default"],n["b"],n["c"],!1,null,"1b2c8375",null,!1,n["a"],c);a["default"]=u.exports},e7a9:function(t,a,e){"use strict";(function(t){e("cf0c");n(e("66fd"));var a=n(e("cc89"));function n(t){return t&&t.__esModule?t:{default:t}}t(a.default)}).call(this,e("543d")["createPage"])},ec32:function(t,a,e){"use strict";e.r(a);var n=e("a3a5"),i=e.n(n);for(var o in n)"default"!==o&&function(t){e.d(a,t,(function(){return n[t]}))}(o);a["default"]=i.a}},[["e7a9","common/runtime","common/vendor","pagesB/common/vendor"]]]);