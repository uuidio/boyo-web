require('../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesA/brand/brand","components/diyTitle/diyTitle"],{"154e":function(t,e,n){"use strict";var o,i=function(){var t=this,e=t.$createElement;t._self._c},a=[];n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return o}))},"22e2":function(t,e,n){},"2e86":function(t,e,n){"use strict";n.r(e);var o=n("cc9e"),i=n("b00f");for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);n("b77d");var r,s=n("f0c5"),c=Object(s["a"])(i["default"],o["b"],o["c"],!1,null,"35c5bb44",null,!1,o["a"],r);e["default"]=c.exports},6995:function(t,e,n){"use strict";(function(t){n("cf0c");o(n("66fd"));var e=o(n("2e86"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},"6adc":function(t,e,n){},"70eb":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;r(n("cf0e"));var o=r(n("2704")),i=r(n("835d")),a=r(n("669a"));function r(t){return t&&t.__esModule?t:{default:t}}var s=function(){n.e("pagesA/brand/components/brandInfo").then(function(){return resolve(n("20dd"))}.bind(null,n)).catch(n.oe)},c=function(){n.e("components/lists/TopDropdown").then(function(){return resolve(n("3f51"))}.bind(null,n)).catch(n.oe)},l=function(){n.e("node-modules/_@dcloudio_uni-ui@1.2.5@@dcloudio/uni-ui/lib/uni-load-more/uni-load-more").then(function(){return resolve(n("fdd7"))}.bind(null,n)).catch(n.oe)},u={onLoad:function(e){var n=this;e.gm_id&&(this.gm_id=e.gm_id,this.listParam.gm_id=e.gm_id),t.getSystemInfo({success:function(t){n.cateHeight=t.windowHeight}})},mixins:[i.default,a.default],data:function(){return{gm_id:"",orderLists:o.default.orderLists,dropScreenShow:!1,selectIndex:-1,floorFliter:[],cateHeight:0,cateIndex:0,tabData:{list:["楼层","分类"],index:0},floorList:[],category:[],listParam:{gm_id:""},loadStatus:"loading",loadText:{contentdown:"上拉显示更多",contentrefresh:"正在加载...",contentnomore:"持续更新中"}}},mounted:function(){},onReachBottom:function(){var t=this;this.listParam.page==this.listParam.lastPage?this.loadStatus="noMore":(this.listParam.page++,setTimeout((function(){t.getFloor()}),300))},methods:{getFloor:function(t){var e=this;t&&(this.floorList=[],this.listParam.page=1,this.listParam.lastPage=1,this.loadStatus="loading"),this.$http({aurl:"brandList",data:this.listParam,success:function(n){console.log(n);var o=n.data.result.lists.data,i=n.data.result.lists.last_page;t&&(1===i?e.loadStatus="noMore":e.listParam.lastPage=i),0!==o.length&&o.forEach((function(t){e.floorList.push(t)}))},fail:function(t){console.log(t)},complete:function(){}})},getTree:function(){var t=this;this.$http({aurl:"brandCategory",data:{gm_id:this.gm_id},success:function(e){var n=e.data.result;0!==n.length?t.category=n:t.category=[]},fail:function(t){console.log(t)}})},getFloorId:function(){var t=this;this.$http({aurl:"floorId",data:{gm_id:this.gm_id},success:function(e){console.log(e.data);var n=e.data.result;0!==n.length?n.forEach((function(e){e.selected=!1,t.floorFliter.push(e)})):t.floorFliter=[]},fail:function(t){console.log(t)}})},searchKw:function(t){this.listParam={},this.listParam.keyword=t.detail.value,this.getFloor(!0)},onChangeIndex:function(t){var e=t.currentTarget.dataset.index;this.tabData.index=e,0===e&&(this.dropScreenShow=!this.dropScreenShow)},onClickItem:function(t){},phone:function(t){console.log("打电话。。")},like:function(t){this.floorList[t].like=!this.floorList[t].like,console.log("linke。。"+t)},changeCate:function(t){var e=t.currentTarget.dataset.index;this.cateIndex=e},btnCloseDrop:function(){var t=this;this.scrollTop=1,this.$nextTick((function(){t.scrollTop=0})),this.dropScreenShow=!1,this.attrIndex=-1},btnSelected:function(t){var e=t.currentTarget.dataset.index,n=this.floorFliter[e];n.selected=!n.selected,this.$set(this.floorFliter,e,n)},btnReset:function(){var t=this;this.floorFliter.map((function(e,n){t.$set(t.floorFliter[n],"selected",!1)}))},btnSure:function(){var t=this;this.listParam={gm_id:this.gm_id},this.listParam.floors_id_arr=[],this.floorFliter.map((function(e,n){e.selected&&t.listParam.floors_id_arr.push(e.id)})),this.getFloor(!0),this.btnCloseDrop()},floorCat:function(t){this.listParam={gm_id:this.gm_id};var e=t.currentTarget.dataset.cat_id;this.listParam.rel_cat_id=e,console.log(this.listParam),this.getFloor(!0),this.tabData.index=0},toList:function(){t.navigateTo({url:"./lists"})},tapItem:function(e){var n=this.floorList[e].id;t.navigateTo({url:"/pagesA/brand/lists?shopid=".concat(n)})}},onShow:function(){this.getFloor(!0),this.getTree(),this.getFloorId(),this.getCartNum()},components:{brandInfo:s,TopDropdown:c,uniLoadMore:l}};e.default=u}).call(this,n("543d")["default"])},"94c2":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={props:{config:{type:Object,default:{}}},data:function(){return{}}};e.default=o},b00f:function(t,e,n){"use strict";n.r(e);var o=n("70eb"),i=n.n(o);for(var a in o)"default"!==a&&function(t){n.d(e,t,(function(){return o[t]}))}(a);e["default"]=i.a},b77d:function(t,e,n){"use strict";var o=n("22e2"),i=n.n(o);i.a},cc9e:function(t,e,n){"use strict";var o,i=function(){var t=this,e=t.$createElement;t._self._c},a=[];n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return o}))},cf0e:function(t,e,n){"use strict";n.r(e);var o=n("154e"),i=n("df59");for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);n("d93a");var r,s=n("f0c5"),c=Object(s["a"])(i["default"],o["b"],o["c"],!1,null,"3e7d32ce",null,!1,o["a"],r);e["default"]=c.exports},d93a:function(t,e,n){"use strict";var o=n("6adc"),i=n.n(o);i.a},df59:function(t,e,n){"use strict";n.r(e);var o=n("94c2"),i=n.n(o);for(var a in o)"default"!==a&&function(t){n.d(e,t,(function(){return o[t]}))}(a);e["default"]=i.a}},[["6995","common/runtime","common/vendor"]]]);