require('../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesA/user/coupon"],{"0a23":function(t,n,e){"use strict";e.r(n);var r=e("3acc"),u=e.n(r);for(var o in r)"default"!==o&&function(t){e.d(n,t,(function(){return r[t]}))}(o);n["default"]=u.a},"0fc2":function(t,n,e){"use strict";var r,u=function(){var t=this,n=t.$createElement;t._self._c},o=[];e.d(n,"b",(function(){return u})),e.d(n,"c",(function(){return o})),e.d(n,"a",(function(){return r}))},"158c":function(t,n,e){"use strict";var r=e("f544"),u=e.n(r);u.a},"3acc":function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,u=o(e("669a"));function o(t){return t&&t.__esModule?t:{default:t}}function i(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var c=function(){Promise.all([e.e("common/vendor"),e.e("pagesA/user/component/coupon")]).then(function(){return resolve(e("2b9d"))}.bind(null,e)).catch(e.oe)},a=function(){e.e("components/lists/nullData").then(function(){return resolve(e("0bb9"))}.bind(null,e)).catch(e.oe)},l=function(){e.e("node-modules/_@dcloudio_uni-ui@1.2.5@@dcloudio/uni-ui/lib/uni-load-more/uni-load-more").then(function(){return resolve(e("fdd7"))}.bind(null,e)).catch(e.oe)},s=(r={mixins:[u.default],onLoad:function(){for(var t in this.tabNav)this.listArr.push({list:[],isNull:!1,init:!1,currentPage:1,lastPage:1,loadStatus:"loading",onPull:!0})},onShow:function(){var t=this.currentIndex+1;this.getList(!0,t)},onReachBottom:function(){},mounted:function(){},data:function(){return{tabNav:["未使用","已使用","已过期"],currentIndex:0,isNull:!1,list:[],listArr:[]}}},i(r,"onReachBottom",(function(){var t=this,n=this.listArr[this.currentIndex];n.onPull&&(n.loadStatus="loading",n.currentPage===n.lastPage?(n.loadStatus="noMore",n.onPull=!1):(n.currentPage++,setTimeout((function(){t.getList(!1,t.currentIndex+1),t.listArr[t.currentIndex].loadStatus="more"}),3e3)))})),i(r,"methods",{getList:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1?arguments[1]:void 0;this.$http({aurl:"getUserCoupon",data:{status:e,size:"10",page:n?1:this.listArr[this.currentIndex].currentPage},success:function(e){var r=e.data.result.data;console.log("优惠券列表",r),n&&(t.listArr[t.currentIndex].list=[],t.listArr[t.currentIndex].init=!0,t.listArr[t.currentIndex].lastPage=e.data.result.last_page,t.listArr[t.currentIndex].currentPage=1,t.listArr[t.currentIndex].currentPage===e.data.result.last_page&&(t.listArr[t.currentIndex].loadStatus="noMore",t.listArr[t.currentIndex].onPull=!1)),r.length>0?(r.forEach((function(n,e){n.isShow=!1,t.listArr[t.currentIndex].list.push(n)})),t.listArr[t.currentIndex].isNull=!1):t.listArr[t.currentIndex].isNull=!0},fail:function(t){console.log(t)},complete:function(){}})},showInfo:function(t){return!0},changeTab:function(t){this.currentIndex=t;this.listArr[this.currentIndex].init;this.getList(!0,this.currentIndex+1)}}),i(r,"components",{couponItem:c,nullData:a,uniLoadMore:l}),r);n.default=s},"4bf2":function(t,n,e){"use strict";(function(t){e("cf0c");r(e("66fd"));var n=r(e("89e1"));function r(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,e("543d")["createPage"])},"89e1":function(t,n,e){"use strict";e.r(n);var r=e("0fc2"),u=e("0a23");for(var o in u)"default"!==o&&function(t){e.d(n,t,(function(){return u[t]}))}(o);e("158c");var i,c=e("f0c5"),a=Object(c["a"])(u["default"],r["b"],r["c"],!1,null,"6ee6d968",null,!1,r["a"],i);n["default"]=a.exports},f544:function(t,n,e){}},[["4bf2","common/runtime","common/vendor"]]]);