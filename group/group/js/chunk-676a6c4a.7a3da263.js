(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-676a6c4a"],{"0113":function(t,e,a){},"042a":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"list-nav"},[a("div",{staticClass:"mb10"},[a("router-link",{attrs:{to:"/project/platform/add/-1"}},[a("a-button",{staticClass:"mr10",attrs:{type:"primary",icon:"plus"}},[t._v("添加平台")])],1)],1),a("div")]),t.listField&&t.listField.length>0?[a("a-table",{staticClass:"components-table-demo-nested",attrs:{scroll:{x:1100,y:700},columns:t.listField,dataSource:t.listData,pagination:!1},scopedSlots:t._u([{key:"action",fn:function(e,i){return a("div",{},[t._v("\n\t\t\t\t\t项目展示\n\t\t\t\t\t"),a("a-switch",{key:i.id,staticClass:"mr10",attrs:{checkedChildren:"开",unCheckedChildren:"关",checked:!!i.status},on:{change:function(e){return t.act(i)}}}),a("a",{staticClass:"mr10",on:{click:function(e){return t.edit(i)}}},[t._v("编辑")]),a("div",{staticClass:"mt10"},[a("a",{on:{click:function(e){return t.setRate(i)}}},[t._v("设置项目权重")])]),a("div",{staticClass:"mt10"},[a("a",{on:{click:function(e){return t.setIntegral(i)}}},[t._v("设置积分配置")])]),a("div",{staticClass:"mt10"},[a("a",{on:{click:function(e){return t.setAllowLogin(i)}}},[t._v("设置项目登录")])])],1)}}],null,!1,3733613339)}),a("div",{staticClass:"pageBox"},[a("a-pagination",{attrs:{total:t.pages.total,showTotal:function(t){return"共 "+t+" 条数据"},pageSize:t.pages.per_page,defaultCurrent:1},on:{change:t.pageChange}})],1)]:t._e(),a("a-modal",{attrs:{title:"项目权重设置"},on:{ok:t.handleOk},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[a("a-form",[a("a-form-item",{attrs:{label:"项目名称","label-col":{span:5},"wrapper-col":{span:12}}},[t._v("\n          "+t._s(t.shopName)+"\n        ")]),a("a-form-item",{attrs:{label:"项目权重","label-col":{span:5},"wrapper-col":{span:12}}},[a("a-input",{attrs:{placeholder:"请输入项目权重",type:"number",min:0,max:100},model:{value:t.params.listorder,callback:function(e){t.$set(t.params,"listorder",e)},expression:"params.listorder"}}),a("p",{staticClass:"col-666 mt10"},[t._v("*请输入0~999之间的值")]),a("p",{staticClass:"col-666 mt10"},[t._v("数值越大排在越前面")])],1)],1)],1),a("a-modal",{attrs:{title:"项目积分配置"},on:{ok:t.integralOK},model:{value:t.integralShow,callback:function(e){t.integralShow=e},expression:"integralShow"}},[a("a-form",[a("a-form-item",{attrs:{label:"项目名称","label-col":{span:7},"wrapper-col":{span:12}}},[t._v("\n\t          "+t._s(t.shopName)+"\n\t        ")]),a("a-form-item",{attrs:{label:"项目积分","label-col":{span:7},"wrapper-col":{span:12}}},[a("a-input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入消耗积分",type:"number",min:0},model:{value:t.point_params.use_obtain_point.use_point,callback:function(e){t.$set(t.point_params.use_obtain_point,"use_point",e)},expression:"point_params.use_obtain_point.use_point"}}),t._v(" 元\n\t        ")],1),a("a-form-item",{attrs:{label:"平台牛币","label-col":{span:7},"wrapper-col":{span:12}}},[a("a-input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入获得牛币",type:"number",min:0},model:{value:t.point_params.use_obtain_point.obtain_point,callback:function(e){t.$set(t.point_params.use_obtain_point,"obtain_point",e)},expression:"point_params.use_obtain_point.obtain_point"}})],1),a("a-form-item",{attrs:{label:"是否开启积分兑换","label-col":{span:7},"wrapper-col":{span:12}}},[a("a-switch",{attrs:{checkedChildren:"开",unCheckedChildren:"关"},on:{change:t.changePointDeduction},model:{value:1==t.point_params.open_point_exchange,callback:function(e){t.$set(t.point_params,"open_point_exchange == 1 ? true : false",e)},expression:"point_params.open_point_exchange == 1 ? true : false"}})],1)],1)],1),a("a-modal",{attrs:{title:"项目登录配置"},on:{ok:t.allowLoginOK},model:{value:t.showAllowLogin,callback:function(e){t.showAllowLogin=e},expression:"showAllowLogin"}},[a("a-form",[a("a-form-item",{attrs:{label:"是否允许项目登录","label-col":{span:7},"wrapper-col":{span:12}}},[a("a-switch",{attrs:{checkedChildren:"开",unCheckedChildren:"关"},on:{change:t.changeAllowLogin},model:{value:1==t.allowLoginData.allow_login,callback:function(e){t.$set(t.allowLoginData,"allow_login == 1 ? true : false",e)},expression:"allowLoginData.allow_login == 1 ? true : false"}})],1)],1)],1)],2)},n=[],o=(a("5ab2"),a("6d57"),a("e10e"),a("ce3c")),s=(a("e1d2"),a("804d"),a("9f3a"));function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function r(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){Object(o["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var c={name:"lists",computed:r({},Object(s["c"])({listData:function(t){return t.project.lists},listField:function(t){return t.project.fields},pages:function(t){return t.project.pages}})),data:function(){return{allowLoginData:{id:"",allow_login:""},showAllowLogin:!1,visible:!1,visible2:!1,integralShow:!1,keyword:"",shopName:"",formItem:{page:1},manage_fee:{id:"",manage_fee:""},params:{id:"",listorder:""},point_params:{open_point_exchange:0,id:"",use_obtain_point:{use_point:"",obtain_point:""}}}},methods:r(r({},Object(s["b"])({fetchLists:"project/fetchLists",actShop:"project/actShop",editShop:"project/editShop",updateOrder:"project/updateOrder",settingAllowLogin:"project/settingAllowLogin"})),{},{integralOK:function(){this.editShop({formItem:this.point_params,callback:this.getLists}),this.integralShow=!1},setIntegral:function(t){this.shopName=t.platform_name,console.log(t),this.point_params={id:t.gm_id,open_point_exchange:t.open_point_exchange,use_obtain_point:{use_point:t.use_obtain_point.use_point,obtain_point:t.use_obtain_point.obtain_point}},this.integralShow=!0},setAllowLogin:function(t){this.allowLoginData.id=t.gm_id,this.allowLoginData.allow_login=t.allow_login,this.showAllowLogin=!0},changeAllowLogin:function(t){this.allowLoginData.allow_login=t?1:0},allowLoginOK:function(){this.settingAllowLogin(this.allowLoginData),this.showAllowLogin=!1},changePointDeduction:function(t){this.point_params.open_point_exchange=t?1:0},handleOk2:function(){this.editShop({formItem:this.manage_fee,callback:this.getLists}),this.visible2=!1},onSearch:function(t){this.keyword=t,this.formItem.page=1,this.formItem.keyword=t,this.getLists()},pageChange:function(t){this.formItem.page=t,this.getLists()},setRate:function(t){this.shopName=t.platform_name,this.params.id=t.gm_id,this.params.listorder=t.listorder,this.visible=!0},setManage_fee:function(t){this.shopName=t.shop_name,this.manage_fee.id=t.id,this.manage_fee.manage_fee=t.manage_fee,this.visible2=!0},getLists:function(){var t=this.formItem;this.fetchLists(t)},edit:function(t){var e="/project/platform/add/".concat(t.gm_id);this.$router.push({path:e})},act:function(t){var e="";t.status?(e="close",t.status=!1,t.shop_state="关闭"):t.status||(e="open",t.status=!0,t.shop_state="开启");var a={id:t.gm_id,status:e};this.actShop({params:a})},del:function(t){var e=this;confirm("确认删除店铺？")&&(this.delShop({id:t.id}),setTimeout((function(){e.getLists()}),500))},handleOk:function(){this.updateOrder({formItem:this.params,callback:this.getLists}),this.visible=!1}}),mounted:function(){this.getLists()}},p=c,u=(a("fff1f"),a("9ca4")),h=Object(u["a"])(p,i,n,!1,null,"6c4c8a5d",null);e["default"]=h.exports},fff1f:function(t,e,a){"use strict";var i=a("0113"),n=a.n(i);n.a}}]);