(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b9de2"],{"357a":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"mb20"},[a("search",{on:{search:t.getSearch}})],1),a("div",{staticClass:"mb20"},[a("a-button",{attrs:{type:"primary"},on:{click:t.downloadUv}},[t._v("数据导出")])],1),t.fields&&t.fields.length>0?[a("a-table",{staticClass:"mr10",attrs:{scroll:{x:1100,y:700},columns:t.fields,dataSource:t.lists,pagination:!1},scopedSlots:t._u([{key:"action",fn:function(e,n){return a("div",{},[0===n.status?a("span",{staticClass:"col-666"},[t._v("未结算")]):a("span",{staticClass:"col-666"},[t._v("已结算")])])}}],null,!1,3985451293)}),a("div",{staticClass:"pageBox"},[a("a-pagination",{attrs:{total:t.pages.total,showTotal:function(t){return"共 "+t+" 条数据"},pageSize:t.pages.per_page,defaultCurrent:1},on:{change:t.pageChange}})],1)]:t._e()],2)},s=[],r=(a("5ab2"),a("e10e"),a("6d57"),a("ce3c")),i=a("9f3a"),o=a("4021"),c=a("b893");function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(Object(a),!0).forEach((function(e){Object(r["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var u={components:{search:o["a"]},computed:l({},Object(i["c"])({lists:function(t){return t.settle.uvLists},pages:function(t){return t.settle.uvPages},fields:function(t){return t.settle.uvFields},uvDownload:function(t){return t.settle.uvDownload}})),data:function(){return{params:{pages:1,shop_id:void 0,gm_id:"",trading_day_start:"",trading_day_end:""}}},watch:{uvDownload:function(){this.fields.pop(),Object(c["a"])(this.uvDownload.list,this.fields,"UV结算报表")}},methods:l(l({},Object(i["b"])({getTradeUv:"settle/getTradeUv",getDownloadUv:"settle/getDownloadUv"})),{},{downloadUv:function(){this.$success({title:"温馨提示！",content:"数据正在导出,请稍后"});var t={shop_id:this.params.shop_id,gm_id:this.params.gm_id,trading_day_start:this.params.trading_day_start,trading_day_end:this.params.trading_day_end};this.getDownloadUv(t)},pageChange:function(t){this.params.page=t,this.getTradeUv(this.params)},getSearch:function(t){this.params.trading_day_start=t.settle_time_start,this.params.trading_day_end=t.settle_time_end,this.params.shop_id=t.shop_id,this.params.gm_id=t.gm_id,this.params.page=1,this.getTradeUv(this.params)},export2Excels:function(t,e,n){var s=[],r=[],i=t;e.forEach((function(t,e){s.push(t.title),r.push(t.dataIndex)})),console.log(t,e);var o=this.formatJson(r,i);console.log(o),Promise.all([a.e("chunk-87d7ce5a"),a.e("chunk-d33b169a")]).then(a.bind(null,"4bf8")).then((function(t){t.export_json_to_excel({header:s,data:o,filename:n,autoWidth:!0,bookType:"xlsx"})}))},formatJson:function(t,e){return e.map((function(e){return t.map((function(t){return e[t]}))}))}}),mounted:function(){this.getTradeUv(this.params)}},p=u,h=a("9ca4"),g=Object(h["a"])(p,n,s,!1,null,"2f05d57e",null);e["default"]=g.exports}}]);