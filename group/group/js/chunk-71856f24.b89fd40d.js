(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-71856f24"],{4428:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"UploadBox"},[e._l(e.uploadImageList,(function(t,s){return a("div",{key:s,staticClass:"upload-image-list"},["finished"===t.status?[a("img",{attrs:{src:t.url}}),a("div",{staticClass:"upload-image-list-cover"},[a("a-icon",{attrs:{type:"eye"},nativeOn:{click:function(a){return e.handleView(t.url)}}}),a("a-icon",{attrs:{type:"delete"},nativeOn:{click:function(a){return e.handleRemove(t)}}})],1)]:[t.showProgress?a("a-progress",{attrs:{percent:t.percentage,"hide-info":""}}):e._e()]],2)})),a("Upload",{ref:"upload",staticStyle:{display:"inline-block",width:"60px"},attrs:{name:"image",headers:e.headers,"show-upload-list":!1,"default-file-list":e.defaultImageList,"on-success":e.handleSuccess,format:["jpg","jpeg","png"],"max-size":2048,"on-format-error":e.handleFormatError,"on-exceeded-size":e.handleMaxSize,"before-upload":e.handleBeforeUpload,multiple:e.isMultiple,type:"drag",action:e.uploadImageUrl}},[a("div",{staticStyle:{width:"58px",height:"58px","line-height":"58px"}},[a("a-icon",{attrs:{type:"upload",size:"20"}})],1)]),a("AlbumPics",{attrs:{isMultiple:!0,maximum:e.surplusNum},on:{selectOk:e.selectPics}},[a("div",{staticClass:"ant-upload ant-upload-drag"},[a("a-icon",{attrs:{type:"camera",size:"20"}})],1)])],2),a("a-modal",{attrs:{title:"查看图片"},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[e.visible?a("img",{staticStyle:{width:"100%"},attrs:{src:e.imageUrl}}):e._e(),a("div",{attrs:{slot:"footer"},slot:"footer"})])],1)},i=[],n=(a("6d57"),a("163d"),a("3830")),r=a("804d"),o=a("564b"),l=a("ca00"),u={name:"UploadImage",components:{AlbumPics:o["a"],Upload:n["a"]},props:{defaultImageList:Array,maximum:Number,shopId:Number},data:function(){return{headers:{Accept:"application/json",Authorization:"Bearer ".concat(Object(l["a"])())},uploadImageUrl:r["a"].baseURL+r["a"].action.upload_image,imageUrl:"",visible:!1,isMultiple:1!==this.maximum,uploadImageList:[],surplusNum:this.maximum-this.defaultImageList.length}},methods:{handleView:function(e){this.imageUrl=e,this.visible=!0},handleRemove:function(e){var t=this.$refs.upload.fileList;this.$refs.upload.fileList.splice(t.indexOf(e),1),this.uploadImageList=this.$refs.upload.fileList,this.surplusNum++},handleSuccess:function(e,t){console.log(JSON.stringify(e)),0===e.code?(t.url=e.result.pic_url,this.surplusNum--):this.$notification.warning({message:"Warning Notice",description:e.message})},handleFormatError:function(){this.$Notice.warning({message:"The file format is incorrect",description:"上传文件格式不正确"})},handleMaxSize:function(){this.$Notice.warning({message:"Exceeding file size limit",description:"上传文件过大."})},handleBeforeUpload:function(){var e=this.uploadImageList.length<this.maximum;return e||this.$notification.warning({message:"Notice",description:"最多只能上传".concat(this.maximum,"张图片, 请删除后再上传")}),e},selectPics:function(e){var t=this;e.forEach((function(e){var a={status:"finished",url:e.pic_url};t.uploadImageList.push(a),t.surplusNum--}))}},mounted:function(){this.uploadImageList=this.$refs.upload.fileList},watch:{defaultImageList:function(){this.uploadImageList=this.defaultImageList,this.surplusNum=this.surplusNum-this.uploadImageList.length}}},c=u,m=(a("4876"),a("9ca4")),p=Object(m["a"])(c,s,i,!1,null,"7fd14ca1",null);t["a"]=p.exports},4876:function(e,t,a){"use strict";var s=a("b907"),i=a.n(s);i.a},adf3:function(e,t,a){"use strict";a.r(t);var s,i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content"},[a("a-tabs",{model:{value:e.tabType,callback:function(t){e.tabType=t},expression:"tabType"}},[a("a-tab-pane",{key:"platform_attrs",attrs:{tab:"推广中心配置"}},[a("div",{staticClass:"list"},[a("a-row",{staticClass:"mb20",attrs:{type:"flex",align:"middle"}},[a("a-col",{attrs:{span:3}},[e._v("自动审核推广员")]),a("a-col",{attrs:{span:12}},[a("div",[a("a-switch",{attrs:{checked:0==e.genItem.status},on:{change:e.changeGen}})],1)])],1),a("a-row",{staticClass:"mb20",attrs:{type:"flex",align:"middle"}},[a("a-col",{attrs:{span:3}},[e._v("绑定关系天数")]),a("a-col",{attrs:{span:3}},[a("div",[a("a-input",{attrs:{type:"number"},model:{value:e.genItem.last_day,callback:function(t){e.$set(e.genItem,"last_day",t)},expression:"genItem.last_day"}})],1)])],1),a("a-row",{staticClass:"mb20",attrs:{type:"flex",align:"middle"}},[a("a-col",{attrs:{span:3}},[e._v("最低提现金额")]),a("a-col",{attrs:{span:3}},[a("div",[a("a-input",{attrs:{type:"number"},model:{value:e.genItem.apply_amount,callback:function(t){e.$set(e.genItem,"apply_amount",t)},expression:"genItem.apply_amount"}})],1)])],1),a("a-row",{staticClass:"mb20",attrs:{type:"flex",align:"middle"}},[a("a-col",{attrs:{span:3}},[e._v("单笔提现限额")]),a("a-col",{attrs:{span:3}},[a("div",[a("a-input",{attrs:{type:"number"},model:{value:e.genItem.max_apply_amount,callback:function(t){e.$set(e.genItem,"max_apply_amount",t)},expression:"genItem.max_apply_amount"}})],1)])],1),a("a-row",{staticClass:"mb20",attrs:{type:"flex",align:"middle"}},[a("a-col",{attrs:{span:3}},[e._v("提现手续费")]),a("a-col",{attrs:{span:3}},[a("div",[a("a-input",{attrs:{type:"number"},model:{value:e.genItem.service_charge,callback:function(t){e.$set(e.genItem,"service_charge",t)},expression:"genItem.service_charge"}})],1)]),a("a-col",{attrs:{span:5}},[a("div",{staticClass:"ml10"},[e._v("%（按百分比设置）")])])],1)],1)])],1),a("a-button",{attrs:{type:"primary",size:"large"},on:{click:e.subConfig}},[e._v("确定")])],1)},n=[],r=(a("5ab2"),a("6d57"),a("e10e"),a("163d"),a("ce3c")),o=a("9f3a"),l=a("4428");function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var m=(s={computed:{},components:{UploadImage:l["a"]},data:function(){return{memberImg:[],groupImg:[],pointImg:[],tabType:"platform_attrs",settingShow:!1,ree_order_amount_item:{new_user_rules:{status:1},decr_rules:[],free_rules:{free_order_amount:"",status:1}},allBanner:[],genItem:{status:"1",commission_rate:"",apply_amount:"",last_day:"",key:"platform_attrs",service_charge:"",max_apply_amount:""}}}},Object(r["a"])(s,"computed",c({},Object(o["c"])({integarlConfig:function(e){return e.config.integarlConfig},tradeConfig:function(e){return e.config.tradeConfig},free_order_amount:function(e){return e.config.free_order_amount},banners:function(e){return e.config.banners},shopTel:function(e){return e.config.shopTel},genLists:function(e){return e.config.genLists}}))),Object(r["a"])(s,"watch",{}),Object(r["a"])(s,"mounted",(function(){this.getIntegral({params:{page:"group",group:"platform_attrs"}})})),Object(r["a"])(s,"methods",c(c({},Object(o["b"])({getIntegral:"config/getConfig",setIntegral:"config/setConfig"})),{},{inputChange:function(){this.genItem.commission_rate>1&&(this.$message.warning("推广员分润扣点不能大于1"),this.genItem.commission_rate=1)},changeGen:function(){this.genItem.status=Number(this.genItem.status)>0?"0":"1"},new_user_rules_change:function(){this.ree_order_amount_item.new_user_rules.status=this.ree_order_amount_item.new_user_rules.status>0?0:1},free_rules_change:function(){this.ree_order_amount_item.free_rules.status=this.ree_order_amount_item.free_rules.status>0?0:1},imgCallBack:function(){this.banners[0].value&&(this.memberImg=this.banners[0].value),this.banners[1].value&&(this.pointImg=this.banners[1].value),this.banners[2].value&&(this.groupImg=this.banners[2].value),this.allBanner=this.banners,console.log(this.banners)},myCallback:function(){this.free_order_amount.free_rules&&(this.ree_order_amount_item=this.free_order_amount),this.settingShow=!0},changeSw:function(e,t){var a;"trade"===t?a=this.tradeConfig[e]:"integarl"===t&&(a=this.integarlConfig[e]),a.value=a.value>0?0:1},changeRules:function(e){var t=this.ree_order_amount_item.decr_rules[e];t.status=t.status>0?0:1},delRules:function(e){this.ree_order_amount_item.decr_rules.splice(e,1)},addRules:function(){var e={order_amount:"",decr_post_fee:"",status:1};this.ree_order_amount_item.decr_rules.push(e)},subConfig:function(){if("integral"===this.tabType)this.setIntegral({page:"shop",group:"point",value:this.integarlConfig});else if("base"===this.tabType)this.setIntegral({page:"shop",group:"base",value:this.shopTel});else if("ree_order_amount"===this.tabType)this.setIntegral({page:"shop",group:"free_order_amount",value:this.ree_order_amount_item});else if("trade"===this.tabType)this.setIntegral({page:"shop",group:"trade",value:this.tradeConfig});else if("platform_attrs"===this.tabType){var e={page:"group",group:"platform_attrs",value:[this.genItem]};console.log(JSON.stringify(e)),this.setIntegral(e)}else"member_img"===this.tabType&&(this.allBanner[0].value=this.$refs.uploadImage.uploadImageList,this.allBanner[1].value=this.$refs.uploadImage2.uploadImageList,this.allBanner[2].value=this.$refs.uploadImage3.uploadImageList,this.setIntegral({page:"shop",group:"banner",value:this.allBanner}),console.log(this.allBanner))}})),Object(r["a"])(s,"watch",{genLists:function(){this.genLists.length>0&&(this.genItem=this.genLists[0])}}),s),p=m,g=(a("be98"),a("9ca4")),d=Object(g["a"])(p,i,n,!1,null,"5ada10e5",null);t["default"]=d.exports},b907:function(e,t,a){},be98:function(e,t,a){"use strict";var s=a("f16e"),i=a.n(s);i.a},f16e:function(e,t,a){}}]);