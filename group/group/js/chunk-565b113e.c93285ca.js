(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-565b113e"],{"22a7":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",{staticClass:"mb20"},[a("search",{attrs:{type:"month"},on:{search:t.getSearch}})],1),a("div",{staticClass:"mb20"},[a("a-button",{attrs:{type:"primary"},on:{click:t.downloadMonth}},[t._v("数据导出")])],1),a("div",{staticClass:"total"},t._l(t.total_data,(function(e,n){return a("span",{key:n,staticClass:"span"},[t._v(t._s(e.title+": ")),a("span",{staticClass:"text"},[t._v(t._s(e.value))])])})),0),t.fields&&t.fields.length>0?[a("a-table",{staticClass:"mr10",attrs:{scroll:{x:1100,y:700},columns:t.fields,dataSource:t.lists,pagination:!1},scopedSlots:t._u([{key:"action",fn:function(e,n){return a("div",{},[0===n.status?a("span",{staticClass:"col-666"},[t._v("未结算")]):a("span",{staticClass:"col-666"},[t._v("已结算")])])}}],null,!1,3985451293)}),a("div",{staticClass:"pageBox"},[a("a-pagination",{attrs:{total:t.pages.total,showTotal:function(t){return"共 "+t+" 条数据"},pageSize:t.pages.per_page,defaultCurrent:1},on:{change:t.pageChange}})],1)]:t._e()],2)},s=[],o=(a("5ab2"),a("e10e"),a("6d57"),a("ce3c")),r=a("9f3a"),i=a("4021"),c=a("b893");function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){Object(o["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var h={components:{search:i["a"]},computed:u({},Object(r["c"])({lists:function(t){return t.settle.monthLists},pages:function(t){return t.settle.monthPages},fields:function(t){return t.settle.monthFields},monthDownload:function(t){return t.settle.monthDownload},total_data:function(t){return t.settle.total_fee_data}})),data:function(){return{params:{pages:1,gm_id:"",shop_id:void 0,settle_time_start:"",settle_time_end:""}}},watch:{monthDownload:function(){this.fields.pop(),Object(c["a"])(this.monthDownload.list,this.fields,"店铺月结算报表")}},methods:u(u({},Object(r["b"])({getTradeMonth:"settle/getTradeMonth",submitOrderSettle:"settle/submitOrderSettle",getDownloadMonth:"settle/getDownloadMonth"})),{},{downloadMonth:function(){this.$success({title:"温馨提示！",content:"数据正在导出,请稍后"});var t={shop_id:this.params.shop_id,gm_id:this.params.gm_id,settle_time_start:this.params.settle_time_start,settle_time_end:this.params.settle_time_end};this.getDownloadMonth(t)},pageChange:function(t){this.params.page=t,this.getTradeMonth(this.params)},submitTrade:function(t){this.submitOrderSettle({params:{id:t.id,status:1},callback:this.getTradeMonth(this.params)})},getSearch:function(t){this.params=t,this.params.page=1,this.getTradeMonth(this.params)},export2Excels:function(t,e,n){var s=[],o=[],r=t;e.forEach((function(t,e){s.push(t.title),o.push(t.dataIndex)})),console.log(t,e);var i=this.formatJson(o,r);console.log(i),Promise.all([a.e("chunk-87d7ce5a"),a.e("chunk-d33b169a")]).then(a.bind(null,"4bf8")).then((function(t){t.export_json_to_excel({header:s,data:i,filename:n,autoWidth:!0,bookType:"xlsx"})}))},formatJson:function(t,e){return e.map((function(e){return t.map((function(t){return e[t]}))}))}}),mounted:function(){this.getTradeMonth(this.params)}},p=h,d=(a("e985"),a("9ca4")),f=Object(d["a"])(p,n,s,!1,null,"15b14849",null);e["default"]=f.exports},"6ab3":function(t,e,a){},e985:function(t,e,a){"use strict";var n=a("6ab3"),s=a.n(n);s.a}}]);