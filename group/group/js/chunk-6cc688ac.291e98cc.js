(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6cc688ac"],{"237e":function(t,e,a){},d9fc:function(t,e,a){"use strict";var s=a("237e"),r=a.n(s);r.a},dbca:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("a-form",{attrs:{model:t.formItem}},[a("a-form-item",{attrs:{label:"店铺名称","label-col":{md:4,xs:24},"wrapper-col":{md:7,xs:24},required:!0}},[a("a-input",{attrs:{disabled:0!==t.id,placeholder:"请输入店铺名称"},model:{value:t.formItem.shop_name,callback:function(e){t.$set(t.formItem,"shop_name",e)},expression:"formItem.shop_name"}})],1),a("a-form-item",{attrs:{label:"商家账号","label-col":{md:4,xs:24},"wrapper-col":{md:7,xs:24},required:!0}},[a("a-select",{attrs:{disabled:0!==t.id,placeholder:"请输入店铺账号"},model:{value:t.formItem.seller_name,callback:function(e){t.$set(t.formItem,"seller_name",e)},expression:"formItem.seller_name"}},t._l(t.accountList,(function(e,s){return a("a-select-option",{key:s,attrs:{value:e.username}},[t._v(t._s(e.username))])})),1),a("p",[a("span",{staticClass:"col-red"},[t._v("*")]),t._v("商家账号指商家自己注册或者平台添加的商家账号")])],1),a("a-form-item",{attrs:{label:"店铺场地类型","label-col":{md:4,xs:24},"wrapper-col":{md:7,xs:24},required:!0}},[a("a-radio-group",{attrs:{disabled:0!==t.id,name:"radioGroup"},model:{value:t.formItem.internal,callback:function(e){t.$set(t.formItem,"internal",e)},expression:"formItem.internal"}},[a("a-radio",{attrs:{value:0}},[t._v("外场")]),a("a-radio",{attrs:{value:1}},[t._v("内场")])],1)],1),a("a-form-item",{attrs:{label:"选择店铺类型","label-col":{md:4,xs:24},"wrapper-col":{md:7,xs:24},required:!0}},[a("a-radio-group",{attrs:{disabled:0!==t.id,name:"radioGroup"},model:{value:t.formItem.shop_type,callback:function(e){t.$set(t.formItem,"shop_type",e)},expression:"formItem.shop_type"}},[a("a-radio",{attrs:{value:"flag"}},[t._v("旗舰店")]),a("a-radio",{attrs:{value:"self"}},[t._v("自营店")]),a("a-radio",{attrs:{value:"brand"}},[t._v("品牌店")])],1)],1),1===t.formItem.internal?a("a-form-item",{attrs:{label:"选择店铺楼层","label-col":{md:4,xs:24},"wrapper-col":{md:7,xs:24},required:!0}},[a("a-select",{attrs:{placeholder:"选择店铺楼层"},model:{value:t.formItem.floors_id,callback:function(e){t.$set(t.formItem,"floors_id",e)},expression:"formItem.floors_id"}},t._l(t.listData,(function(e,s){return a("a-select-option",{key:s,attrs:{value:e.id}},[t._v(t._s(e.name))])})),1)],1):t._e(),1===t.formItem.internal?a("a-form-item",{attrs:{label:"选择商场分类","label-col":{md:4,xs:24},"wrapper-col":{md:20,xs:24},required:!0}},[a("a-cascader",{staticStyle:{width:"345px"},attrs:{allowClear:!0,options:t.option,placeholder:"选择分类"},on:{change:t.classChange},model:{value:t.selectClass,callback:function(e){t.selectClass=e},expression:"selectClass"}}),a("div",{staticClass:"col-666"},[t._v("*品牌分类可多选")]),t.formItem.rel_cat_id_data.length>0?a("div",{staticClass:"fxBox1"},[t._v("已选分类：\n        "),t._l(t.formItem.rel_cat_id_data,(function(e,s){return a("div",{key:s,staticClass:"mr10 btns",attrs:{size:"small"}},[t._v(t._s(e.one.label)+"/"+t._s(e.two.label)+"\n          "),a("a-icon",{staticClass:"closeItem",attrs:{type:"close"},on:{click:function(e){return t.del(s)}}})],1)})),a("a",{on:{click:t.delAll}},[t._v("删除全部")])],2):t._e()],1):t._e(),a("a-form-item",{attrs:{"wrapper-col":{offset:4,md:12,xs:24}}},[a("a-button",{attrs:{type:"primary"},on:{click:t.submitShop}},[t._v("提交")]),a("a-button",{staticClass:"ml10",attrs:{type:"danger"},on:{click:function(e){return t.$router.back(-1)}}},[t._v("返回")])],1)],1)],1)},r=[],o=(a("5ab2"),a("6d57"),a("e10e"),a("ce3c")),i=a("9f3a");function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function n(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){Object(o["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var c={components:{},computed:n({},Object(i["c"])({listData:function(t){return t.floor.lists},option:function(t){return t.marketClass.optionTree},accountList:function(t){return t.shop.accountlists},detail:function(t){return t.shop.detail}})),data:function(){return{brand_id:"",shopType:1,selectClass:[],id:0,formItem:{shop_name:"",seller_name:"",shop_type:"flag",floors_id:"",rel_cat_id:[],rel_cat_id_data:[],internal:0},selectItem:[]}},methods:n(n({},Object(i["b"])({addShop:"shop/addShop",fetchLists:"floor/fetchLists",treeLists:"marketClass/getTree",accountLists:"shop/accountLists",getDetail:"shop/getDetail",editShop:"shop/editShop"})),{},{delAll:function(){this.formItem.rel_cat_id=[],this.$set(this.formItem,"rel_cat_id_data",[])},init:function(){this.id=this.detail.id,this.formItem={id:this.detail.id,shop_name:this.detail.shop_name,seller_name:this.detail.seller_name,shop_type:this.detail.shop_type,floors_id:this.detail.floors_id,rel_cat_id:this.detail.rel_cat_id,internal:this.detail.internal},this.detail.rel_cat_id_data?this.$set(this.formItem,"rel_cat_id_data",JSON.parse(this.detail.rel_cat_id_data)):this.$set(this.formItem,"rel_cat_id_data",[])},del:function(t){this.formItem.rel_cat_id_data.splice(t,1),this.formItem.rel_cat_id.splice(t,1)},classChange:function(t,e){2==t.length&&-1===this.formItem.rel_cat_id.indexOf(t[1])&&(this.formItem.rel_cat_id.push(t[1]),this.formItem.rel_cat_id_data.push({one:e[0],two:e[1]}),this.selectClass=[])},submitShop:function(){"brand"!==this.formItem.shop_type&&(this.formItem.brand_id=""),0===this.id?this.addShop({formItem:this.formItem}):this.editShop({formItem:this.formItem})}}),mounted:function(){this.fetchLists({xx:1}),this.treeLists({xx:1123}),this.accountLists({obj:{per_page:1e5}}),this.$route.params.id&&this.getDetail({id:this.$route.params.id})},watch:{detail:function(){this.init(),console.log(this.detail)}}},d=c,m=(a("d9fc"),a("9ca4")),p=Object(m["a"])(d,s,r,!1,null,"97a867f4",null);e["default"]=p.exports}}]);