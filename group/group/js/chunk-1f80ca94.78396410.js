(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1f80ca94","chunk-2d0c8d9c","chunk-2d0c8d9c"],{"06a2":function(t,e,s){"use strict";var a=s("fc81")(!0);s("492d")(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,s=this._i;return s>=e.length?{value:void 0,done:!0}:(t=a(e,s),this._i+=t.length,{value:t,done:!1})}))},"2aa3":function(t,e,s){"use strict";var a=s("6179"),i=s("5a88"),o="Set";t.exports=s("fea3")(o,(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return a.def(i(this,o),t=0===t?0:t,t)}},a)},"41fd":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("a-button",{attrs:{icon:"search",size:"small"},on:{click:function(e){t.selectTableModal=!0}}},[t._v("\n      点击选择\n    ")]),s("a-modal",{attrs:{destroyOnClose:"",title:"请点击选择列表数据",width:"80%",visible:t.selectTableModal},on:{ok:t.selectOk,cancel:t.handleCancel}},[s("a-select",{staticStyle:{width:"130px"},attrs:{defaultValue:"全部"},on:{change:t.handleSelectChange}},[s("a-select-option",{attrs:{value:"全部"}},[t._v("全部")]),t._l(t.shopList,(function(e,a){return s("a-select-option",{attrs:{value:e.id}},[t._v("\n          "+t._s(e.shop_name)+"\n        ")])}))],2),s("a-input-search",{staticClass:"mb10",staticStyle:{width:"18rem"},attrs:{enterButton:"",placeholder:"请输入名称或名称关键字搜索"},on:{search:t.shopSearch}}),t.listField&&t.listField.length>0?[s("a-table",{attrs:{scroll:{x:1100,y:700},rowKey:function(t){return t.id},columns:t.listField,dataSource:t.listData,pagination:!1,rowSelection:{selectedRowKeys:t.selectedRowKeys,type:t.selectionRef,onChange:t.selectRows}},scopedSlots:t._u([{key:"image_url",fn:function(t){return s("img",{attrs:{src:t,alt:"",height:"50"}})}}],null,!1,2738063263)}),s("div",{staticClass:"pageBox"},[s("a-pagination",{attrs:{total:t.pages.total,showTotal:function(t){return"共 "+t+" 条数据"},pageSize:t.pages.per_page,defaultCurrent:t.listPage.current},on:{change:t.pageChange}})],1)]:t._e(),"selection"===t.selectionRef?s("div",[s("Button",{on:{click:function(e){return t.handleSelectAll(!0)}}},[t._v("全选")]),s("Button",{on:{click:function(e){return t.handleSelectAll(!1)}}},[t._v("取消全选")])],1):t._e()],2)],1)},i=[],o=(s("6d57"),s("5748")),l=(s("e204"),s("163d"),s("c968")),n=s("7886"),r=s("e1d2"),c={name:"TableSelect",props:{selectionRef:String,selectionUrl:String,showType:String,goodId:Array,shopId:Number,shopList:Array},data:function(){return{selectTableModal:!1,highlightRow:!1,selectedRowKeys:[],listField:[],listData:[],pages:{},ids:[],shopType:"",listPage:{total:n["a"].default_page_total,current:1,page_size:n["a"].default_page_count},selectData:[],all:{page:[],list:[],def:[]},newSelectionUrl:"",selectRowId:0,selectShopId:null}},methods:{pageChange:function(t){this.getLists(t),this.listPage.current=t},shopSearch:function(t){this.getLists(1,t)},getLists:function(t,e){var s=this,a={page:t,keyword:e,shop_state:1,goods_state:1};this.selectShopId&&(a.shop_id=this.selectShopId),r["a"].get(this.newSelectionUrl,{params:a}).then((function(a){0===a.data.code?(s.listField=a.data.result.field,s.pages=a.data.result.lists,s.listField[2].scopedSlots={customRender:"image_url"},s.listData=a.data.result.lists.data,(-1===s.all.page.indexOf(t)||e||s.selectShopId)&&(s.all.page.push(t),a.data.result.lists.data.map((function(t){var e=s.all.def.findIndex((function(e){return t.id===e.id}));-1===e&&s.all.list.push(t)})))):l["a"].showError(a.data.code)})).catch((function(t){l["a"].showError(t)}))},handleSelectAll:function(t){this.$refs.selection.selectAll(t)},selectRow:function(t){this.selectRowId=t.id,this.selectData=t},selectRows:function(t,e){if("radio"===this.selectionRef)this.selectedRowKeys=t,this.selectData=e,e!==[]&&(this.ids[0]=e[0].id),"shop"===this.showType&&(this.shopType=e[0].shop_type);else{if(t.length>20)return void l["a"].showError("最多只能选取20个商品");this.selectedRowKeys.length=0,this.selectedRowKeys=Object(o["a"])(t)}},selectOk:function(){var t=this;if("shop"===this.showType){var e={shop_type:this.shopType,data:this.selectData};this.$emit("on-select-ok",e)}else{var s=function(t){for(var e=[],s={},a=0;a<t.length;a++)s[t[a].id]||(e.push(t[a]),s[t[a].id]=!0);return e},a=s(this.all.list);this.selectedRowKeys.map((function(e){a.map((function(s){s.id===e&&t.selectData.push(s)}))})),this.$emit("on-select-ok",this.selectData),this.listPage.current=1,this.getLists(1)}this.ids=[],this.selectData=[],this.selectTableModal=!1},handleCancel:function(){this.getLists(1),this.listPage.current=1,this.ids=[],this.selectData=[],this.selectTableModal=!1},initSelect:function(){for(var t=this.listData,e=this.ids,s=0;s<t.length;s++)-1!==e.indexOf(t[s].id)&&this.selectedRowKeys.push(s)},handleSelectChange:function(t){this.selectShopId=Number(t)}},mounted:function(){var t=this;if("checkbox"===this.selectionRef){this.selectedRowKeys=[];var e=[];""!==this.goodId&&this.goodId.forEach((function(s,a){e.push(Number(s.id)),t.all.def.push(s),t.all.list.push(s)})),this.selectedRowKeys=e}else if(this.shopId){var s=[this.shopId];this.selectedRowKeys=s}this.newSelectionUrl=this.selectionUrl,this.getLists(1)},watch:{selectionUrl:function(t){this.newSelectionUrl=t,this.getLists(1)},listData:function(){this.initSelect()}}},u=c,d=s("9ca4"),h=Object(d["a"])(u,a,i,!1,null,"47934c56",null);e["a"]=h.exports},4428:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"UploadBox"},[t._l(t.uploadImageList,(function(e,a){return s("div",{key:a,staticClass:"upload-image-list"},["finished"===e.status?[s("img",{attrs:{src:e.url}}),s("div",{staticClass:"upload-image-list-cover"},[s("a-icon",{attrs:{type:"eye"},nativeOn:{click:function(s){return t.handleView(e.url)}}}),s("a-icon",{attrs:{type:"delete"},nativeOn:{click:function(s){return t.handleRemove(e)}}})],1)]:[e.showProgress?s("a-progress",{attrs:{percent:e.percentage,"hide-info":""}}):t._e()]],2)})),s("Upload",{ref:"upload",staticStyle:{display:"inline-block",width:"60px"},attrs:{name:"image",headers:t.headers,"show-upload-list":!1,"default-file-list":t.defaultImageList,"on-success":t.handleSuccess,format:["jpg","jpeg","png"],"max-size":2048,"on-format-error":t.handleFormatError,"on-exceeded-size":t.handleMaxSize,"before-upload":t.handleBeforeUpload,multiple:t.isMultiple,type:"drag",action:t.uploadImageUrl}},[s("div",{staticStyle:{width:"58px",height:"58px","line-height":"58px"}},[s("a-icon",{attrs:{type:"upload",size:"20"}})],1)]),s("AlbumPics",{attrs:{isMultiple:!0,maximum:t.surplusNum},on:{selectOk:t.selectPics}},[s("div",{staticClass:"ant-upload ant-upload-drag"},[s("a-icon",{attrs:{type:"camera",size:"20"}})],1)])],2),s("a-modal",{attrs:{title:"查看图片"},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[t.visible?s("img",{staticStyle:{width:"100%"},attrs:{src:t.imageUrl}}):t._e(),s("div",{attrs:{slot:"footer"},slot:"footer"})])],1)},i=[],o=(s("6d57"),s("163d"),s("3830")),l=s("804d"),n=s("564b"),r=s("ca00"),c={name:"UploadImage",components:{AlbumPics:n["a"],Upload:o["a"]},props:{defaultImageList:Array,maximum:Number,shopId:Number},data:function(){return{headers:{Accept:"application/json",Authorization:"Bearer ".concat(Object(r["a"])())},uploadImageUrl:l["a"].baseURL+l["a"].action.upload_image,imageUrl:"",visible:!1,isMultiple:1!==this.maximum,uploadImageList:[],surplusNum:this.maximum-this.defaultImageList.length}},methods:{handleView:function(t){this.imageUrl=t,this.visible=!0},handleRemove:function(t){var e=this.$refs.upload.fileList;this.$refs.upload.fileList.splice(e.indexOf(t),1),this.uploadImageList=this.$refs.upload.fileList,this.surplusNum++},handleSuccess:function(t,e){console.log(JSON.stringify(t)),0===t.code?(e.url=t.result.pic_url,this.surplusNum--):this.$notification.warning({message:"Warning Notice",description:t.message})},handleFormatError:function(){this.$Notice.warning({message:"The file format is incorrect",description:"上传文件格式不正确"})},handleMaxSize:function(){this.$Notice.warning({message:"Exceeding file size limit",description:"上传文件过大."})},handleBeforeUpload:function(){var t=this.uploadImageList.length<this.maximum;return t||this.$notification.warning({message:"Notice",description:"最多只能上传".concat(this.maximum,"张图片, 请删除后再上传")}),t},selectPics:function(t){var e=this;t.forEach((function(t){var s={status:"finished",url:t.pic_url};e.uploadImageList.push(s),e.surplusNum--}))}},mounted:function(){this.uploadImageList=this.$refs.upload.fileList},watch:{defaultImageList:function(){this.uploadImageList=this.defaultImageList,this.surplusNum=this.surplusNum-this.uploadImageList.length}}},u=c,d=(s("4876"),s("9ca4")),h=Object(d["a"])(u,a,i,!1,null,"7fd14ca1",null);e["a"]=h.exports},4876:function(t,e,s){"use strict";var a=s("b907"),i=s.n(a);i.a},5748:function(t,e,s){"use strict";function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var s=0,a=new Array(e);s<e;s++)a[s]=t[s];return a}function i(t){if(Array.isArray(t))return a(t)}function o(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function l(t,e){if(t){if("string"===typeof t)return a(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?a(t,e):void 0}}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(t){return i(t)||o(t)||l(t)||n()}s.d(e,"a",(function(){return r}))},"5a88":function(t,e,s){var a=s("fb68");t.exports=function(t,e){if(!a(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},6179:function(t,e,s){"use strict";var a=s("064e").f,i=s("e005"),o=s("ef91"),l=s("4ce5"),n=s("a73b"),r=s("206c"),c=s("492d"),u=s("475d"),d=s("1157"),h=s("149f"),p=s("f71f").fastKey,f=s("5a88"),g=h?"_s":"size",v=function(t,e){var s,a=p(e);if("F"!==a)return t._i[a];for(s=t._f;s;s=s.n)if(s.k==e)return s};t.exports={getConstructor:function(t,e,s,c){var u=t((function(t,a){n(t,u,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[g]=0,void 0!=a&&r(a,s,t[c],t)}));return o(u.prototype,{clear:function(){for(var t=f(this,e),s=t._i,a=t._f;a;a=a.n)a.r=!0,a.p&&(a.p=a.p.n=void 0),delete s[a.i];t._f=t._l=void 0,t[g]=0},delete:function(t){var s=f(this,e),a=v(s,t);if(a){var i=a.n,o=a.p;delete s._i[a.i],a.r=!0,o&&(o.n=i),i&&(i.p=o),s._f==a&&(s._f=i),s._l==a&&(s._l=o),s[g]--}return!!a},forEach:function(t){f(this,e);var s,a=l(t,arguments.length>1?arguments[1]:void 0,3);while(s=s?s.n:this._f){a(s.v,s.k,this);while(s&&s.r)s=s.p}},has:function(t){return!!v(f(this,e),t)}}),h&&a(u.prototype,"size",{get:function(){return f(this,e)[g]}}),u},def:function(t,e,s){var a,i,o=v(t,e);return o?o.v=s:(t._l=o={i:i=p(e,!0),k:e,v:s,p:a=t._l,n:void 0,r:!1},t._f||(t._f=o),a&&(a.n=o),t[g]++,"F"!==i&&(t._i[i]=o)),t},getEntry:v,setStrong:function(t,e,s){c(t,e,(function(t,s){this._t=f(t,e),this._k=s,this._l=void 0}),(function(){var t=this,e=t._k,s=t._l;while(s&&s.r)s=s.p;return t._t&&(t._l=s=s?s.n:t._t._f)?u(0,"keys"==e?s.k:"values"==e?s.v:[s.k,s.v]):(t._t=void 0,u(1))}),s?"entries":"values",!s,!0),d(e)}}},"63a6":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"content"},[s("div",{staticClass:"detail-wrap"},[s("div",{staticClass:"tit"},[s("div",{staticClass:"fl"},[t._v("轮播图\n          "),s("a-tag",{staticClass:"ml10",attrs:{color:"blue"}},[t._v("建议使用尺寸750*420像素、大小不超过1M的图片")])],1),s("a-button",{staticClass:"fr",attrs:{icon:"edit",type:"primary"},on:{click:function(e){t.createCarousel=!0}}},[t._v("编辑")]),s("CreateCarousel",{attrs:{"is-open":t.createCarousel,page:"index",group:"carousel","max-num":5,modelName:"轮播图","default-data":t.siteConfig.carousel},on:{"on-change":t.handleCarousel}})],1),s("a-table",{attrs:{scroll:{x:1100,y:700},rowKey:function(t){return t.id},columns:t.carousels.field,dataSource:t.siteConfig.carousel},scopedSlots:t._u([{key:"image_url",fn:function(t){return s("img",{attrs:{src:t,alt:"",height:"50"}})}}])})],1)]),s("div",{staticClass:"content"},[s("div",{staticClass:"detail-wrap"},[s("div",{staticClass:"tit"},[s("div",{staticClass:"fl"},[t._v("品牌推荐\n          "),s("a-tag",{staticClass:"ml10",attrs:{color:"blue"}},[t._v("\n            品牌推荐尺寸标准(展示效果)：前两张图片建议345*150像素、后四张建议170*300像素、大小不超过1M的图片\n          ")])],1),s("a-button",{staticClass:"fr",attrs:{type:"primary",icon:"ios-create"},on:{click:function(e){t.createQuickNav=!0}}},[t._v("编辑")]),s("CreateCarousel",{attrs:{"is-open":t.createQuickNav,page:"index",group:"brands_item","max-num":6,modelName:"品牌推荐","default-data":t.siteConfig.brands_item},on:{"on-change":t.handleCarousel}})],1),s("a-table",{attrs:{scroll:{x:1100,y:700},rowKey:function(t){return t.id},columns:t.quickNavs.field,dataSource:t.siteConfig.brands_item},scopedSlots:t._u([{key:"image_url",fn:function(t){return s("img",{attrs:{src:t,alt:"",height:"50"}})}}])})],1)]),s("div",{staticClass:"content"},[s("div",{staticClass:"detail-wrap"},[s("div",{staticClass:"tit"},[s("div",{staticClass:"fl"},[t._v("热门分类\n          "),s("a-tag",{staticClass:"ml10",attrs:{color:"blue"}},[t._v("建议使用尺寸225x130像素以上、大小不超过1M的图片")])],1),s("a-button",{staticClass:"fr",attrs:{type:"primary",icon:"ios-create"},on:{click:function(e){t.createBestSelect=!0}}},[t._v("编辑")]),s("CreateCarousel",{attrs:{"is-open":t.createBestSelect,page:"index",group:"hotClass","max-num":6,modelName:"热门分类","default-data":t.siteConfig.hotClass},on:{"on-change":t.handleCarousel}})],1),s("a-table",{attrs:{scroll:{x:1100,y:700},rowKey:function(t){return t.id},columns:t.bestSelect.field,dataSource:t.siteConfig.hotClass},scopedSlots:t._u([{key:"image_url",fn:function(t){return s("img",{attrs:{src:t,alt:"",height:"50"}})}}])})],1)]),s("div",{staticClass:"content"},[s("div",{staticClass:"detail-wrap"},[s("div",{staticClass:"tit"},[s("div",{staticClass:"fl"},[t._v("商品轮播\n          "),s("a-tag",{staticClass:"ml10",attrs:{color:"blue"}},[t._v("banner图建议750*250像素、大小不超过1M的图片")])],1),s("a-button",{staticClass:"fr",attrs:{type:"primary",icon:"ios-create"},on:{click:function(e){t.createDaySelect=!0}}},[t._v("编辑")]),s("CreateCarousel",{attrs:{"is-open":t.createDaySelect,page:"index",group:"goods_swiper",type:"show_list","max-num":4,modelName:"商品轮播",isGoodsSwiper:!0,"default-data":t.siteConfig.goods_swiper},on:{"on-change":t.handleCarousel}})],1),s("a-table",{attrs:{scroll:{x:1100,y:700},rowKey:function(t){return t.id},columns:t.goodsSwiper.field,dataSource:t.siteConfig.goods_swiper},scopedSlots:t._u([{key:"image_url",fn:function(t){return s("img",{attrs:{src:t,alt:"",height:"50"}})}},{key:"value",fn:function(e,a){return s("span",{},[t._v("\n          "+t._s(a.value.length)+"\n        ")])}}])})],1)]),s("div",{staticClass:"content"},[s("div",{staticClass:"detail-wrap"},[s("div",{staticClass:"tit"},[s("div",{staticClass:"fl"},[t._v("热卖单品\n          "),s("a-tag",{staticClass:"ml10",attrs:{color:"blue"}},[t._v("banner图建议使用尺寸750x200~250像素以上、大小不超过1M的图片")])],1),s("a-button",{staticClass:"fr",attrs:{type:"primary",icon:"ios-create"},on:{click:function(e){t.createHotGoods=!0}}},[t._v("编辑")]),s("CreateCarousel",{attrs:{"is-open":t.createHotGoods,page:"index",group:"hot_goods",type:"show_list","max-num":1,modelName:"热卖单品",hotGoods:!0,"default-data":t.siteConfig.hot_goods},on:{"on-change":t.handleCarousel}})],1),s("a-table",{attrs:{scroll:{x:1100,y:700},rowKey:function(t){return t.id},columns:t.hotGoods.field,dataSource:t.hotValue},scopedSlots:t._u([{key:"image_url",fn:function(t){return s("img",{attrs:{src:t,alt:"",height:"50"}})}},{key:"goods_image",fn:function(t){return s("img",{attrs:{src:t,alt:"",height:"50"}})}}])})],1)])])},i=[],o=(s("5ab2"),s("6d57"),s("e10e"),s("ce3c")),l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("a-modal",{attrs:{width:"80%",visible:t.isOpenModal,closable:!1,maskClosable:!1,title:"添加"+t.modelName},on:{ok:t.handleOk,cancel:t.handleCancel}},[s("a-table",{attrs:{scroll:{x:1100,y:700},rowKey:function(t){return t.id},columns:t.listField,dataSource:t.listData,pagination:!1},scopedSlots:t._u([{key:"image_url",fn:function(t,e){return s("div",{},[s("img",{attrs:{src:t,alt:"",height:"50"}})])}},{key:"value",fn:function(e,a){return"商品轮播"===t.modelName?s("div",{},[t._v("\n        "+t._s(a.value.length)+"\n      ")]):"热卖单品"===t.modelName?s("div",{},[t._v(t._s(a.value.length)+"个商品")]):t._e()}},{key:"action",fn:function(e,a,i){return s("span",{},[s("a-button",{staticClass:"btn-success mr10",attrs:{size:"small"},on:{click:function(e){return t.upRow(i)}}},[t._v("上移")]),s("a-button",{staticClass:"btn-info mr10",attrs:{size:"small"},on:{click:function(e){return t.editRow(i,a)}}},[t._v("编辑")]),s("a-button",{staticClass:"btn-error",attrs:{size:"small"},on:{click:function(e){return t.remove(i)}}},[t._v("删除")])],1)}}],null,!0)}),s("a-button",{staticStyle:{width:"100%","margin-top":"10px"},attrs:{size:"large",type:"dashed"},on:{click:t.addItem}},[t._v("添加")])],1),s("a-modal",{attrs:{title:"添加"+t.modelName,visible:t.addModal,maskClosable:!1},on:{ok:t.addCarousel,cancel:t.handleCancelAdd}},[s("a-form",{attrs:{"label-width":80}},[t.addModal?s("a-form-item",{attrs:{label:"图片"}},[s("UploadImage",{ref:"uploadImage",attrs:{defaultImageList:t.defaultImage,maximum:1}})],1):t._e(),t.hotGoods?s("a-form-item",{attrs:{label:"图片跳转地址"}},[s("a-select",{attrs:{placeholder:"请选择图片跳转地址"},model:{value:t.hotGoodsUrl,callback:function(e){t.hotGoodsUrl=e},expression:"hotGoodsUrl"}},[s("a-select-option",{attrs:{value:"seckill"}},[t._v("商城秒杀")]),s("a-select-option",{attrs:{value:"group"}},[t._v("拼团购")]),s("a-select-option",{attrs:{value:"integral"}},[t._v("积分商城")]),s("a-select-option",{attrs:{value:"couponList"}},[t._v("领券中心")]),s("a-select-option",{attrs:{value:"customActivity"}},[t._v("自定义活动")])],1)],1):t._e(),t.hotGoods?t._e():s("a-form-item",{attrs:{label:"标题"}},[s("a-input",{attrs:{placeholder:"输入标题"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),"show_image"===t.type?s("div",[s("a-form-item",{attrs:{label:"数据类型"}},[s("a-select",{staticStyle:{width:"200px"},on:{change:t.showTypeChange},model:{value:t.show_type,callback:function(e){t.show_type=e},expression:"show_type"}},["品牌推荐"!==t.modelName&&"热门分类"!==t.modelName?s("a-select-option",{attrs:{value:"goods"}},[t._v("商品")]):t._e(),"品牌推荐"!==t.modelName?s("a-select-option",{attrs:{value:"class"}},[t._v("分类")]):t._e(),s("a-select-option",{attrs:{value:"integral"}},[t._v("积分商城")]),s("a-select-option",{attrs:{value:"group"}},[t._v("拼团购")]),s("a-select-option",{attrs:{value:"seckill"}},[t._v("商城秒杀")]),"品牌推荐"!==t.modelName?s("a-select-option",{attrs:{value:"couponList"}},[t._v("领券中心")]):t._e(),"热门分类"!==t.modelName?s("a-select-option",{attrs:{value:"shop"}},[t._v("店铺")]):t._e(),s("a-select-option",{attrs:{value:"customActivity"}},[t._v("自定义活动")])],1)],1),"coupon"!==t.show_type&&"integral"!==t.show_type&&"group"!==t.show_type?s("a-form-item",{attrs:{label:"展示数据"}},["class"===t.show_type?s("div",[s("a-cascader",{attrs:{options:t.classTree,placeholder:"请选择分类"},on:{change:t.selectClassChange},model:{value:t.selectClass,callback:function(e){t.selectClass=e},expression:"selectClass"}})],1):t._e(),"goods"===t.show_type?s("div",[t._v("\n            已选择商品ID："+t._s(t.value)+"\n            "),s("TableSelect",{attrs:{selectionRef:"radio",showType:"goods",selectionUrl:t.selectionGoodsUrl},on:{"on-select-ok":t.selectedGoods}},[t._v("选择商品")])],1):t._e(),"shop"===t.show_type?s("div",[t._v("\n            已选择店铺ID："+t._s(t.value)+"\n            "),s("TableSelect",{attrs:{shopId:Number(t.value),selectionRef:"radio",showType:"shop",selectionUrl:t.selectionShopUrl},on:{"on-select-ok":t.selectedShop}},[t._v("选择店铺")])],1):t._e(),"url"===t.show_type?s("div",[s("a-input",{attrs:{placeholder:"输入链接地址"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1):t._e()]):t._e()],1):t._e(),"show_list"===t.type?s("div",[s("a-form-item",{attrs:{label:"展示数据"}},[t._v("\n          已选择商品：\n          "),s("a-row",{attrs:{gutter:16,type:"flex"}},t._l(t.value,(function(e){return s("a-col",{key:e.id,staticClass:"selectGoodsItem",attrs:{span:"8"}},[s("img",{attrs:{src:e.goods_image,width:"100%"}}),s("p",{staticClass:"goods-name"},[t._v(t._s(e.goods_name))]),s("p",{staticClass:"col-red"},[t._v(t._s(e.goods_price))])])})),1),s("TableSelect",{attrs:{goodId:t.value,selectionRef:"checkbox",showType:"goods",selectionUrl:t.selectionGoodsUrl,shopList:t.shopLists},on:{"on-select-ok":t.selectedGoodsList}},[t._v("选择商品")])],1)],1):t._e(),t.isGoodsSwiper&&!t.hotGoods?s("div",[s("a-form-item",{attrs:{label:"查看更多按钮跳转"}},[s("a-radio-group",{attrs:{name:"radioGroup"},model:{value:t.toType,callback:function(e){t.toType=e},expression:"toType"}},[s("a-radio",{attrs:{value:"class"}},[t._v("分类")]),s("a-radio",{attrs:{value:"shop"}},[t._v("店铺")]),s("a-radio",{attrs:{value:"activity"}},[t._v("营销活动")])],1)],1),s("div",["class"===t.toType?s("a-cascader",{attrs:{options:t.classTree,placeholder:"请选择分类"},on:{change:t.classChange},model:{value:t.allClass,callback:function(e){t.allClass=e},expression:"allClass"}}):"activity"===t.toType?s("a-select",{attrs:{placeholder:"请选择活动"},on:{change:t.shopChange},model:{value:t.activityId,callback:function(e){t.activityId=e},expression:"activityId"}},[s("a-select-option",{attrs:{value:"seckill"}},[t._v("商城秒杀")]),s("a-select-option",{attrs:{value:"group"}},[t._v("拼团购")]),s("a-select-option",{attrs:{value:"integral"}},[t._v("积分商城")]),s("a-select-option",{attrs:{value:"couponList"}},[t._v("领券中心")]),s("a-select-option",{attrs:{value:"customActivity"}},[t._v("自定义活动")])],1):s("a-select",{attrs:{placeholder:"请选择店铺"},on:{change:t.shopChange},model:{value:t.shopId,callback:function(e){t.shopId=e},expression:"shopId"}},t._l(t.shopLists,(function(e,a){return s("a-select-option",{key:a,attrs:{value:e.id}},[t._v(t._s(e.shop_name))])})),1)],1)],1):t._e()],1)],1)],1)},n=[],r=(s("163d"),s("c968")),c=s("b893"),u=s("804d"),d=s("4428"),h=s("41fd"),p=s("9f3a"),f=[{value:"goods",label:"商品"},{value:"shop",label:"店铺"},{value:"class",label:"分类"}],g=[{title:"图片",dataIndex:"image_url",key:"image_url",scopedSlots:{customRender:"image_url"}},{title:"标题",dataIndex:"title",key:"title"},{title:"展示数据类型",dataIndex:"show_type",key:"show_type"},{title:"展示数据内容",dataIndex:"value",key:"value"}],v=[{title:"图片",dataIndex:"image_url",scopedSlots:{customRender:"image_url"}},{title:"标题",dataIndex:"title"},{title:"展示数据类型",dataIndex:"show_type"},{title:"展示数据内容",dataIndex:"value"}],m=[{title:"banner图片",dataIndex:"image_url",scopedSlots:{customRender:"image_url"}},{title:"标题",dataIndex:"title"},{title:"展示数据类型",dataIndex:"show_type"},{title:"商品展示数量",dataIndex:"value",scopedSlots:{customRender:"value"}}],_=[{title:"商品图片",dataIndex:"goods_image",scopedSlots:{customRender:"goods_image"}},{title:"商品名称",dataIndex:"goods_name"},{title:"商品价格",dataIndex:"goods_price"}];function y(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function b(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?y(Object(s),!0).forEach((function(e){Object(o["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):y(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var w={name:"CreateCarousel",components:{UploadImage:d["a"],TableSelect:h["a"]},computed:b({},Object(p["c"])({classTree:function(t){return t.config.classTree},shopLists:function(t){return t.config.shopLists}})),props:{isOpen:Boolean,defaultData:Array,page:String,group:String,maxNum:Number,type:{type:String,default:"show_image"},hotGoods:Boolean,modelName:String,isGoodsSwiper:Boolean},data:function(){return{isOpenModal:!1,addModal:!1,toType:"class",shopType:f,selectClass:[],defaultImage:[],listField:[],listData:[],image_url:"",title:"",show_type:"",class_id:"",value:[],shopName:"",allClass:[],selectionGoodsUrl:u["a"].action.goods_lists,selectionShopUrl:u["a"].action.shop_lists,editRowIndex:-1,shopId:"",activityId:"",selectShopType:"",hotGoodsUrl:""}},methods:b(b({},Object(p["b"])({getClassTree:"config/getClassTree",getShopLists:"config/getShopLists"})),{},{shopChange:function(t){for(var e=0;e<this.shopLists.length;e++)this.shopLists[e].id===t&&(this.selectShopType=this.shopLists[e].shop_type)},classChange:function(t){3===t.length&&(this.allClass=t,this.class_id=t[2])},selectClassChange:function(t){3===t.length&&(this.selectClass=t,this.value=t[2])},addItem:function(){this.defaultImage=[],this.editRowIndex=-1,this.addModal=!0,this.title="",this.value=[],this.selectClass=[],this.toType="",this.shopId="",this.activityId="",this.allClass=[]},handleOk:function(){var t={page:this.page,group:this.group,value:this.listData};this.$emit("on-change",!this.isOpen,t)},showTypeChange:function(){this.editRowIndex>-1&&(this.listData[this.editRowIndex].value="",this.value="")},handleCancel:function(){this.$emit("on-change",!this.isOpen)},handleCancelAdd:function(){this.addModal=!1},addCarousel:function(){var t={};if(this.hotGoods){if(this.editRowIndex>-1){var e=this.$refs.uploadImage.uploadImageList;return 1===e.length&&(this.image_url=e[0].url),t={value:this.value,image_url:this.image_url,hotGoodsUrl:this.hotGoodsUrl},this.listData.splice(this.editRowIndex,1,t),this.editRowIndex=-1,this.value=[],this.hotGoodsUrl="",void(this.addModal=!1)}if(this.listData.length<this.maxNum){var s=this.$refs.uploadImage.uploadImageList;1===s.length&&(this.image_url=s[0].url),t={value:this.value,image_url:this.image_url,hotGoodsUrl:this.hotGoodsUrl},this.listData.push(t),this.hotGoodsUrl="",this.value=[]}}else{if(this.editRowIndex>-1){var a=this.$refs.uploadImage.uploadImageList;return 1===a.length&&(this.image_url=a[0].url),t={image_url:this.image_url,title:this.title,show_type:this.show_type,value:this.value},console.log(this.value),"shop"===t.show_type&&(this.shopChange(t.value),t.selectShopType=this.selectShopType),this.isGoodsSwiper&&(t.toType=this.toType,"class"===this.toType?(t.toId=this.class_id,t.allClass=this.allClass):"activity"===this.toType?t.toId=this.activityId:t.toId=this.shopId),this.listData.splice(this.editRowIndex,1,t),this.editRowIndex=-1,this.image_url="",this.title="",this.show_type="",this.value=[],void(this.addModal=!1)}if(this.listData.length<this.maxNum){var i=this.$refs.uploadImage.uploadImageList;1===i.length&&(this.image_url=i[0].url),t={image_url:this.image_url,title:this.title,show_type:this.show_type,value:this.value},"shop"===t.show_type&&(this.shopChange(t.value),t.selectShopType=this.selectShopType),this.isGoodsSwiper&&(t.toType=this.toType,"class"===this.toType?(t.toId=this.class_id,t.allClass=this.allClass):"activity"===this.toType?t.toId=this.activityId:t.toId=this.shopId),console.log(t),this.listData.push(t),this.$refs.uploadImage.handleRemove(this.$refs.uploadImage.uploadImageList[0]),this.image_url="",this.title="",this.show_type="",this.editRowIndex=-1,this.value=[]}else r["a"].showError("最多只能添加".concat(this.maxNum,"条数据"))}this.addModal=!1},selectedGoods:function(t){this.value=t[0].id},selectedShop:function(t){console.log(t),this.value=t.data[0].id,this.shopName=t.data[0].shop_name},selectedGoodsList:function(t){this.value=t},remove:function(t){this.listData.splice(t,1)},upRow:function(t){if(0!==t){var e=t-1;this.listData[t]=this.listData.splice(e,1,this.listData[t])[0]}else r["a"].showError("无法再上移了，已经是第一个了")},editRow:function(t,e){console.log(e),this.defaultImage=[{status:"finished",url:e.image_url}],this.image_url=e.image_url,this.title=e.title,this.show_type=e.show_type,e.value?this.value=e.value:this.value=[],e.selectShopType&&(this.selectShopType=e.selectShopType),this.editRowIndex=t,this.addModal=!0,e.selectClass&&(this.selectClass=e.selectClass),this.isGoodsSwiper&&(this.toType=e.toType,"class"===this.toType?(this.allClass=e.allClass,this.class_id=e.toId):"activity"===this.toType?this.activityId=e.toId:this.shopId=Number(e.toId)),this.hotGoods&&(this.hotGoodsUrl=e.hotGoodsUrl)},mergeField:function(){var t=[{title:"操作",dataIndex:"action",key:"action",scopedSlots:{customRender:"action"}}];"show_list"===this.type?(this.listField=Object(c["b"])(v,t),"热卖单品"===this.modelName&&(this.listField[3].title="热卖商品已选数量",this.listField[3].scopedSlots={customRender:"value"})):this.listField=Object(c["b"])(g,t),"商品轮播"===this.modelName&&(this.listField=Object(c["b"])(m,t))}}),mounted:function(){if(this.mergeField(),this.isGoodsSwiper){this.getClassTree();var t={per_page:1e8,shop_state:1};this.getShopLists(t)}},watch:{isOpen:function(){this.isOpenModal=this.isOpen,this.mergeField()},defaultData:function(t){this.listData=t}}},C=w,S=(s("f18d"),s("9ca4")),I=Object(S["a"])(C,l,n,!1,null,"23199540",null),x=I.exports;function k(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function O(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?k(Object(s),!0).forEach((function(e){Object(o["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):k(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var T={name:"index",components:{CreateCarousel:x},data:function(){return{createCarousel:!1,createQuickNav:!1,createDaySelect:!1,createBestSelect:!1,createDayBest:!1,createHotGoods:!1,hotValue:[],carousels:{field:g,data:[]},quickNavs:{field:g,data:[]},daySelect:{field:v,data:[]},bestSelect:{field:g,data:[]},dayBest:{field:v,data:[]},hotGoods:{field:_,data:[]},goodsSwiper:{field:m,data:[]}}},computed:O({},Object(p["c"])({siteConfig:function(t){return t.config.configItems}})),watch:{siteConfig:function(){this.siteConfig.hot_goods.length>0&&(this.hotValue=this.siteConfig.hot_goods[0].value)}},methods:O(O({},Object(p["b"])({getSiteConfig:"config/getSiteConfig"})),{},{handleCarousel:function(t,e){if(this.createCarousel=t,this.createQuickNav=t,this.createDaySelect=t,this.createBestSelect=t,this.createDayBest=t,this.createHotGoods=t,void 0!==e&&("hot_goods"===e.group||"goods_swiper"===e.group)&&e.value.length>0){for(var s=[],a=0;a<e.value.length;a++){s.push([]);for(var i=0;i<e.value[a].value.length;i++)s[a].push(e.value[a].value[i].id)}for(var o=0;o<s.length;o++)e.value[o].value=s[o];console.log(e)}void 0!==e&&(this.$store.dispatch("config/addSiteConfig",{params:e}),r["a"].reload())}}),mounted:function(){this.getSiteConfig({page:"index"})}},R=T,N=(s("b422"),Object(S["a"])(R,a,i,!1,null,"87c13666",null));e["default"]=N.exports},8625:function(t,e,s){},b422:function(t,e,s){"use strict";var a=s("8625"),i=s.n(a);i.a},b893:function(t,e,s){"use strict";s.d(e,"a",(function(){return o})),s.d(e,"b",(function(){return l}));var a=s("5748");s("2aa3"),s("06a2"),s("ec25"),s("6d57");function i(t,e){return e.map((function(e){return t.map((function(t){return e[t]}))}))}function o(t,e,a){var o=[],l=[],n=t;e.forEach((function(t,e){o.push(t.title),l.push(t.dataIndex)}));var r=i(l,n);Promise.all([s.e("chunk-87d7ce5a"),s.e("chunk-d33b169a")]).then(s.bind(null,"4bf8")).then((function(t){t.export_json_to_excel({header:o,data:r,filename:a,autoWidth:!0,bookType:"xlsx"})}))}var l=function(t,e){return Array.from(new Set([].concat(Object(a["a"])(t),Object(a["a"])(e))))}},b907:function(t,e,s){},bbf16:function(t,e,s){},e204:function(t,e,s){"use strict";var a=s("e46b"),i=s("013f")(6),o="findIndex",l=!0;o in[]&&Array(1)[o]((function(){l=!1})),a(a.P+a.F*l,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),s("0e8b")(o)},ec25:function(t,e,s){"use strict";var a=s("4ce5"),i=s("e46b"),o=s("008a"),l=s("d0bc"),n=s("2285"),r=s("eafa"),c=s("ebc3"),u=s("f878");i(i.S+i.F*!s("d0c5")((function(t){Array.from(t)})),"Array",{from:function(t){var e,s,i,d,h=o(t),p="function"==typeof this?this:Array,f=arguments.length,g=f>1?arguments[1]:void 0,v=void 0!==g,m=0,_=u(h);if(v&&(g=a(g,f>2?arguments[2]:void 0,2)),void 0==_||p==Array&&n(_))for(e=r(h.length),s=new p(e);e>m;m++)c(s,m,v?g(h[m],m):h[m]);else for(d=_.call(h),s=new p;!(i=d.next()).done;m++)c(s,m,v?l(d,g,[i.value,m],!0):i.value);return s.length=m,s}})},f18d:function(t,e,s){"use strict";var a=s("bbf16"),i=s.n(a);i.a},f71f:function(t,e,s){var a=s("ec45")("meta"),i=s("fb68"),o=s("e042"),l=s("064e").f,n=0,r=Object.isExtensible||function(){return!0},c=!s("238a")((function(){return r(Object.preventExtensions({}))})),u=function(t){l(t,a,{value:{i:"O"+ ++n,w:{}}})},d=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,a)){if(!r(t))return"F";if(!e)return"E";u(t)}return t[a].i},h=function(t,e){if(!o(t,a)){if(!r(t))return!0;if(!e)return!1;u(t)}return t[a].w},p=function(t){return c&&f.NEED&&r(t)&&!o(t,a)&&u(t),t},f=t.exports={KEY:a,NEED:!1,fastKey:d,getWeak:h,onFreeze:p}},fea3:function(t,e,s){"use strict";var a=s("e7ad"),i=s("e46b"),o=s("bf16"),l=s("ef91"),n=s("f71f"),r=s("206c"),c=s("a73b"),u=s("fb68"),d=s("238a"),h=s("d0c5"),p=s("399f"),f=s("1e5b");t.exports=function(t,e,s,g,v,m){var _=a[t],y=_,b=v?"set":"add",w=y&&y.prototype,C={},S=function(t){var e=w[t];o(w,t,"delete"==t||"has"==t?function(t){return!(m&&!u(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return m&&!u(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,s){return e.call(this,0===t?0:t,s),this})};if("function"==typeof y&&(m||w.forEach&&!d((function(){(new y).entries().next()})))){var I=new y,x=I[b](m?{}:-0,1)!=I,k=d((function(){I.has(1)})),O=h((function(t){new y(t)})),T=!m&&d((function(){var t=new y,e=5;while(e--)t[b](e,e);return!t.has(-0)}));O||(y=e((function(e,s){c(e,y,t);var a=f(new _,e,y);return void 0!=s&&r(s,v,a[b],a),a})),y.prototype=w,w.constructor=y),(k||T)&&(S("delete"),S("has"),v&&S("get")),(T||x)&&S(b),m&&w.clear&&delete w.clear}else y=g.getConstructor(e,t,v,b),l(y.prototype,s),n.NEED=!0;return p(y,t),C[t]=y,i(i.G+i.W+i.F*(y!=_),C),m||g.setStrong(y,t,v),y}}}]);